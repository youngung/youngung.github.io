<!DOCTYPE html> <html> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title> 데이터 재료과학 | 재료역학 연구실 </title> <meta name="author" content=" "> <meta name="description" content="데이터 분석/해석 및 시각화(그래프) 등 기초 컴퓨터 활용 능력"> <meta name="keywords" content="jekyll, jekyll-theme, academic-website"> <link rel="stylesheet" href="/assets/css/bootstrap.min.css?a4b3f509e79c54a512b890d73235ef04"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"> <link defer rel="stylesheet" href="/assets/css/academicons.min.css?f0b7046b84e425c55f3463ac249818f5"> <link defer rel="stylesheet" href="/assets/css/scholar-icons.css?62b2ac103a88034e6882a5be5f3e2772"> <link defer rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons&amp;display=swap"> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-github.css?591dab5a4e56573bf4ef7fd332894c99" media="" id="highlight_theme_light"> <link rel="shortcut icon" href="data:image/svg+xml,&lt;svg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20100%20100%22&gt;&lt;text%20y=%22.9em%22%20font-size=%2290%22&gt;%E2%9A%9B%EF%B8%8F&lt;/text&gt;&lt;/svg&gt;"> <link rel="stylesheet" href="/assets/css/main.css?d41d8cd98f00b204e9800998ecf8427e"> <link rel="canonical" href="https://youngung.github.io/lectures/1_2_data_mse/"> <script src="/assets/js/theme.js?a81d82887dd692e91686b43de4542f18"></script> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-native.css?5847e5ed4a4568527aa6cfab446049ca" media="none" id="highlight_theme_dark"> <script>
    initTheme();
  </script> <link defer rel="stylesheet" type="text/css" href="https://tikzjax.com/v1/fonts.css"> <script src="/assets/js/distillpub/template.v2.js"></script> <script src="/assets/js/distillpub/transforms.v2.js"></script> </head> <body> <d-front-matter> <script async type="text/json">
      {
            "title": "데이터 재료과학",
            "description": "데이터 분석/해석 및 시각화(그래프) 등 기초 컴퓨터 활용 능력",
            "published": "September 19, 2025",
            "authors": [
              
              {
                "author": "Youngung Jeong",
                "authorURL": "https://youngung.github.io/",
                "affiliations": [
                  {
                    "name": "Changwon National University",
                    "url": ""
                  }
                ]
              }
              
            ],
            "katex": {
              "delimiters": [
                {
                  "left": "$",
                  "right": "$",
                  "display": false
                },
                {
                  "left": "$$",
                  "right": "$$",
                  "display": true
                }
              ]
            }
          }
    </script> </d-front-matter> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top" role="navigation"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/"> 재료역학 연구실 </a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/">about </a> </li> <li class="nav-item "> <a class="nav-link" href="/blog/">blog </a> </li> <li class="nav-item "> <a class="nav-link" href="/publications/">publications </a> </li> <li class="nav-item "> <a class="nav-link" href="/equipment/">equipment </a> </li> <li class="nav-item active"> <a class="nav-link" href="/lectures/">lectures <span class="sr-only">(current)</span> </a> </li> <li class="nav-item "> <a class="nav-link" href="/projects/">projects </a> </li> <li class="nav-item "> <a class="nav-link" href="/repositories/">repositories </a> </li> <li class="nav-item "> <a class="nav-link" href="/cv/">cv </a> </li> <li class="nav-item "> <a class="nav-link" href="/people/">people </a> </li> <li class="nav-item"> <button id="search-toggle" title="Search" onclick="openSearchModal()"> <span class="nav-link">ctrl k <i class="ti ti-search"></i></span> </button> </li> <li class="toggle-container"> <button id="light-toggle" title="Change theme"> <i class="ti ti-sun-moon" id="light-toggle-system"></i> <i class="ti ti-moon-filled" id="light-toggle-dark"></i> <i class="ti ti-sun-filled" id="light-toggle-light"></i> </button> </li> </ul> </div> </div> </nav> <progress id="progress" value="0"> <div class="progress-container"> <span class="progress-bar"></span> </div> </progress> </header> <div class="post distill"> <d-title> <h1>데이터 재료과학</h1> <p>데이터 분석/해석 및 시각화(그래프) 등 기초 컴퓨터 활용 능력</p> </d-title> <d-byline></d-byline> <d-article> <d-contents> <nav class="l-text figcaption"> <h3>Contents</h3> <div> <a href="#orientation">Orientation</a> </div> <div> <a href="#week1">Week1</a> </div> <div> <a href="#week2">Week2</a> </div> <div> <a href="#week3">Week3</a> </div> <div> <a href="#week4">Week4</a> </div> <div> <a href="#week5">Week5</a> </div> <div> <a href="#week6">Week6</a> </div> </nav> </d-contents> <h1 id="orientation">Orientation</h1> <h2 id="수업-소개">수업 소개</h2> <ul> <li>정영웅, <a href="https://changwon.ac.kr" rel="external nofollow noopener" target="_blank">국립창원대학교</a> 재료금속공학과, <img class="emoji" title=":kr:" alt=":kr:" src="https://github.githubassets.com/images/icons/emoji/unicode/1f1f0-1f1f7.png" height="20" width="20"> </li> </ul> <p>In the order of preference:</p> <ul id="contact" class="tab" data-tab="c3fd48ea-df65-478a-81b9-be25190a2953" data-name="contact"> <li class="active" id="contact--door-"> <a href="#"><img class="emoji" title=":door:" alt=":door:" src="https://github.githubassets.com/images/icons/emoji/unicode/1f6aa.png" height="20" width="20"> </a> </li> <li id="contact--mailbox-"> <a href="#"><img class="emoji" title=":mailbox:" alt=":mailbox:" src="https://github.githubassets.com/images/icons/emoji/unicode/1f4eb.png" height="20" width="20"> </a> </li> <li id="contact--phone-"> <a href="#"><img class="emoji" title=":phone:" alt=":phone:" src="https://github.githubassets.com/images/icons/emoji/unicode/260e.png" height="20" width="20"> </a> </li> </ul> <ul class="tab-content" id="c3fd48ea-df65-478a-81b9-be25190a2953" data-name="contact"> <li class="active"> <p><strong>52호관 212호</strong></p> </li> <li> <p><strong>yjeong@changwon.ac.kr</strong></p> </li> <li> <p><strong>055-213-3694</strong></p> </li> </ul> <ul> <li> <p>분석 및 해석 기술의 발달로 다량의 데이터들이 생성되고 있다. 재료공학에서 데이터 해석 및 분석 능력의 중요성이 날로 높아지고 있다. 본 수업을 통해 학생들은 기초적인 데이터 분석/해석 및 시각화(그래프)를 위해 필요한 다양한 툴들을 익히고, 재료공학적 문제에 활용하는 경험을 하게된다.</p> </li> <li> <p>관련 분야에서 가장 널리 활용되는 <a href="https://python.org" rel="external nofollow noopener" target="_blank">Python</a> 언어를 활용하고, <a href="https://jupyter.org" rel="external nofollow noopener" target="_blank">JuPyter</a> 환경을 활용하겠다.</p> </li> <li> <p>재료공학 전공자에게 필요한 데이터 분석, IO, 해석 및 시각화 (그래프) 등 기초 컴퓨터활용 능력을 길러주기 위한 강의로 설계되었다. 본 교과목은 국립창원대학교 재료금속과 <strong>전공 선택</strong>교과이나, 이후 개설될 <strong>수치해석</strong>, <strong>이동현상</strong>, <strong>기초 전산역학</strong> 등의 교과과정의 이해를 위해서 선수강하길 권한다.</p> </li> <li> <p>교수자는 Apple사의 MacOS 컴퓨터를 활용해 MS사의 <a href="https://code.visualstudio.com" rel="external nofollow noopener" target="_blank">VScode</a>내의 <a href="https://jupyter.org" rel="external nofollow noopener" target="_blank">JuPyter</a> 활용할 계획이며, 강의자료는 본 웹페이지를 활용할 계획이다. 수업시간에 보여질 시연/실습 환경과 무관하게, Windows, MacOS, Linux 등 다양한 컴퓨터 환경에서 실습 가능하다. 다만, 실습이 가능한 환경으로 개별 학생들의 환경을 세팅하는 것은 각자의 몫이다. 필요하다면 수업 전후에 도움을 줄 수 있다.</p> </li> <li> <p><a href="https://google.com" rel="external nofollow noopener" target="_blank">구글</a> 계정을 활용해서 <a href="https://colab.google" rel="external nofollow noopener" target="_blank">Google Colab</a>와 <a href="https://drive.google.com/" rel="external nofollow noopener" target="_blank">Google Drive</a>를 함께 활용해서 실습 가능하다. 인터넷 연결된 웹브라우저를 활용해서 실습 가능하나 추천하는 환경은 아니다. 이 경우 환경 세팅이 비교적 수월하겠으나, 인터넷 접속이 유지되어야 하고 계산 속도가 다소 느릴 수 있다.</p> </li> <li> <p>(optional) 스스로 프로그램을 작성하고, 더욱 세밀하게 관리하고 싶다면 <a href="https://ko.wikipedia.org/wiki/%EA%B9%83_(%EC%86%8C%ED%94%84%ED%8A%B8%EC%9B%A8%EC%96%B4)" rel="external nofollow noopener" target="_blank">git</a>을 배우고, 나아가 <a href="https://github.com" rel="external nofollow noopener" target="_blank">GitHub</a> 계정을 만들고 결합하길 권한다.</p> </li> </ul> <h2 id="세부-수업-목표">세부 수업 목표</h2> <ul> <li>수강자의 기초 파이썬 활용 능력 향상</li> <li>최신 데이터 해석/분석 툴의 기초적 활용법을 익힘 <ul> <li><a href="https://python.org" rel="external nofollow noopener" target="_blank">Python</a></li> <li><a href="https://jupyter.org" rel="external nofollow noopener" target="_blank">JuPyter</a></li> <li><a href="https://numpy.org" rel="external nofollow noopener" target="_blank">NumPy</a></li> <li><a href="https://matplotlib.org" rel="external nofollow noopener" target="_blank">matplotlib</a></li> </ul> </li> <li>이를 활용해 재료공학 기초 문제 해결을 위해 활용 경험</li> <li>기초적 이해를 바탕으로, 재료공학 실전 문제 해결에 응용 경험</li> <li>나아가 더욱 어려운 문제를 <strong>스스로</strong> 해결하기 위해 필요한 배경 지식 습득</li> </ul> <p><br><br> <br><br> <br><br> <br><br></p> <hr> <h1 id="week1">Week1</h1> <ul> <li>수업 소개, 규칙, 평가 방법, 실습 환경 소개</li> </ul> <h2 id="수업-01-1">수업 01-1</h2> <h3 id="강의-자료-및-수업-진행-방식">강의 자료 및 수업 진행 방식</h3> <ol> <li>강의 자료는 <a href="https://ko.wikipedia.org/wiki/%EB%A7%88%ED%81%AC%EB%8B%A4%EC%9A%B4" rel="external nofollow noopener" target="_blank">markdown</a> 파일로 작성되어, <a href="https://youngung.github.io">홈페이지에</a>내의 <code class="language-plaintext highlighter-rouge">lectures</code> 메뉴 게시물을 활용한다. 게시물은 상시로 업데이트가 될 수 있다. 홈페이지 환경에서 ‘theme’을 바꿔 화이트/블랙 모드로 바꿀 수 있다.</li> <li>반드시 인터넷 연결 환경을 활용하거나, 미리 수업 자료를 출력해와야 한다. (수업 태도/참여 점수 반영)</li> <li>수업 시간에 필요한 개념에 대해 설명하고, 교수자가 필요한 시연을 보인다. 이후 수강생들과 함께 차근차근 실습하거나, 혹은 학생들이 <strong>스스로</strong> 그리고 <strong>혼자서</strong> 실습해보길 바란다. <img class="emoji" title=":pray:" alt=":pray:" src="https://github.githubassets.com/images/icons/emoji/unicode/1f64f.png" height="20" width="20"> </li> <li>강의 자료에 실습 가능한 <strong>Python</strong> 코드 snippet은 아래와 같은 박스로 표기된다.</li> </ol> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nf">print</span><span class="p">(</span><span class="sh">'</span><span class="s">Hello, world</span><span class="sh">'</span><span class="p">)</span>
</code></pre></div></div> <ol> <li>때에 따라서, 기존에 입력한 코드가 이미 실행되어 있어야만 제대로 작동하는 경우가 있으니, 긴장을 늦추지 않고 수업의 진행을 잘 따라오길 바란다.</li> <li>수업 시간에 배운 내용을 반드시 스스로 ‘반복’해서 실습해봐야 한다. 그리고 수업 시간내 내어준 예제를 혼자서 해보는 경험이 필요하다.</li> </ol> <pre><code class="language-mermaid">graph LR
first([개념 설명]) ==&gt; second([교수자 시연]) ==&gt;
third([학생 시연/실습]) ==&gt; fourth([수업후 개념 복습])
==&gt; fifth([수업 후 스스로 혼자 연습])  ==&gt; first
</code></pre> <h4 id="실습--코딩">실습 / 코딩</h4> <ul> <li>궁극적으로 적절한 ‘툴’ 활용을 익히는 것이 목표이기 때문에, <strong>코딩</strong>이 필요하다.</li> <li>코딩은 <img class="emoji" title=":bike:" alt=":bike:" src="https://github.githubassets.com/images/icons/emoji/unicode/1f6b2.png" height="20" width="20">, <img class="emoji" title=":ski:" alt=":ski:" src="https://github.githubassets.com/images/icons/emoji/unicode/1f3bf.png" height="20" width="20">, <img class="emoji" title=":snowboarder:" alt=":snowboarder:" src="https://github.githubassets.com/images/icons/emoji/unicode/1f3c2.png" height="20" width="20">,<img class="emoji" title=":tennis:" alt=":tennis:" src="https://github.githubassets.com/images/icons/emoji/unicode/1f3be.png" height="20" width="20">, <img class="emoji" title=":surfer:" alt=":surfer:" src="https://github.githubassets.com/images/icons/emoji/unicode/1f3c4.png" height="20" width="20">, <img class="emoji" title=":guitar:" alt=":guitar:" src="https://github.githubassets.com/images/icons/emoji/unicode/1f3b8.png" height="20" width="20">, <img class="emoji" title=":soccer:" alt=":soccer:" src="https://github.githubassets.com/images/icons/emoji/unicode/26bd.png" height="20" width="20">등과 비슷하다. 모두 <strong>몸</strong>으로 익혀야 한다. 남(교수자)이 하는 걸 백번 보는 것 보다 직접 해보는 것이 낫다.</li> <li>어려운 개념은 반복해서 예습을 풀어보며 <strong>머리</strong> 뿐만 아니라 <strong>몸</strong>(muscle memory<img class="emoji" title=":muscle:" alt=":muscle:" src="https://github.githubassets.com/images/icons/emoji/unicode/1f4aa.png" height="20" width="20">)으로 익히기!</li> <li>개인이 계속해서 쓸 컴퓨터<img class="emoji" title=":computer:" alt=":computer:" src="https://github.githubassets.com/images/icons/emoji/unicode/1f4bb.png" height="20" width="20">가 없이 코딩을 배우는 건 매우 어렵다.</li> <li>실습을 할때마다 본인의 실습환경에 맞게 컴퓨터 환경을 다시 세팅하거나, 필요한 패키지를 설치하는 건 여간 귀찮고 어려운 일이 아니다.</li> <li>실습에 맞는 개인용 컴퓨터를 <strong>필수</strong>적으로 보유하고 있길 권한다.</li> <li>각종 cloud service나, 학교 전산실습실 이용을 추천하지 않는 건 실습 환경을 직접 세팅해볼 수가 없기 때문이다.</li> <li>다시 한번 얘기하지만 반드시 스스로 실습해봐야 한다. <ul> <li>예제를 일일이 다 쳐보기</li> <li>결과를 스스로 살펴봐야 합니다.</li> <li>예제를 바꿔서 적용하고 그 변화를 살펴보기.</li> <li>예시로 주어진 프로그램을 ‘한줄씩’, 한 명령어씩 다 뜯어서 살펴보기 (hacking)</li> <li>반드시 개인용 컴퓨터 필요 - 실습</li> <li>친구/가족에게 빌리세요. 없다면 학교에서 대여도 합니다 - <a href="https://chains.changwon.ac.kr/nonstop/lend/sub.php?group_code=e0000010&amp;subgroup_code=es000043" rel="external nofollow noopener" target="_blank">링크</a> </li> <li>그외 기타 사정으로 수업을 듣고 싶으나 노트북 준비가 어렵다면 교수에게 상담 요청하시오</li> <li> <img class="emoji" title=":raising_hand:" alt=":raising_hand:" src="https://github.githubassets.com/images/icons/emoji/unicode/1f64b.png" height="20" width="20"> <img class="emoji" title=":grey_question:" alt=":grey_question:" src="https://github.githubassets.com/images/icons/emoji/unicode/2754.png" height="20" width="20"> </li> </ul> </li> <li> <p>영문 키보드 반드시 숙지 필요</p> <ul> <li>영타가 느리면 그만큼 학습이 느려진다.</li> <li>예시로 주어지는 코드를 모두 직접 입력해봐야 한다.</li> <li>키보드 익히기: 유용한 링크<a href="https://typing.io" rel="external nofollow noopener" target="_blank">1</a>, <a href="https://www.typelit.io" rel="external nofollow noopener" target="_blank">2</a>, <a href="https://typing.works" rel="external nofollow noopener" target="_blank">3</a> …</li> <li>1분에 300타 정도의 속도는 나와야 하지 않겠어요?</li> </ul> </li> <li>각종 기호들 위치 익히기! 평소에 쓰지 않은 다양한 부호가 컴퓨터에 있습니다. 위치와 생김새, 이름을 익혀야 하겠습니다. <ul> <li>`: accent</li> <li>’: single quotation mark</li> <li>”: double quotation mark</li> <li>!: exclamation mark</li> <li>@: ‘at’</li> <li>#: number sign (sharp)</li> <li>$: dollar sign</li> <li>%: percent</li> <li>^: caret</li> <li>&amp;: ampersand</li> <li>*: asterisk</li> <li>(: left parenthesis</li> <li>): right parenthesis</li> <li>-: dash</li> <li>=: equal sign</li> <li>,: comma</li> <li>_: underscore</li> <li>+: plus</li> <li>[: left square bracket</li> <li>]: right square bracket</li> <li>/: slash</li> <li>\: blackslash</li> <li>&lt;: left bracket</li> <li>&gt;: right bracket</li> </ul> </li> <li>수업 시간 예제 반드시 스스로 해보기 <ul> <li>스스로 공부할 때, 혹은 예제를 풀 때 <a href="https://chatgpt.com" rel="external nofollow noopener" target="_blank">ChatGPT</a>에 도움을 받는 건 좋으나 시험에서는 활용 불가!</li> <li>왜 ChatGPT를 시험에 못 쓰게 하냐면, ChatGPT가 실수하는 것을 알아내고 고칠 수 있는 능력 을 갖추지 못하면…</li> </ul> </li> <li>교수자가 사용하는 도구들: MacOS, MS VScode, 기본 terminal, JuPyter notebook, Google Colab … <ul> <li>하지만, 실습은 Windows, MacOS, Linux .. 등 어디서든 가능합니다.</li> <li> <a href="https://colab.google" rel="external nofollow noopener" target="_blank">Google colab</a>에서는 인터넷 연결만 되어 있다면 JuPyter notebook 실습 가능합니다.</li> <li>수업 중간에 인터넷을 통해 몇몇 Python 패키지를 설치해야 할 수도 있으므로, 교내 와이파이 접속 가능해야 함.</li> <li>VS code에 대해 상세히 알고 싶다면 <a href="https://code.visualstudio.com/docs" rel="external nofollow noopener" target="_blank">여기</a>를 통해 알아보자. 영어로 된 문서가 부담스럽거나 어렵다면, 최신 웹브라우저들은 대부분 번역 기능을 제공하니 적극적으로 활용해보길 바란다.</li> </ul> </li> </ul> <h3 id="01-1-4-평가-방법">01-1-4 평가 방법</h3> <ul> <li> <p>출석과 결석 (출석 부를 때 없으면 결석, 수업 시작 30 분 이내 도착하면 이후 <strong>지각</strong>처리)</p> </li> <li> <p>중간/기말 평가</p> <ul> <li>중요한 원리 이해 필요.</li> <li>수업시간 다룬 예제들 중심으로 이해 필요.</li> <li>고득점을 원한다면 변형된 예제들까지 이해하고 적용/응용 가능해야함.</li> <li>평가 항목</li> </ul> </li> </ul> <pre><code class="language-mermaid">pie title 평가 방법
    "출석" : 40
    "중간고사(Questionary/quiz)" : 20
    "기말고사(maybe final interview/project)" : 20
    "수강/실습/과제 태도 및 참여" : 20
</code></pre> <ul> <li> <p>오늘의 과제</p> <ul> <li>파이썬 설치 및 환경 설정 완성 (Python 3.12, <a href="https://jupyter.org" rel="external nofollow noopener" target="_blank">JuPyter</a>, <a href="https://code.visualstudio.com" rel="external nofollow noopener" target="_blank">VS code</a>, pip) <ul> <li>설치 설명 참고 <a href="https://blog.naver.com/dlgusen123/223943489124" rel="external nofollow noopener" target="_blank">링크</a> </li> </ul> </li> <li> <a href="https://youtube.com" rel="external nofollow noopener" target="_blank">YouTube</a>에서 간단한 Python tutorial 영상 찾아서 보고 따라해보기.</li> <li>영문타자 익히기 - <a href="https://www.typelit.io" rel="external nofollow noopener" target="_blank">여기1</a>, <a href="https://www.typing.com/student/lesson/328/common-english-words" rel="external nofollow noopener" target="_blank">여기2</a>, <a href="https://www.speedcoder.net" rel="external nofollow noopener" target="_blank">여기3</a>서 연습해보기.</li> <li>키보드 기호들의 위치 숙지 필요.</li> <li>교내 인터넷 접속 사전에 해보기.</li> <li> <a href="https://colab.google" rel="external nofollow noopener" target="_blank">Google colab</a>에서 Notebook 만들어 실습해보기.</li> <li> <a href="https://colab.google" rel="external nofollow noopener" target="_blank">Google colab</a>활용한다면 아이패드나 갤럭시 탭, 심지어는 핸드폰(?)으로도 실습 가능하다. 하지만 여러 이유로 컴퓨터가 아닌 기기는 추천하지 않는다.</li> </ul> </li> </ul> <h2 id="수업-01-2">수업 01-2</h2> <h3 id="01-2-1-목표">01-2-1 목표</h3> <ul> <li>파이썬 설치 및 환경 설정 완성 (Python 3.12, <a href="https://jupyter.org" rel="external nofollow noopener" target="_blank">JuPyter</a>, <a href="https://code.visualstudio.com" rel="external nofollow noopener" target="_blank">VS code</a>, pip)</li> <li>VS code에서 JuPyter 셋업 &amp; 구동할 수 있다. <ul> <li>몇몇 유용한 extension을 설치하면 더욱 도움이 된다.</li> </ul> </li> <li>Hello, world</li> <li>실습 예시를 모두 이해하고 풀 수 있다.</li> <li>‘Traceback’이해하고 대처할 수 있다: 실습간에 예상했던 대로 결과가 나오지 않고, ‘Traceback’ 이 포함된 메시지를 본다면 알려주세요.</li> </ul> <h3 id="01-2-2-내용">01-2-2 내용</h3> <ul> <li>JuPyter notebook 간단한 키조작 가능</li> <li>셀(cell) 만들기, 지우기, 입력, 이동(navigation) <ul> <li>코드 셀</li> <li>markdown 셀</li> </ul> </li> <li>주석(comment)과 명령문(statement) 구분하기</li> <li>변수 선언과 자료형 (<code class="language-plaintext highlighter-rouge">int</code>, <code class="language-plaintext highlighter-rouge">float</code>, <code class="language-plaintext highlighter-rouge">str</code>, <code class="language-plaintext highlighter-rouge">bool</code>) 이해하기</li> <li> <p>연산자 이해하기</p> <ul> <li>산술 연산자 (더하기, 빼기, 곱하기, 나누기, 지수, 나머지, 몫 … )</li> <li>비교 연산자 (==, !=, &lt;, &gt;, &gt;=, &lt;=, is, is not, in, not in)</li> <li> <p>논리 연산자 (and or)</p> <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="c1"># 1. 값 비교
</span><span class="nf">print</span><span class="p">(</span><span class="mi">5</span> <span class="o">==</span> <span class="mi">5</span><span class="p">)</span>       <span class="c1"># True (값이 같음)
</span><span class="nf">print</span><span class="p">(</span><span class="mi">5</span> <span class="o">!=</span> <span class="mi">3</span><span class="p">)</span>       <span class="c1"># True (값이 다름)
</span><span class="nf">print</span><span class="p">(</span><span class="mi">7</span> <span class="o">&gt;</span> <span class="mi">2</span><span class="p">)</span>        <span class="c1"># True (7이 2보다 큼)
</span><span class="nf">print</span><span class="p">(</span><span class="mi">3</span> <span class="o">&lt;</span> <span class="mi">7</span><span class="p">)</span>        <span class="c1"># True (3이 7보다 작음)
</span><span class="nf">print</span><span class="p">(</span><span class="mi">5</span> <span class="o">&gt;=</span> <span class="mi">5</span><span class="p">)</span>       <span class="c1"># True (5가 5보다 크거나 같음)
</span><span class="nf">print</span><span class="p">(</span><span class="mi">4</span> <span class="o">&lt;=</span> <span class="mi">6</span><span class="p">)</span>       <span class="c1"># True (4가 6보다 작거나 같음)
</span>
<span class="c1"># 2. 객체 동일성 비교
</span><span class="n">a</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<span class="n">b</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<span class="n">c</span> <span class="o">=</span> <span class="n">a</span>

<span class="nf">print</span><span class="p">(</span><span class="n">a</span> <span class="o">==</span> <span class="n">b</span><span class="p">)</span>       <span class="c1"># True  (값이 같음)
</span><span class="nf">print</span><span class="p">(</span><span class="n">a</span> <span class="ow">is</span> <span class="n">b</span><span class="p">)</span>       <span class="c1"># False (메모리 주소 다름)
</span><span class="nf">print</span><span class="p">(</span><span class="n">a</span> <span class="ow">is</span> <span class="n">c</span><span class="p">)</span>       <span class="c1"># True  (같은 객체)
</span><span class="nf">print</span><span class="p">(</span><span class="n">a</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">b</span><span class="p">)</span>   <span class="c1"># True  (다른 객체)
</span>
<span class="c1"># 3. 포함 여부
</span><span class="n">text</span> <span class="o">=</span> <span class="sh">"</span><span class="s">Fe2O3</span><span class="sh">"</span>
<span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">F</span><span class="sh">"</span> <span class="ow">in</span> <span class="n">text</span><span class="p">)</span>      <span class="c1"># True  ('F'가 문자열에 포함됨)
</span><span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">O</span><span class="sh">"</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">text</span><span class="p">)</span>  <span class="c1"># True  ('O'가 문자열에 없음)
</span>
<span class="n">numbers</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<span class="nf">print</span><span class="p">(</span><span class="mi">2</span> <span class="ow">in</span> <span class="n">numbers</span><span class="p">)</span>     <span class="c1"># True  (리스트에 2가 포함됨)
</span><span class="nf">print</span><span class="p">(</span><span class="mi">5</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">numbers</span><span class="p">)</span> <span class="c1"># True  (리스트에 5가 없음)
</span></code></pre></div> </div> </li> </ul> </li> </ul> <h3 id="01-2-3-실습-예시-1">01-2-3 실습 예시 1</h3> <ul> <li> <a href="https://pypi.org/project/pip/" rel="external nofollow noopener" target="_blank">pip</a> 활용하여 아래 패키지 설치 <ul> <li><a href="https://numpy.org" rel="external nofollow noopener" target="_blank">NumPy</a></li> <li><a href="https://scipy.org" rel="external nofollow noopener" target="_blank">SciPy</a></li> <li><a href="https://matplotlib.org" rel="external nofollow noopener" target="_blank">matplotlib</a></li> <li><a href="https://jupyter.org" rel="external nofollow noopener" target="_blank">JuPyter</a></li> </ul> </li> <li>위 package가 설치된 directory 찾아 보기</li> <li>(Windows) 환경변수 살펴보기</li> <li>(Linux/macOS), zsh, bash 등 dotfile 살펴보기</li> </ul> <h3 id="01-2-5-실습-예시-2">01-2-5 실습 예시 2</h3> <ul> <li> <p>인치(inch_leng) 길이를 센치미터(cmeter_leng)로 바꿔서 계산. 센치 미터를 인치로 계산해보기.</p> <ul> <li>25 cm는 몇 inch인가?</li> </ul> \[25 \text{ cm} \times \frac{0.393 \text{ inch}}{1 \text{ cm}}=25 \text{ cm} \times \frac{0.393 \bcancel{\text{ inch}}}{1 \bcancel{\text{cm}}}\] \[=25 \text{ cm} \times 0.393= 9.825 \text{ cm}.\] <ul> <li> <p>170 cm는 몇 inch인가?</p> </li> <li> <p>15 inch에다가 50 cm를 더하면 총 길이가 얼마인가?</p> </li> <li> <p>한쪽이 30 cm 다른 한변이 40 inch라면 총 면적은 어떻게 되나?</p> </li> </ul> </li> </ul> <h3 id="01-2-6-실습-예시-3">01-2-6 실습 예시 3</h3> <ul> <li>각도 degree 를 radian으로 바꾸기</li> </ul> <ul id="ex3-1" class="tab" data-tab="f77bce8d-b8a5-4a21-aefd-4a2932086124" data-name="ex3-1"> <li class="active" id="ex3-1-30--------"> <a href="#">30도를 라디안으? </a> </li> <li id="ex3-1-0-5-radian------"> <a href="#">0.5 radian을 각도로? </a> </li> </ul> <ul class="tab-content" id="f77bce8d-b8a5-4a21-aefd-4a2932086124" data-name="ex3-1"> <li class="active"> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">deg2rad</span><span class="o">=</span><span class="mf">3.141592</span><span class="o">/</span><span class="mf">180.</span>
<span class="n">angle_in_degree</span> <span class="o">=</span> <span class="mi">30</span> <span class="c1">##
</span><span class="n">angle_in_radian</span> <span class="o">=</span> <span class="n">angle_in_degree</span> <span class="o">*</span> <span class="n">deg2rad</span>
</code></pre></div></div> </li> <li> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">rad2deg</span><span class="o">=</span><span class="mi">180</span><span class="o">/</span><span class="mf">3.141592</span>
<span class="n">angle_in_radian</span> <span class="o">=</span> <span class="mf">0.5</span> <span class="c1">##
</span><span class="n">angle_in_angle</span> <span class="o">=</span> <span class="n">angle_in_radian</span> <span class="o">*</span> <span class="n">rad2deg2</span>
</code></pre></div></div> </li> </ul> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">## 예시
</span><span class="n">c</span> <span class="o">=</span> <span class="nf">float</span><span class="p">(</span><span class="nf">input</span><span class="p">(</span><span class="sh">"</span><span class="s">섭씨 온도: </span><span class="sh">"</span><span class="p">))</span>
<span class="n">f</span> <span class="o">=</span> <span class="n">c</span> <span class="o">*</span> <span class="mi">9</span><span class="o">/</span><span class="mi">5</span> <span class="o">+</span> <span class="mi">32</span>
<span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="si">{</span><span class="n">c</span><span class="si">:</span><span class="p">.</span><span class="mi">2</span><span class="n">f</span><span class="si">}</span><span class="s">C= </span><span class="si">{</span><span class="n">f</span><span class="si">:</span><span class="p">.</span><span class="mi">2</span><span class="n">f</span><span class="si">}</span><span class="s">F</span><span class="sh">"</span><span class="p">)</span>
</code></pre></div></div> <ul> <li> <p>섭씨 25도는 화씨로 몇도인가?</p> </li> <li> <p>화씨 35도는 섭씨 몇도인가?</p> </li> <li> <p>화씨 20도에 섭씨 -5도를 더하면 화씨와 섭씨로 각각 몇도인가?</p> </li> </ul> <h3 id="01-2-7-실습-예시-4">01-2-7 실습 예시 4</h3> <ul> <li> <p>세륨의 평균 원자량 계산 (Fundamentals of Materials Science and Engineering, Calister 예제 2.1)</p> <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="c1">#세륨의 동위원소는 4가지 존재한다:
# 각 동위원소의 분율은 아래와 같다.
</span><span class="n">Ce136_f</span> <span class="o">=</span>  <span class="mf">0.185</span>  <span class="c1">#[%]
</span><span class="n">Ce138_f</span> <span class="o">=</span>  <span class="mf">0.251</span>  <span class="c1">#[%]
</span><span class="n">Ce140_f</span> <span class="o">=</span> <span class="mf">88.450</span>  <span class="c1">#[%]
</span><span class="n">Ce142_f</span> <span class="o">=</span> <span class="mf">11.114</span>  <span class="c1">#[%]
# 각 동위원소의 원자량은 아래와 같다.
</span><span class="n">Ce136_w</span> <span class="o">=</span> <span class="mf">135.907</span> <span class="c1">#[amu.]
</span><span class="n">Ce138_w</span> <span class="o">=</span> <span class="mf">137.906</span> <span class="c1">#[amu.]
</span><span class="n">Ce140_w</span> <span class="o">=</span> <span class="mf">139.905</span> <span class="c1">#[amu.]
</span><span class="n">Ce142_w</span> <span class="o">=</span> <span class="mf">141.909</span> <span class="c1">#[amu.]
</span>
<span class="c1"># 세륨의 평균 원자량은 얼마인가?
</span>
</code></pre></div> </div> <p>가상의 원소 M의 평균 원자량 구하는 방법</p> \[\bar{A}_M=\sum_if_{i_M}A_{i_M}\] <p>단순 평균이라면…</p> \[\frac{w^{^{136}Ce}+w^{^{138}Ce}+w^{^{140}Ce}+w^{^{142}Ce}}{4}\] <p>로 구했겠지만, 서로 다른량이 존재하므로 주어진 분율을 활용해야겠다. 즉</p> \[\frac{w^{^{136}Ce}f^{^{136}Ce}+w^{^{138}Ce}f^{^{138}Ce}+w^{^{140}Ce}f^{^{140}Ce}+w^{^{142}Ce}f^{^{142}Ce}}{f^{^{136}Ce}+f^{^{138}Ce}+f^{^{140}Ce}+f^{^{142}Ce}}\] </li> </ul> <p><br><br> <br><br> <br><br> <br><br></p> <hr> <h1 id="week2">Week2</h1> <ul> <li>자료구조, 제어, 반복</li> <li>목표 <ul> <li>List, Tuple, Dictionary, set</li> <li>조건문과 (conditions), 반복문 (loop) 이해</li> </ul> </li> </ul> <h2 id="수업-02-1">수업 02-1</h2> <h3 id="02-1-1-list-tuple-dictionary-생성수정조회">02-1-1. list, tuple, dictionary 생성/수정/조회</h3> <h4 id="02-1-2-list">02-1-2. List</h4> <ul> <li> <p>특징:</p> <ul> <li>수정 가능(mutable): 추가, 삭제, 변경 가능</li> <li>중복 허용</li> <li>순서 있음 (ordered)</li> <li>여러 자료형 혼합해서 저장 가능</li> </ul> </li> <li> <p>리스트 생성 - 대괄호 사용 <code class="language-plaintext highlighter-rouge">[]</code></p> <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="n">elements</span> <span class="o">=</span> <span class="p">[</span><span class="sh">"</span><span class="s">H</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">He</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">Li</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">Be</span><span class="sh">"</span><span class="p">]</span>
</code></pre></div> </div> </li> <li> <p>요소 접근 (인덱싱; indexing); 0에서 부터 시작</p> <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="nf">print</span><span class="p">(</span><span class="n">elements</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>   <span class="c1"># H
</span></code></pre></div> </div> </li> <li> <p>요소 변경</p> <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="n">elements</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="sh">"</span><span class="s">Helium</span><span class="sh">"</span>
<span class="nf">print</span><span class="p">(</span><span class="n">elements</span><span class="p">)</span>     <span class="c1">#elements = ["H", "Helium", "Li", "Be"]
</span></code></pre></div> </div> </li> <li> <p>요소 추가 / 삭제</p> <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="n">elements</span><span class="p">.</span><span class="nf">append</span><span class="p">(</span><span class="sh">"</span><span class="s">B</span><span class="sh">"</span><span class="p">)</span>   <span class="c1">#elements = ["H", "Helium", "Li", "Be", "B"]
</span><span class="n">elements</span><span class="p">.</span><span class="nf">remove</span><span class="p">(</span><span class="sh">"</span><span class="s">Li</span><span class="sh">"</span><span class="p">)</span>  <span class="c1">#elements = ["H", "Helium", "Be", "B"]
</span></code></pre></div> </div> </li> <li> <p>중복 허용</p> <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="n">elements</span> <span class="o">=</span> <span class="p">[</span><span class="sh">'</span><span class="s">H</span><span class="sh">'</span><span class="p">,</span><span class="sh">'</span><span class="s">He</span><span class="sh">'</span><span class="p">,</span><span class="sh">'</span><span class="s">H</span><span class="sh">'</span><span class="p">]</span>
<span class="nf">print</span><span class="p">(</span><span class="n">elements</span><span class="p">)</span>
</code></pre></div> </div> </li> <li> <p>여러 자료형 혼합</p> <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="n">myList</span><span class="o">=</span><span class="p">[</span><span class="sh">'</span><span class="s">H</span><span class="sh">'</span><span class="p">,</span><span class="mi">203</span><span class="p">,</span><span class="mf">2.3</span><span class="p">,[</span><span class="sh">'</span><span class="s">H</span><span class="sh">'</span><span class="p">,</span><span class="sh">'</span><span class="s">He</span><span class="sh">'</span><span class="p">]]</span>
<span class="n">myMatrix</span><span class="o">=</span><span class="p">[[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],[</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">],[</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">9</span><span class="p">]]</span> <span class="c1">##중첩된 리스트
</span></code></pre></div> </div> </li> <li> <p>언패킹 (unpacking)</p> <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">,</span><span class="n">c</span><span class="p">,</span><span class="n">d</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">]</span>
</code></pre></div> </div> </li> </ul> <h4 id="02-1-3-tuple">02-1-3. tuple</h4> <ul> <li> <p>특징</p> <ul> <li>수정 불가능 (immutable); 한번 만들어지면 이후 변경 불가능</li> <li>중복 허용</li> <li>순서 있음</li> <li>여러 자료형 혼합해서 저장 가능</li> </ul> </li> <li> <p>튜플 생성 - 소괄호 <code class="language-plaintext highlighter-rouge">()</code> 사용</p> <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="n">colors</span> <span class="o">=</span> <span class="p">(</span><span class="sh">"</span><span class="s">red</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">green</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">blue</span><span class="sh">"</span><span class="p">)</span>
<span class="c1"># 요소 접근
</span><span class="nf">print</span><span class="p">(</span><span class="n">colors</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>   <span class="c1"># green
</span>
<span class="c1"># 변경 불가 → 아래 코드는 오류 발생
# colors[1] = "yellow"
</span>
<span class="c1"># 튜플 언패킹
</span><span class="n">r</span><span class="p">,</span> <span class="n">g</span><span class="p">,</span> <span class="n">b</span> <span class="o">=</span> <span class="n">colors</span>
<span class="nf">print</span><span class="p">(</span><span class="n">r</span><span class="p">,</span> <span class="n">g</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span>     <span class="c1"># red green blue
</span></code></pre></div> </div> </li> </ul> <h4 id="02-1-4-set">02-1-4. set</h4> <ul> <li> <p>특징</p> <ul> <li>중복제거: 같은 값이 입력되어도 하나만 남게 됨</li> <li>순서없음</li> <li>인덱싱 불가: list나 tuple과 다름</li> <li>수정 가능 (mutable)</li> <li>원소의 타입에 제한 <strong>있음</strong>:</li> </ul> </li> <li> <p>실습</p> <ul> <li>실습1: 생성</li> </ul> <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="c1"># 중괄호 {} 사용
</span><span class="n">s1</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">}</span>
<span class="nf">print</span><span class="p">(</span><span class="n">s1</span><span class="p">)</span>  <span class="c1"># {1, 2, 3}
</span>
<span class="c1"># set() 함수 사용
</span><span class="n">s2</span> <span class="o">=</span> <span class="nf">set</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>
<span class="nf">print</span><span class="p">(</span><span class="n">s2</span><span class="p">)</span>  <span class="c1"># {1, 2, 3} (중복 제거)
</span>
<span class="c1"># 빈 set 생성 시는 set()만 가능
</span><span class="n">empty_set</span> <span class="o">=</span> <span class="nf">set</span><span class="p">()</span>
<span class="nf">print</span><span class="p">(</span><span class="n">empty_set</span><span class="p">)</span>  <span class="c1"># set()
</span></code></pre></div> </div> <ul> <li>실습2: 변경</li> </ul> <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="n">s</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">}</span>

<span class="c1"># 추가
</span><span class="n">s</span><span class="p">.</span><span class="nf">add</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>           <span class="c1"># {1, 2, 3, 4}
</span><span class="n">s</span><span class="p">.</span><span class="nf">update</span><span class="p">([</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">])</span>   <span class="c1"># {1, 2, 3, 4, 5, 6} (여러 개 추가)
</span>
<span class="c1"># 삭제
</span><span class="n">s</span><span class="p">.</span><span class="nf">remove</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>        <span class="c1"># {1, 2, 4, 5, 6} (없는 값 제거 시 오류 발생)
</span><span class="n">s</span><span class="p">.</span><span class="nf">discard</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>      <span class="c1"># 없는 값 제거해도 오류 없음
</span><span class="n">s</span><span class="p">.</span><span class="nf">pop</span><span class="p">()</span>            <span class="c1"># 임의의 값 제거 후 반환 (순서 없으니 랜덤)
</span></code></pre></div> </div> </li> </ul> <h4 id="02-1-5-dictionary">02-1-5. Dictionary</h4> <ul> <li> <p>특징</p> <ul> <li>키(key)와 값(value)을 짝지어(패어) 저장하는 자료구조.</li> <li>순서 있음</li> <li>값 중복 가능</li> <li>키는 변경 불가능(immutable)</li> </ul> </li> <li> <p>실습</p> <ul> <li>실습1: 생성</li> </ul> <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="c1"># - 딕셔너리 생성
</span><span class="n">Fe</span> <span class="o">=</span> <span class="p">{</span>
	<span class="sh">"</span><span class="s">name</span><span class="sh">"</span><span class="p">:</span> <span class="sh">"</span><span class="s">iron</span><span class="sh">"</span><span class="p">,</span>
	<span class="sh">"</span><span class="s">structure</span><span class="sh">"</span><span class="p">:</span> <span class="sh">'</span><span class="s">fcc</span><span class="sh">'</span><span class="p">,</span>
	<span class="sh">"</span><span class="s">density</span><span class="sh">"</span><span class="p">:</span> <span class="sh">"</span><span class="s">7.874</span><span class="sh">"</span><span class="p">,</span>
	<span class="sh">"</span><span class="s">density_unit</span><span class="sh">"</span><span class="p">:</span> <span class="sh">'</span><span class="s">g/cm^3</span><span class="sh">'</span>
<span class="p">}</span>
</code></pre></div> </div> <ul> <li>실습2: 값 접근(access)</li> </ul> <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="nf">print</span><span class="p">(</span><span class="n">Fe</span><span class="p">)</span> <span class="c1"># 전체 키/값 짝 출력
</span><span class="nf">print</span><span class="p">(</span><span class="n">Fe</span><span class="p">.</span><span class="nf">keys</span><span class="p">())</span> <span class="c1"># 키들만 출력
</span><span class="nf">print</span><span class="p">(</span><span class="n">Fe</span><span class="p">[</span><span class="sh">'</span><span class="s">name</span><span class="sh">'</span><span class="p">])</span> <span class="c1"># 'name'키의 값
</span><span class="nf">print</span><span class="p">(</span><span class="n">Fe</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="sh">'</span><span class="s">name</span><span class="sh">'</span><span class="p">))</span> <span class="c1"># 'name'키에 해당하는 값
</span></code></pre></div> </div> <ul> <li>실습3: 값 변경</li> </ul> <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="n">Fe</span><span class="p">.</span><span class="nf">update</span><span class="p">(</span><span class="n">CTE</span><span class="o">=</span><span class="mf">12e-6</span><span class="p">)</span>
</code></pre></div> </div> </li> </ul> <h4 id="02-1-6-misc">02-1-6. Misc.</h4> <ul> <li> <p><code class="language-plaintext highlighter-rouge">len</code> built-in function중 하나</p> <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="n">a</span><span class="o">=</span><span class="p">[</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="sh">'</span><span class="s">a</span><span class="sh">'</span><span class="p">,</span><span class="sh">'</span><span class="s">b</span><span class="sh">'</span><span class="p">]</span>
<span class="nf">len</span><span class="p">(</span><span class="n">a</span><span class="p">)</span> <span class="c1"># 정수 5
</span></code></pre></div> </div> </li> <li> <p>List slicing</p> <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="n">a</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">]</span>
<span class="c1"># format
# a[begin:end:step]; end-begin = len(a)
</span><span class="n">a</span><span class="p">[::]</span> <span class="c1"># == a[0:6:1] ## default
</span><span class="n">a</span><span class="p">[</span><span class="mi">1</span><span class="p">::</span><span class="mi">2</span><span class="p">]</span> <span class="c1"># == a[1:6:2]
</span></code></pre></div> </div> </li> </ul> <h4 id="02-1-7-실습">02-1-7 실습.</h4> <ul> <li>1족 원소 기호를 순서대로 포함한 리스트 만들기 (수소, 리튬, 나트륨, 칼륨, 루비듐, 세슘, 프랑슘)</li> <li>Calister 예제 2.1)</li> </ul> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">#세륨의 동위원소는 4가지 존재한다:
# 각 동위원소의 분율은 아래와 같다.
</span><span class="n">Ce_f</span><span class="o">=</span> <span class="p">[</span><span class="mf">0.185</span><span class="p">,</span> <span class="mf">0.251</span><span class="p">,</span> <span class="mf">88.450</span><span class="p">,</span> <span class="mf">11.114</span><span class="p">]</span>  <span class="c1">#[%]
# 각 동위원소의 원자량은 아래와 같다.
</span><span class="n">Ce_w</span> <span class="o">=</span> <span class="p">[</span><span class="mf">135.907</span><span class="p">,</span> <span class="mf">137.906</span><span class="p">,</span> <span class="mf">139.905</span><span class="p">,</span> <span class="mf">141.909</span><span class="p">]</span>
<span class="c1"># 세륨의 평균 원자량은 얼마인가?
</span><span class="n">avg</span><span class="o">=</span><span class="p">(</span><span class="n">Ce_f</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">*</span><span class="n">Ce_w</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">+</span> <span class="n">Ce_f</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">*</span><span class="n">Ce_w</span><span class="o">+</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">+</span> <span class="n">Ce_f</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">*</span><span class="n">Ce_w</span><span class="o">+</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">+</span> <span class="n">Ce_f</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="o">*</span><span class="n">Ce_w</span><span class="o">+</span><span class="p">[</span><span class="mi">3</span><span class="p">])</span><span class="o">/</span><span class="p">(</span><span class="n">Ce_f</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">+</span><span class="n">Ce_f</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">+</span><span class="n">Ce_f</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">+</span><span class="n">Ce_f</span><span class="p">[</span><span class="mi">3</span><span class="p">])</span>
<span class="c1">## average
</span><span class="nf">print</span><span class="p">(</span><span class="n">avg</span><span class="p">)</span>
</code></pre></div></div> <hr> <h2 id="수업-02-2">수업 02-2</h2> <h3 id="02-2-1-if-elif-else-조건문-이해">02-2-1. <code class="language-plaintext highlighter-rouge">if</code>, <code class="language-plaintext highlighter-rouge">elif</code>, <code class="language-plaintext highlighter-rouge">else</code> 조건문 이해</h3> <ul> <li> <p>기본 구조 / 형식</p> <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="k">if</span> <span class="n">조건식1</span><span class="p">:</span>
	<span class="o">&lt;</span><span class="n">명령문a</span><span class="o">&gt;</span>
	<span class="o">&lt;</span><span class="n">명령문b</span><span class="o">&gt;</span>
<span class="k">elif</span> <span class="n">조건식2</span><span class="p">:</span>
	<span class="o">&lt;</span><span class="n">명령문c</span><span class="o">&gt;</span>
	<span class="o">&lt;</span><span class="n">명령문d</span><span class="o">&gt;</span>
<span class="k">else</span><span class="p">:</span>
	<span class="o">&lt;</span><span class="n">명령문e</span><span class="o">&gt;</span>
	<span class="o">&lt;</span><span class="n">명령문f</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="n">명령문g</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="n">명령문h</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="p">.....</span><span class="o">&gt;</span>
</code></pre></div> </div> <pre><code class="language-mermaid">flowchart LR
	A[시작] --&gt; B{조건식 1?}
	B -- True --&gt; B1[명령문 a] --&gt; B2[명령문 b]
	B -- False --&gt; D{조건식 2?}

	D -- True --&gt; D1[명령문 c] --&gt; D2[명령문 d]
	D -- False --&gt; E1[명령문 e] --&gt; E2[명령문 f]


	B2 --&gt; F[명령문 g]
	D2 --&gt; F
	E2 --&gt; F

	F --&gt; G[명령문 h]
</code></pre> </li> <li> <p>주의</p> <ul> <li>indent, dedent 에 주의!!</li> <li>콜론 기호 ‘:’ 빼먹지 말 것!</li> </ul> </li> <li> <p>예시</p> <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="c1"># 예: 순수 알루미늄의 녹는점
</span><span class="n">melting_point</span> <span class="o">=</span> <span class="mi">660</span>  <span class="c1">#Celcius degree
</span><span class="n">temperature</span> <span class="o">=</span> <span class="mi">700</span>    <span class="c1">#Celcius degree
</span>
<span class="k">if</span> <span class="n">temperature</span> <span class="o">&lt;</span> <span class="n">melting_point</span><span class="p">:</span>
	<span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">Solid state</span><span class="sh">"</span><span class="p">)</span>
<span class="k">elif</span> <span class="n">temperature</span> <span class="o">==</span> <span class="n">melting_point</span><span class="p">:</span>
	<span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">Solid and liquid co-exist</span><span class="sh">"</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
	<span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">Liquid state</span><span class="sh">"</span><span class="p">)</span>
</code></pre></div> </div> </li> </ul> <h3 id="02-2-2-for-반복문">02-2-2. <code class="language-plaintext highlighter-rouge">for</code> 반복문</h3> <ul> <li> <p>기초 설명</p> <ul> <li>파이썬의 for 반복문은 <strong>순서가 있는 데이터(시퀀스)</strong>나 <strong>반복 가능한 객체(iterable)</strong>를 순차적으로 꺼내면서 코드를 실행하는 구문.</li> </ul> </li> <li> <p>기본 구조</p> <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="k">for</span> <span class="o">&lt;</span><span class="n">변수</span><span class="o">&gt;</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">반복가능객체</span><span class="o">&gt;</span><span class="p">:</span>
	<span class="o">&lt;</span><span class="n">실행할</span> <span class="n">명령문1</span><span class="o">&gt;</span>
	<span class="o">&lt;</span><span class="n">실행할</span> <span class="n">명령문2</span><span class="o">&gt;</span>
	<span class="o">&lt;</span><span class="p">...</span><span class="o">&gt;</span>
</code></pre></div> </div> <pre><code class="language-mermaid">flowchart TD
	A[시작] --&gt; B[반복가능 객체, iterable ]
	B --&gt; C[반복가능객체 속의 다음번 element]
	C --&gt; D{아직 남은 element가 있나?}
	D -- True --&gt; E[명령문 1] --&gt; E2[명령문 2]
	E2 --&gt; C
	D -- False --&gt; F[Exit loop]
	F --&gt; G[Continue program]
</code></pre> </li> <li> <p>대표적으로 <strong>순서가 있는 데이터 시쿼스</strong>로는 List, Tuple, Dictionary 타입의 변수가 있다.</p> <ul> <li>예1</li> </ul> <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="n">a</span><span class="o">=</span><span class="p">[</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">]</span> <span class="c1">#list type
</span><span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">a</span><span class="p">:</span>
	<span class="nf">print</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
</code></pre></div> </div> <ul> <li>예1</li> </ul> <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="n">a</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">]</span> <span class="c1">#list type
</span><span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">a</span><span class="p">[::</span><span class="mi">2</span><span class="p">]:</span> <span class="c1">## 0, 2, 4, 6
</span>	<span class="nf">print</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
</code></pre></div> </div> <ul> <li>예2</li> </ul> <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="n">a</span><span class="o">=</span><span class="p">(</span><span class="sh">'</span><span class="s">3</span><span class="sh">'</span><span class="p">,[</span><span class="mi">34343</span><span class="p">],</span><span class="mi">5</span><span class="p">)</span> <span class="c1"># tuple type
</span><span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">a</span><span class="p">:</span>
	<span class="nf">print</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
</code></pre></div> </div> <ul> <li>예3</li> </ul> <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="n">a</span><span class="o">=</span><span class="nf">dict</span><span class="p">(</span><span class="n">a</span><span class="o">=</span><span class="sh">'</span><span class="s">b</span><span class="sh">'</span><span class="p">,</span><span class="n">b</span><span class="o">=</span><span class="sh">'</span><span class="s">1</span><span class="sh">'</span><span class="p">,</span><span class="n">d</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span><span class="n">z</span><span class="o">=</span><span class="p">[])</span> <span class="c1"># (Python 3.7&gt;)
</span><span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">a</span><span class="p">:</span>
	<span class="nf">print</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
</code></pre></div> </div> </li> <li> <p>주의</p> <ul> <li> <p>indent, dedent 에 주의!!</p> </li> <li> <p>콜론 기호 ‘:’ 빼먹지 말 것!</p> </li> </ul> </li> </ul> <h3 id="02-2-3-built-in-function인-range-len-enumerate를-for와-함께-조합">02-2-3. Built-in function인 <code class="language-plaintext highlighter-rouge">range</code>, <code class="language-plaintext highlighter-rouge">len</code>, <code class="language-plaintext highlighter-rouge">enumerate</code>를 <code class="language-plaintext highlighter-rouge">for</code>와 함께 조합!</h3> <ul> <li>개념 <ul> <li> <code class="language-plaintext highlighter-rouge">len()</code> -&gt; 시퀀스 (List, 문자열, 튜플 등)의 <strong>길이(요소 개수)</strong>를 반환</li> <li> <code class="language-plaintext highlighter-rouge">range()</code> → 지정한 범위의 숫자 시퀀스를 생성 (반복문에서 자주 사용)</li> <li> <code class="language-plaintext highlighter-rouge">range</code> 와 <code class="language-plaintext highlighter-rouge">len</code> 함께 활용하여, 인덱스 기반 반복</li> <li> <code class="language-plaintext highlighter-rouge">enumerate()</code>로 인덱스와 요소 함께 활용 용이</li> </ul> </li> <li>예시1</li> </ul> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">fruits</span> <span class="o">=</span> <span class="p">[</span><span class="sh">"</span><span class="s">apple</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">banana</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">cherry</span><span class="sh">"</span><span class="p">]</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="nf">len</span><span class="p">(</span><span class="n">fruits</span><span class="p">)):</span>  <span class="c1"># 0 ~ len(fruits)-1
</span>   <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">Index </span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s">: </span><span class="si">{</span><span class="n">fruits</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
</code></pre></div></div> <ul> <li>예시 2</li> </ul> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">specimen_lengths</span> <span class="o">=</span> <span class="p">[</span><span class="mf">10.0</span><span class="p">,</span> <span class="mf">12.3</span><span class="p">,</span> <span class="mf">9.8</span><span class="p">,</span> <span class="mf">11.5</span><span class="p">]</span>  <span class="c1"># cm
</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="nf">len</span><span class="p">(</span><span class="n">specimen_lengths</span><span class="p">)):</span>
<span class="n">length</span> <span class="o">=</span> <span class="n">specimen_lengths</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
   <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">Specimen </span><span class="si">{</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="si">}</span><span class="s">: </span><span class="si">{</span><span class="n">length</span><span class="si">}</span><span class="s"> cm</span><span class="sh">"</span><span class="p">)</span>
</code></pre></div></div> <ul> <li>예시 3</li> </ul> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">word</span> <span class="o">=</span> <span class="sh">"</span><span class="s">steel</span><span class="sh">"</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="nf">len</span><span class="p">(</span><span class="n">word</span><span class="p">)):</span>
   <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">Index </span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s"> → </span><span class="si">{</span><span class="n">word</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
</code></pre></div></div> <ul> <li>예시 4</li> </ul> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">fruits</span> <span class="o">=</span> <span class="p">[</span><span class="sh">"</span><span class="s">apple</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">banana</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">cherry</span><span class="sh">"</span><span class="p">]</span>

<span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">fruit</span> <span class="ow">in</span> <span class="nf">enumerate</span><span class="p">(</span><span class="n">fruits</span><span class="p">):</span>
   <span class="nf">print</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">fruit</span><span class="p">)</span>
</code></pre></div></div> <h3 id="02-2-4-실습-예시">02-2-4. 실습 예시</h3> <ul> <li> <p>예제1: 구구단 출력하기 (x단 입력하면 … )</p> <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="c1">## algorithm
# 1. x단 입력 필요
# 2. 1곱하기부터 9 곱하기까지 '반복'; 예를 들어, y를 1부터 9까지 바꾸며 반복
#    2-1 각 '반복' 마다, x 곱하기 9 출력
</span></code></pre></div> </div> </li> <li> <p>예제2: 1부터 100사이의 정수합 구하기 (loop)</p> </li> <li> <p>예제3: x! 팩토리얼 구하기</p> </li> <li> <p>예제4: 주어진 List에서 최대값과 최소값 찾기 (조건문과 loop 활용)</p> </li> <li> <p>예제5: 2의 제곱근 구하기.</p> <ul> <li>Algorithm (점화식)</li> </ul> \[x_{n+1}=x_n-\frac{(x_n)^2-2}{2x_n}\] <ul> <li>파이썬으로 바꾸면</li> </ul> <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="n">x</span><span class="o">=</span><span class="mf">11.</span> <span class="c1">## initial guess
</span><span class="n">x</span><span class="o">=</span><span class="n">x</span><span class="o">-</span><span class="p">(</span><span class="n">x</span><span class="o">**</span><span class="mi">2</span><span class="o">-</span><span class="mi">2</span><span class="p">)</span><span class="o">/</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">x</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="n">x</span><span class="o">=</span><span class="n">x</span><span class="o">-</span><span class="p">(</span><span class="n">x</span><span class="o">**</span><span class="mi">2</span><span class="o">-</span><span class="mi">2</span><span class="p">)</span><span class="o">/</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">x</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="n">x</span><span class="o">=</span><span class="n">x</span><span class="o">-</span><span class="p">(</span><span class="n">x</span><span class="o">**</span><span class="mi">2</span><span class="o">-</span><span class="mi">2</span><span class="p">)</span><span class="o">/</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">x</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="n">x</span><span class="o">=</span><span class="n">x</span><span class="o">-</span><span class="p">(</span><span class="n">x</span><span class="o">**</span><span class="mi">2</span><span class="o">-</span><span class="mi">2</span><span class="p">)</span><span class="o">/</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">x</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
</code></pre></div> </div> <ul> <li> <code class="language-plaintext highlighter-rouge">for</code> loop를 활용하면 더 근사하게 표현 가능하겠다.</li> </ul> <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="n">x</span><span class="o">=</span><span class="mf">11.</span> <span class="c1">## initial guess
</span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="mi">5</span><span class="p">):</span>
	<span class="n">x</span><span class="o">=</span><span class="n">x</span><span class="o">-</span><span class="p">(</span><span class="n">x</span><span class="o">**</span><span class="mi">2</span><span class="o">-</span><span class="mi">2</span><span class="p">)</span><span class="o">/</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">x</span><span class="p">)</span>
	<span class="nf">print</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
</code></pre></div> </div> </li> <li> <p>예제6: (예제5 응용) 3의 제곱근 구하기</p> <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="n">x</span><span class="o">=</span><span class="mf">1.</span> <span class="c1">## initial guess (0이어서는 안된다. 이유는?)
</span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="mi">7</span><span class="p">):</span>
	<span class="n">x</span><span class="o">=</span><span class="n">x</span><span class="o">-</span><span class="p">(</span><span class="n">x</span><span class="o">**</span><span class="mi">2</span><span class="o">-</span><span class="mi">3</span><span class="p">)</span><span class="o">/</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">x</span><span class="p">)</span>
	<span class="nf">print</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
</code></pre></div> </div> </li> <li> <p>예제 7: 4의 제곱근 구하기</p> <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="n">x</span><span class="o">=</span><span class="mf">1.</span> <span class="c1">## initial guess (0이어서는 안된다. 이유는?)
</span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="mi">7</span><span class="p">):</span>
	<span class="n">x</span><span class="o">=</span><span class="n">x</span><span class="o">-</span><span class="p">(</span><span class="n">x</span><span class="o">**</span><span class="mi">2</span><span class="o">-</span><span class="mi">4</span><span class="p">)</span><span class="o">/</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">x</span><span class="p">)</span>
	<span class="nf">print</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
</code></pre></div> </div> </li> <li> <p>예제 8(제곱근 구하기 일반화): a의 제곱근 구하기</p> <ul> <li>Algorithm (점화식)</li> </ul> \[x\_{n+1}=x_n-\frac{(x_n)^2-a}{2x_n}\] <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="n">a</span><span class="o">=</span><span class="mi">30</span> <span class="c1"># a에 다른 숫자를 넣어서 반복해보자.
</span><span class="n">x</span><span class="o">=</span><span class="mf">1.</span> <span class="c1">## initial guess (0이어서는 안된다. 이유는?)
</span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="mi">7</span><span class="p">):</span>
	<span class="n">x</span><span class="o">=</span><span class="n">x</span><span class="o">-</span><span class="p">(</span><span class="n">x</span><span class="o">**</span><span class="mi">2</span><span class="o">-</span><span class="n">a</span><span class="p">)</span><span class="o">/</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">x</span><span class="p">)</span>
	<span class="nf">print</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">x</span><span class="o">**</span><span class="mi">2</span><span class="o">-</span><span class="n">a</span><span class="p">)</span>
</code></pre></div> </div> <ul> <li>initial guess를 -1로 사용해서 되풀이 해보자.</li> </ul> </li> <li> <p>주양자수 \(n\)에 의해 결정되는 부 양자수 \(l,m_l\) 출력하기.</p> <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="c1"># Calister 책의 표 2.1
</span><span class="n">n</span><span class="o">=</span><span class="mi">3</span> <span class="c1">## 주양자수,
</span><span class="nf">print</span><span class="p">(</span><span class="sh">'</span><span class="s">n:</span><span class="sh">'</span><span class="p">,</span><span class="n">n</span><span class="p">)</span>
<span class="n">no_electrons</span><span class="o">=</span><span class="mi">0</span>
<span class="k">for</span> <span class="n">l_value</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">n</span><span class="p">):</span> <span class="c1"># 0, 1, .., (n-1) 까지
</span>  <span class="nf">print</span><span class="p">(</span><span class="sh">'</span><span class="se">\t</span><span class="s">l:</span><span class="sh">'</span><span class="p">,</span><span class="n">l_value</span><span class="p">)</span> <span class="c1">#주의 '\t' string은 키보드의 탭기호를 뜻한다.
</span>  <span class="n">low</span><span class="o">=-</span><span class="n">l_value</span>
  <span class="n">up</span><span class="o">=+</span><span class="n">l_value</span>
  <span class="nf">print</span><span class="p">(</span><span class="sh">'</span><span class="se">\t\t</span><span class="s">ml:</span><span class="sh">'</span><span class="p">,)</span>
  <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="n">low</span><span class="p">,</span><span class="n">up</span><span class="o">+</span><span class="mi">1</span><span class="p">):</span> <span class="c1"># -l, -l+1, ... 1, 0, 1, ... l-1, l
</span>	  <span class="nf">print</span><span class="p">(</span><span class="sh">'</span><span class="se">\t\t\t</span><span class="sh">'</span><span class="p">,</span><span class="n">i</span><span class="p">)</span>
	  <span class="n">no_electrons</span><span class="o">=</span><span class="n">no_electrons</span><span class="o">+</span><span class="mi">2</span> <span class="c1"># 각 state마다 up/down spin 전자, 따라서 2개씩.
</span><span class="nf">print</span><span class="p">(</span><span class="sh">'</span><span class="s">total number of electrons:</span><span class="sh">'</span><span class="p">,</span><span class="n">no_electrons</span><span class="p">)</span>
</code></pre></div> </div> </li> <li> <p>예시, 10진법 수를 이진법으로 바꾸는 파이썬 script를 작성해보자.</p> </li> </ul> <p><br><br> <br><br> <br><br> <br><br></p> <h1 id="week3">Week3</h1> <ul> <li>함수, class, module, <strong>import</strong> </li> <li>목표 <ul> <li>함수와 클래스, 그리고 모듈의 이해</li> <li>함수를 만들어, 모듈화 시키고 CLI에서 실행할 수 있다.</li> </ul> </li> </ul> <h2 id="수업-03-1-함수와-클래스-익히기">수업 03-1 (함수와 클래스 익히기)</h2> <h3 id="03-1-1-함수란">03-1-1 함수란</h3> <ul> <li> <p>특정한 작업(task)를 수행하는 묶음.</p> </li> <li> <p>basics: <code class="language-plaintext highlighter-rouge">def</code>로 정의하며, <strong>재사용</strong> 가능하고(reuseable), 입력(arguments), 출력(return)값을 가질 수 있습니다. 입력과 출력이 없는 함수도 있어요.</p> </li> <li> <p>예시1</p> </li> </ul> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="k">def</span> <span class="nf">add</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span> <span class="c1">#함수의 이름이 'add', 입력은 a와 b
</span>   <span class="k">return</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span> <span class="c1"># 출력은 a+b
</span></code></pre></div></div> <ul> <li>예시2</li> </ul> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">sayhi</span><span class="p">():</span> <span class="c1"># 함수의 이름이 'sayhi', 입력과 출력 없음
</span>   <span class="nf">print</span><span class="p">(</span><span class="sh">'</span><span class="s">Hi</span><span class="sh">'</span><span class="p">)</span>
</code></pre></div></div> <ul> <li>예시3</li> </ul> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">func</span><span class="p">(</span><span class="n">a</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span><span class="n">b</span><span class="o">=</span><span class="mi">5</span><span class="p">):</span> <span class="c1"># 함수의 이름이 'func', 입력 a와 b의 default가 있음.
</span>  <span class="sh">"""</span><span class="s">
  a and b are arguments and this function returs a+b
  </span><span class="sh">"""</span>
  <span class="k">return</span> <span class="n">a</span><span class="o">+</span><span class="n">b</span>

<span class="nf">print</span><span class="p">(</span><span class="n">func</span><span class="p">.</span><span class="n">__doc__</span><span class="p">)</span> <span class="c1">## docstring 출력
</span><span class="nf">print</span><span class="p">(</span><span class="nf">help</span><span class="p">(</span><span class="n">func</span><span class="p">))</span>
<span class="nf">print</span><span class="p">(</span><span class="nf">help</span><span class="p">(</span><span class="n">help</span><span class="p">))</span>
</code></pre></div></div> <ul> <li>예시 4: 아래 함수를 정의하면 에러가 발생한다. 에러를 읽어보고 이해해보자.</li> </ul> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="n">a</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span><span class="n">b</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span><span class="n">c</span><span class="p">,</span><span class="n">d</span><span class="p">):</span>
   <span class="nf">print</span><span class="p">(</span><span class="n">a</span><span class="o">+</span><span class="n">b</span><span class="p">)</span>
   <span class="nf">print</span><span class="p">(</span><span class="n">c</span><span class="o">+</span><span class="n">d</span><span class="p">)</span>
   <span class="k">return</span> <span class="n">a</span><span class="o">*</span><span class="n">b</span><span class="o">*</span><span class="n">c</span><span class="o">*</span><span class="n">d</span>
</code></pre></div></div> <h3 id="03-1-2-built-in-functions">03-1-2 built-in functions</h3> <ul> <li>특징 <ul> <li>built-in 함수는 파이썬이 기본적으로 제공하는 함수</li> <li>별도의 <strong>import</strong> 없이 언제든 바로 사용 가능; 예 (print, help, …)</li> <li>약 70여 개의 built-in 함수: A full list of built-in functions: <a href="https://docs.python.org/3/library/functions.html" rel="external nofollow noopener" target="_blank">here</a> </li> </ul> </li> </ul> <h3 id="03-1-3-class">03-1-3 class</h3> <ul> <li> <p>개념</p> <ul> <li>클래스(class)는 객체(object)를 만드는 틀(설계도)</li> <li>클래스를 활용해 데이터와 기능을 한꺼번에 통합</li> <li>객체지향 프로그래밍(OOP, Object-Oriented Programming)의 핵심 개념</li> <li>클래스 안에는 속성(변수, attribute)과 메서드(함수, method)</li> <li>Creating a new class creates a new type of object, allowing new instances of that type to be made.</li> </ul> </li> <li> <p>예시</p> </li> </ul> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>	<span class="k">class</span> <span class="nc">Atom</span><span class="p">:</span>
		<span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="n">self</span><span class="p">,</span><span class="n">name</span><span class="p">):</span>
			<span class="n">self</span><span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>
		<span class="k">def</span> <span class="nf">add_density</span><span class="p">(</span><span class="n">self</span><span class="p">,</span><span class="n">density</span><span class="p">):</span>
			<span class="n">self</span><span class="p">.</span><span class="n">density</span><span class="o">=</span><span class="n">density</span>
		<span class="k">def</span> <span class="nf">add_structure</span><span class="p">(</span><span class="n">self</span><span class="p">,</span><span class="n">structure</span><span class="p">):</span>
			<span class="n">self</span><span class="p">.</span><span class="n">structure</span><span class="o">=</span><span class="n">structure</span>

	<span class="c1">## usage examples
</span>	<span class="n">myFe</span><span class="o">=</span><span class="nc">Atom</span><span class="p">()</span> <span class="c1"># Atom 클래스를 활용
</span>	<span class="n">myFe</span><span class="p">.</span><span class="nf">add_density</span><span class="p">(</span><span class="mf">7.87</span><span class="p">)</span> <span class="c1">#7.87g/cm^3
</span>	<span class="n">myFe</span><span class="p">.</span><span class="nf">add_structure</span><span class="p">(</span><span class="sh">'</span><span class="s">BCC</span><span class="sh">'</span><span class="p">)</span>

	<span class="n">myAl</span><span class="o">=</span><span class="nc">Atom</span><span class="p">()</span>
	<span class="n">myAl</span><span class="p">.</span><span class="nf">add_density</span><span class="p">(</span><span class="mf">2.70</span><span class="p">)</span>
	<span class="n">myAl</span><span class="p">.</span><span class="nf">add_structure</span><span class="p">(</span><span class="sh">'</span><span class="s">FCC</span><span class="sh">'</span><span class="p">)</span>
</code></pre></div></div> <ul> <li> <p><code class="language-plaintext highlighter-rouge">getattr</code> built-in 함수</p> <ul> <li>기본문법</li> </ul> <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="nf">getattr</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">[,</span> <span class="n">default</span><span class="p">])</span>
</code></pre></div> </div> <ul> <li>object : 속성을 가져올 대상 객체</li> <li>name : 속성 이름 (문자열로 지정)</li> <li>default (선택적) : 해당 속성이 없을 경우 반환할 기본값 (없으면 AttributeError 발생)</li> </ul> </li> </ul> <h3 id="03-1-4-클래스-예제">03-1-4 클래스 예제</h3> <ul> <li> <p>합금(Alloy) 클래스 만들기</p> <ul> <li>설계: 공통 속성 나열해보기 <ul> <li>합금은 모두 ‘이름’ 가지고 있음</li> <li>‘인장강도’</li> <li>‘연성’</li> <li>‘밀도’</li> </ul> </li> </ul> </li> </ul> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Alloy</span><span class="p">:</span>
	<span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">tensile_strength</span><span class="p">,</span> <span class="n">ductility</span><span class="p">,</span> <span class="n">density</span><span class="p">):</span>
		<span class="n">self</span><span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>
		<span class="n">self</span><span class="p">.</span><span class="n">tensile_strength</span> <span class="o">=</span> <span class="n">tensile_strength</span>  <span class="c1"># MPa
</span>		<span class="n">self</span><span class="p">.</span><span class="n">ductility</span> <span class="o">=</span> <span class="n">ductility</span>                <span class="c1"># %
</span>		<span class="n">self</span><span class="p">.</span><span class="n">density</span> <span class="o">=</span> <span class="n">density</span>                    <span class="c1"># g/cm^3
</span>
<span class="c1"># 합금 데이터
</span><span class="n">a1</span> <span class="o">=</span> <span class="nc">Alloy</span><span class="p">(</span><span class="sh">"</span><span class="s">Ni-Cu</span><span class="sh">"</span><span class="p">,</span> <span class="mi">450</span><span class="p">,</span> <span class="mi">35</span><span class="p">,</span> <span class="mf">8.9</span><span class="p">)</span>
<span class="n">a2</span> <span class="o">=</span> <span class="nc">Alloy</span><span class="p">(</span><span class="sh">"</span><span class="s">Al-Mg</span><span class="sh">"</span><span class="p">,</span> <span class="mi">320</span><span class="p">,</span> <span class="mi">25</span><span class="p">,</span> <span class="mf">2.7</span><span class="p">)</span>
<span class="n">a3</span> <span class="o">=</span> <span class="nc">Alloy</span><span class="p">(</span><span class="sh">"</span><span class="s">Ti-6Al-4V</span><span class="sh">"</span><span class="p">,</span> <span class="mi">900</span><span class="p">,</span> <span class="mi">14</span><span class="p">,</span> <span class="mf">4.4</span><span class="p">)</span>

<span class="n">alloys</span> <span class="o">=</span> <span class="p">[</span><span class="n">a1</span><span class="p">,</span> <span class="n">a2</span><span class="p">,</span> <span class="n">a3</span><span class="p">]</span>

<span class="c1"># 특정 물성(property) 가져오기
</span><span class="n">property_to_check</span> <span class="o">=</span> <span class="sh">"</span><span class="s">tensile_strength</span><span class="sh">"</span>  <span class="c1"># 여기만 바꾸면 됨
</span>
<span class="k">for</span> <span class="n">alloy</span> <span class="ow">in</span> <span class="n">alloys</span><span class="p">:</span>
	  <span class="n">value</span> <span class="o">=</span> <span class="nf">getattr</span><span class="p">(</span><span class="n">alloy</span><span class="p">,</span> <span class="n">property_to_check</span><span class="p">,</span> <span class="sh">"</span><span class="s">N/A</span><span class="sh">"</span><span class="p">)</span>
	  <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="si">{</span><span class="n">alloy</span><span class="p">.</span><span class="n">name</span><span class="si">}</span><span class="s">: </span><span class="si">{</span><span class="n">property_to_check</span><span class="si">}</span><span class="s"> = </span><span class="si">{</span><span class="n">value</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
</code></pre></div></div> <ul> <li> <p>List type은 클래스다.</p> <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="n">numbers</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>   <span class="c1"># new instance of 'List' object (internal data)
</span>
<span class="n">numbers</span><span class="p">.</span><span class="nf">append</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span> <span class="c1"># append is one of the methods in List class.
</span>				  <span class="c1"># It changes the internal data
</span></code></pre></div> </div> </li> <li> <p>새로운 리스트와 비슷한 타입을 데이터/클래스를 다음과 같이 작성할 수도 있다!</p> <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">MyList</span><span class="p">:</span>
	<span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">items</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
		<span class="k">if</span> <span class="n">items</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
			<span class="n">self</span><span class="p">.</span><span class="n">items</span> <span class="o">=</span> <span class="p">[]</span>
		<span class="k">else</span><span class="p">:</span>
			<span class="n">self</span><span class="p">.</span><span class="n">items</span> <span class="o">=</span> <span class="n">items</span>

	<span class="k">def</span> <span class="nf">append</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
		<span class="n">self</span><span class="p">.</span><span class="n">items</span> <span class="o">+=</span> <span class="p">[</span><span class="n">value</span><span class="p">]</span>

	<span class="k">def</span> <span class="nf">__len__</span><span class="p">(</span><span class="n">self</span><span class="p">):</span>
		<span class="k">return</span> <span class="nf">len</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">items</span><span class="p">)</span>

	<span class="k">def</span> <span class="nf">__getitem__</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">index</span><span class="p">):</span>
		<span class="k">return</span> <span class="n">self</span><span class="p">.</span><span class="n">items</span><span class="p">[</span><span class="n">index</span><span class="p">]</span>

	<span class="k">def</span> <span class="nf">__str__</span><span class="p">(</span><span class="n">self</span><span class="p">):</span>
		<span class="k">return</span> <span class="nf">str</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">items</span><span class="p">)</span>
</code></pre></div> </div> <p>그리고 아래에 괕이 실습해보자.</p> <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="n">mylist</span> <span class="o">=</span> <span class="nc">MyList</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span> <span class="c1">## 앞서 선언된 MyList 클래스.
</span><span class="nf">print</span><span class="p">(</span><span class="n">mylist</span><span class="p">)</span>          <span class="c1"># [1, 2, 3]
</span>
<span class="n">mylist</span><span class="p">.</span><span class="nf">append</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="n">mylist</span><span class="p">)</span>          <span class="c1"># [1, 2, 3, 4]
</span>
<span class="nf">print</span><span class="p">(</span><span class="nf">len</span><span class="p">(</span><span class="n">mylist</span><span class="p">))</span>     <span class="c1"># 4
</span><span class="nf">print</span><span class="p">(</span><span class="n">mylist</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>       <span class="c1"># 3
</span></code></pre></div> </div> </li> </ul> <h3 id="03-1-5-여러-함수-만들어-보기">03-1-5 여러 함수 만들어 보기</h3> <ul> <li> <p>Hooke’s law</p> \[\sigma = E \varepsilon\] <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">hooke</span><span class="p">(</span><span class="n">modulus</span><span class="p">,</span><span class="n">epsilon</span><span class="p">):</span>
<span class="k">return</span> <span class="n">modulus</span> <span class="o">*</span> <span class="n">epsilon</span>
</code></pre></div> </div> </li> <li> <p>개념:</p> </li> </ul> <p>수식을 Python함수로 만들려면, 각 물리량을 뜻하는 기호에 적당한 이름을 붙여 변수로 지정해야 겠다. 나는 앞의 예제에서, 우선 첫번째로, 함수의 이름을 <code class="language-plaintext highlighter-rouge">hooke</code>이라 지었다. 그리고 변형률을 저장할 변수를 그에 해당하는 기호 $\varepsilon$ (epsilon)을 말 그대로 <code class="language-plaintext highlighter-rouge">epsilon</code>이라 지었고, 탄성계수(elastic modulus)에서 <code class="language-plaintext highlighter-rouge">modulus</code>를 사용했다. 같은 함수를 아래와 같이 작성할 수 있고, 정확히 같은 기능을 수행한다. 하지만, 전혀 추천되지 않는 이름들을 사용했다. 프로그램이 작고 간단할 때는 큰 문제가 되지 않을 수 있으나, 점점 프로그램이 커지고 복잡해지면 이와 같은 너무 간단한 이름은 선언될 때 본디 뜻하던 변수를 기억하기 쉽지 않고, 실수를 범하게 쉽게 만든다.</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">a</span><span class="p">(</span><span class="n">b</span><span class="p">,</span><span class="n">c</span><span class="p">):</span>
<span class="k">return</span> <span class="n">a</span><span class="o">*</span><span class="n">b</span>
</code></pre></div></div> <ul> <li> <p>Engineering strain &amp; true strain</p> \[\epsilon=\frac{\Delta l}{l_0}\] <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">calc_engi_strain</span><span class="p">(</span><span class="n">l0</span><span class="p">,</span><span class="n">l1</span><span class="p">):</span>
<span class="n">delta_l</span><span class="o">=</span><span class="n">l1</span><span class="o">-</span><span class="n">l0</span>
<span class="k">return</span> <span class="n">delta_l</span><span class="o">/</span><span class="n">l0</span>
</code></pre></div> </div> </li> <li> <p>True strain</p> \[\varepsilon=\ln(\epsilon+1)\] <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">calc_true_strain</span><span class="p">(</span><span class="n">engi_eps</span><span class="p">):</span>
<span class="kn">import</span> <span class="n">math</span>
<span class="n">true_eps</span><span class="o">=</span><span class="n">math</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="mi">1</span><span class="o">+</span><span class="n">engi_eps</span><span class="p">)</span> <span class="c1">## log function with base of e.
</span><span class="k">return</span> <span class="n">true_eps</span>
</code></pre></div> </div> </li> <li> <p>예시: 길이 변화를 주면 true strain을 계산하는 함수를 작성하시오.</p> </li> <li> <p>Schmid law</p> \[\tau=\sigma \cos\phi \cos\lambda\] <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">schmid</span><span class="p">(</span><span class="n">sigma</span><span class="p">,</span><span class="n">phi</span><span class="p">,</span><span class="n">lamb</span><span class="p">):</span>
<span class="sh">"""</span><span class="s">
Arguments
---------
sigma: float
  uniaxial stress
phi: float (in radian)
  angle between the slip plane normal and the loading direction
lamb: float (in radian)
  angle between the slip direction and the loading direction

Returns
-------
Schmid factor
</span><span class="sh">"""</span>
<span class="kn">import</span> <span class="n">math</span>
<span class="k">return</span> <span class="n">sigma</span><span class="o">*</span><span class="n">math</span><span class="p">.</span><span class="nf">cos</span><span class="p">(</span><span class="n">phi</span><span class="p">)</span><span class="o">*</span><span class="n">math</span><span class="p">.</span><span class="nf">cos</span><span class="p">(</span><span class="n">lamb</span><span class="p">)</span>
</code></pre></div> </div> </li> <li> <p>위치 인자 (*args); tuple</p> <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">poly</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="o">*</span><span class="n">args</span><span class="p">):</span>
  <span class="sh">"""</span><span class="s">
  polynomial function

  y = a x^n + b x^(n-1) + c x^(n-2) ... z x^0

  Arguments
  ---------
  x,*args

  Returns
  -------
  y
  </span><span class="sh">"""</span>
  <span class="n">n</span><span class="o">=</span><span class="nf">len</span><span class="p">(</span><span class="n">args</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span> <span class="c1"># highest order
</span>  <span class="n">y</span><span class="o">=</span><span class="mf">0.</span>
  <span class="nf">print</span><span class="p">(</span><span class="sh">'</span><span class="s">n,i,arg</span><span class="sh">'</span><span class="p">)</span>
  <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">arg</span> <span class="ow">in</span> <span class="nf">enumerate</span><span class="p">(</span><span class="n">args</span><span class="p">):</span>
	  <span class="c1"># print(n,i,arg)
</span>	  <span class="n">y</span><span class="o">+=</span><span class="n">arg</span><span class="o">*</span><span class="p">(</span><span class="n">x</span><span class="o">**</span><span class="n">n</span><span class="p">)</span> <span class="c1">#
</span>	  <span class="n">n</span><span class="o">-=</span><span class="mi">1</span>          <span class="c1"># in descending order
</span>  <span class="k">return</span> <span class="n">y</span>
</code></pre></div> </div> </li> <li> <p>키워드 인자 (keyword arguments; **kwargs); dictionary 활용</p> <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">get_sum</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">):</span>
  <span class="nb">sum</span><span class="o">=</span><span class="mf">0.</span>
  <span class="k">for</span> <span class="n">arg</span> <span class="ow">in</span> <span class="n">args</span><span class="p">:</span>
	  <span class="nb">sum</span><span class="o">=</span><span class="nb">sum</span><span class="o">+</span><span class="n">arg</span>
  <span class="k">return</span> <span class="nb">sum</span>
<span class="nf">get_sum</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">)</span> <span class="c1">#? what's going to be the correct answer?
</span><span class="k">def</span> <span class="nf">introduce</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
  <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="p">.</span><span class="nf">items</span><span class="p">():</span>
	  <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s">: </span><span class="si">{</span><span class="n">value</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
<span class="nf">introduce</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="sh">"</span><span class="s">Alice</span><span class="sh">"</span><span class="p">,</span> <span class="n">age</span><span class="o">=</span><span class="mi">25</span><span class="p">,</span> <span class="n">country</span><span class="o">=</span><span class="sh">"</span><span class="s">Korea</span><span class="sh">"</span><span class="p">)</span>
</code></pre></div> </div> </li> </ul> <h2 id="수업-03-2-모듈-만들기">수업 03-2 (모듈 만들기)</h2> <h3 id="03-2-1-개념">03-2-1 개념</h3> <ul> <li>CLI (command-line interface)</li> <li>모듈화 (modularization) <ul> <li>프로그램을 기능별로 나뉘어 파일(모듈)로 분리</li> <li>코드 재사용성(reuseability) 향상, 유지보수 용이, 협업시 효율성 증가</li> <li>모듈(module)은 <code class="language-plaintext highlighter-rouge">.py</code> 파일을 가르킨다.</li> <li>패키지는 여러 모듈의 모임이다.</li> <li>라이브러리(library)는 모듈과 패키지의 모임.</li> </ul> </li> </ul> <h3 id="03-2-2-실습">03-2-2 실습</h3> <h4 id="03-2-3-ex-01-간단한-모듈-만들기-더하기-곱하기">03-2-3. ex 01: 간단한 모듈 만들기 (더하기 곱하기)</h4> <ol> <li>모듈 작성</li> </ol> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># 아래 모듈을 작성 후 mymodule.py로 저장하자.
</span><span class="k">def</span> <span class="nf">add</span><span class="p">(</span><span class="n">valuea</span><span class="p">,</span> <span class="n">valueb</span><span class="p">):</span>
	  <span class="k">return</span> <span class="n">valuea</span> <span class="o">+</span> <span class="n">valueb</span>

<span class="k">def</span> <span class="nf">multiply</span><span class="p">(</span><span class="n">valuea</span><span class="p">,</span> <span class="n">valueb</span><span class="p">):</span>
	  <span class="k">return</span> <span class="n">valuea</span> <span class="o">*</span> <span class="n">valueb</span>

<span class="k">def</span> <span class="nf">power</span><span class="p">(</span><span class="n">valuea</span><span class="p">,</span> <span class="n">valueb</span><span class="p">):</span>
	  <span class="k">return</span> <span class="n">valuea</span> <span class="o">**</span> <span class="n">valueb</span>
</code></pre></div></div> <ol> <li>그 다음 아래를 활용해 mymodule을 불러와 보자.</li> </ol> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="n">mymodel</span>
<span class="n">mymodule</span><span class="p">.</span><span class="nf">add</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">)</span>
<span class="n">mymodule</span><span class="p">.</span><span class="nf">multiply</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">)</span>
<span class="n">mymodule</span><span class="p">.</span><span class="nf">power</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">)</span>
</code></pre></div></div> <ol> <li>etc</li> </ol> <ul> <li>작성된 모듈이 저장된 위치가 중요하다!</li> <li>개개인이 활용하는 시스템<img class="emoji" title=":computer:" alt=":computer:" src="https://github.githubassets.com/images/icons/emoji/unicode/1f4bb.png" height="20" width="20">의 환경변수 (windows의 경우)에 의해 행동이 달라질 수 있다.</li> <li>Linux/macOS의 경우에는 활용하는 shell의 닷 파일 (.sh, .bash, .zsh 등등)에서 지정된 $PATH 등의 변수에 의해 달라질 수 있다.</li> </ul> <h4 id="03-2-4-ex-02-cli에서-arguments-받기">03-2-4. ex 02: CLI에서 arguments 받기</h4> <ul> <li> <ol> <li>기초 모듈 작성</li> </ol> <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="c1"># file: ex02.py
</span><span class="kn">import</span> <span class="n">sys</span>
<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="sh">"</span><span class="s">__main__</span><span class="sh">"</span><span class="p">:</span>
  <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">Arguments:</span><span class="sh">"</span><span class="p">,</span> <span class="n">sys</span><span class="p">.</span><span class="n">argv</span><span class="p">)</span>
</code></pre></div> </div> </li> <li> <ol> <li>Arguments의 역할을 이해하기 위해서 아래 실행</li> </ol> <ul> <li>2-1. Windows 환경</li> </ul> <div class="language-sh highlighter-rouge"> <div class="highlight"><pre class="highlight"><code>c:<span class="se">\u</span>sers<span class="se">\u</span>ser<span class="se">\r</span>epo<span class="se">\m</span>se&gt; python ex02.py a b c 1 23
</code></pre></div> </div> <ul> <li>2-2. MacOS/Linux 환경</li> </ul> <div class="language-sh highlighter-rouge"> <div class="highlight"><pre class="highlight"><code>~/repo/mse <span class="nv">$ </span>python ex02.py a b c 1 2 3
</code></pre></div> </div> </li> <li> <ol> <li>실행 후 출력 결과 살펴보기</li> </ol> </li> <li> <ol> <li>더 상세한 argument parsing</li> </ol> <ul> <li> <p>4-1. Argument parse 읽을 거리</p> </li> <li> <a href="https://docs.python.org/ko/3.7/library/argparse.html" rel="external nofollow noopener" target="_blank">Argparse</a> 활용</li> <li> <p><a href="https://docs.python.org/ko/3.7/howto/argparse.html#id1" rel="external nofollow noopener" target="_blank">Argparse 자습서</a></p> </li> <li> <p>4-2. 단계별로 작성해보기.</p> </li> <li> <p>4-2-1. 간단한 작동</p> <p>아래를 myprogram.py 파일(모듈)로 작성하여 저장하자.</p> <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="n">argparse</span>
<span class="k">if</span> <span class="n">__name__</span><span class="o">==</span><span class="sh">'</span><span class="s">__main__</span><span class="sh">'</span><span class="p">:</span>
<span class="n">parser</span> <span class="o">=</span> <span class="n">argparse</span><span class="p">.</span><span class="nc">ArgumentParser</span><span class="p">()</span>
<span class="n">parser</span><span class="p">.</span><span class="nf">parse_args</span><span class="p">()</span>
</code></pre></div> </div> <p>그 다음 CLI에서 아래와 같이 명령문을 쳐보자.</p> <div class="language-batch highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="kd">c</span>:/users/user&gt; <span class="kd">python</span> <span class="kd">myprogram</span>.py <span class="na">--help
</span><span class="kd">usage</span>: <span class="kd">main</span>.py <span class="o">[</span><span class="na">-h</span><span class="o">]</span>

<span class="kd">options</span>:
<span class="na">-h</span><span class="o">,</span> <span class="na">--help  </span><span class="kd">show</span> <span class="kd">this</span> <span class="nb">help</span> <span class="kd">message</span> <span class="kd">and</span> <span class="k">exit</span>
</code></pre></div> </div> </li> <li> <p>4-2-2. positional argument</p> <p>다음으로 myprogram.py을 열어서 다음과 같이 수정해봅시다. <code class="language-plaintext highlighter-rouge">x</code> argument를 추가하였고, $x^2$을 출력합니다.</p> <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="n">argparse</span>
<span class="k">if</span> <span class="n">__name__</span><span class="o">==</span><span class="sh">'</span><span class="s">__main__</span><span class="sh">'</span><span class="p">:</span>
<span class="n">parser</span> <span class="o">=</span> <span class="n">argparse</span><span class="p">.</span><span class="nc">ArgumentParser</span><span class="p">()</span>
<span class="n">parser</span><span class="p">.</span><span class="nf">add_argument</span><span class="p">(</span><span class="sh">"</span><span class="s">x</span><span class="sh">"</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="nb">int</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="sh">"</span><span class="s">the base</span><span class="sh">"</span><span class="p">)</span>
<span class="n">args</span><span class="o">=</span><span class="n">parser</span><span class="p">.</span><span class="nf">parse_args</span><span class="p">()</span>

<span class="nf">print</span><span class="p">(</span><span class="n">args</span><span class="p">.</span><span class="n">x</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span>
</code></pre></div> </div> </li> <li> <p>4-2-3. <code class="language-plaintext highlighter-rouge">--help</code> 기능</p> <p>아래와 같이 명령문을 입력하면 …</p> <pre><code class="language-dos">c:\users\user&gt; python myprogram.py --help
</code></pre> <p>다음과 같이 출력되었나? 출력된 결과물을 살펴보자.</p> <pre><code class="language-dos">usage: main.py [-h] x

positional arguments:
x           the base

options:
-h, --help  show this help message and exit

</code></pre> </li> <li> <p>4-2-4. 변경된 영향 확인</p> <p>명령어를 바꿔 다음과 같이 입력해보자.</p> <div class="language-sh highlighter-rouge"> <div class="highlight"><pre class="highlight"><code>c:<span class="se">\u</span>sers<span class="se">\u</span>ser&gt; python myprogram.py 3
given x: 3
x^2: 9
</code></pre></div> </div> </li> <li> <p>4-2-5. Additional options</p> <p>a. 다음으로 myprogram.py을 열어서 다음과 같이 수정해봅시다.</p> <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="n">argparse</span>

<span class="k">def</span> <span class="nf">add</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">):</span>
  <span class="k">return</span> <span class="n">x</span><span class="o">+</span><span class="n">y</span>

<span class="k">if</span> <span class="n">__name__</span><span class="o">==</span><span class="sh">'</span><span class="s">__main__</span><span class="sh">'</span><span class="p">:</span>
  <span class="n">parser</span><span class="o">=</span><span class="n">argparse</span><span class="p">.</span><span class="nc">ArgumentParser</span><span class="p">()</span>
  <span class="n">parser</span><span class="p">.</span><span class="nf">add_argument</span><span class="p">(</span><span class="sh">'</span><span class="s">x</span><span class="sh">'</span><span class="p">,</span><span class="nb">type</span><span class="o">=</span><span class="nb">int</span><span class="p">,</span><span class="n">help</span><span class="o">=</span><span class="sh">'</span><span class="s">the 1st base</span><span class="sh">'</span><span class="p">)</span>
  <span class="n">parser</span><span class="p">.</span><span class="nf">add_argument</span><span class="p">(</span><span class="sh">'</span><span class="s">y</span><span class="sh">'</span><span class="p">,</span><span class="nb">type</span><span class="o">=</span><span class="nb">int</span><span class="p">,</span><span class="n">help</span><span class="o">=</span><span class="sh">'</span><span class="s">the 2nd base</span><span class="sh">'</span><span class="p">)</span>
  <span class="n">parser</span><span class="p">.</span><span class="nf">add_argument</span><span class="p">(</span><span class="sh">'</span><span class="s">--myname</span><span class="sh">'</span><span class="p">,</span><span class="nb">type</span><span class="o">=</span><span class="nb">str</span><span class="p">,</span><span class="n">help</span><span class="o">=</span><span class="sh">'</span><span class="s">My Name</span><span class="sh">'</span><span class="p">)</span>
  <span class="n">args</span><span class="o">=</span><span class="n">parser</span><span class="p">.</span><span class="nf">parse_args</span><span class="p">()</span>

  <span class="nf">print</span><span class="p">(</span><span class="sh">'</span><span class="s">Myname:</span><span class="sh">'</span><span class="p">,</span><span class="n">args</span><span class="p">.</span><span class="n">myname</span><span class="p">)</span>
  <span class="nf">print</span><span class="p">(</span><span class="sh">'</span><span class="s">given x:</span><span class="sh">'</span><span class="p">,</span> <span class="n">args</span><span class="p">.</span><span class="n">x</span><span class="p">)</span>
  <span class="nf">print</span><span class="p">(</span><span class="sh">'</span><span class="s">given y:</span><span class="sh">'</span><span class="p">,</span> <span class="n">args</span><span class="p">.</span><span class="n">y</span><span class="p">)</span>
  <span class="n">multiplied</span><span class="o">=</span><span class="nf">add</span><span class="p">(</span><span class="n">args</span><span class="p">.</span><span class="n">x</span><span class="p">,</span><span class="n">args</span><span class="p">.</span><span class="n">y</span><span class="p">)</span>
  <span class="nf">print</span><span class="p">(</span><span class="sh">'</span><span class="s">x times y:</span><span class="sh">'</span><span class="p">,</span> <span class="n">multiplie</span><span class="p">)</span>
</code></pre></div> </div> <p>b. CLI에서 아래를 실행하면</p> <pre><code class="language-dos">c:\users\user&gt; python main.py --help
</code></pre> <p>다음과 같이 <code class="language-plaintext highlighter-rouge">positional arguments</code>와 <code class="language-plaintext highlighter-rouge">options</code>이 출력된다.</p> <pre><code class="language-dos">usage: main.py [-h] [--myname MYNAME] x y

positional arguments:
x                the 1st base
y                the 2nd base

options:
-h, --help       show this help message and exit
--myname MYNAME  My Name
</code></pre> <p><code class="language-plaintext highlighter-rouge">--myname</code>옵션의 경우 <code class="language-plaintext highlighter-rouge">MYNAME</code>이라는 입력이 필요함을 알 수 있다.</p> <p>c. 실행해보자.</p> <pre><code class="language-dos">c:\users\user&gt; python main.py 3 4 --myname mike
Myname: mike
given x: 3
given y: 4
x times y: 7
</code></pre> </li> </ul> </li> </ul> <h4 id="예제">예제</h4> <ul> <li>주어진 정수에 대한 구구단을 출력하는 CLI용 프로그램 만들어 보자.</li> </ul> <p><br><br> <br><br> <br><br> <br><br></p> <hr> <h1 id="week4">Week4</h1> <ul> <li>file IO / NumPy 01 - 기초 배열(array) 이해</li> <li>목표 <ul> <li>파일을 활용해 데이터 input/output의 활용 가능하다.</li> <li>NumPy 기초를 이해한다.</li> </ul> </li> </ul> <p><br><br> <br><br></p> <h2 id="수업-04-1-기초-fileio">수업 04-1 기초 (file/IO)</h2> <h3 id="04-1-1-개념">04-1-1. 개념</h3> <p>Python에서 파일을 통한 I/O는 <code class="language-plaintext highlighter-rouge">open()</code> 함수 활용한다 (자세한 설명은 <a href="https://docs.python.org/3/library/functions.html#open" rel="external nofollow noopener" target="_blank">여기</a>를 참고바람). <code class="language-plaintext highlighter-rouge">open</code>함수를 통해 파일 오브젝트를 생성하고, 이를 통해 파일로 data를 입력하거나, 파일로부터 data를 불러올 수 있다. open의 경우 파일을 여는 여러가지 모드가 있다. <code class="language-plaintext highlighter-rouge">open</code>함수에 arguments로 filename을 입력하고, 모드를 지정한다.</p> <ul id="----" class="tab" data-tab="385cd252-a2f2-4fb1-8219-3ed76f2f1365" data-name="----"> <li class="active" id="-----read"> <a href="#">read </a> </li> <li id="-----write"> <a href="#">write </a> </li> <li id="-----append"> <a href="#">append </a> </li> <li id="-----binary"> <a href="#">binary </a> </li> </ul> <ul class="tab-content" id="385cd252-a2f2-4fb1-8219-3ed76f2f1365" data-name="----"> <li class="active"> <p>myFile = open(file=’filenamehere’, mode=’r’)</p> </li> <li> <p>myFile = open(file=’filenamehere’, mode=’w’)</p> </li> <li> <p>myFile = open(file=’filenamehere’, mode=’a’)</p> </li> <li> <p>myFile = open(file=’filenamehere’, mode=’binary’)</p> </li> </ul> <h4 id="04-1-2-예시">04-1-2. 예시</h4> <ul> <li> <p>예시1. (텍스트 파일 <strong>쓰기</strong>)</p> <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="c1"># 파일 쓰기
</span><span class="k">with</span> <span class="nf">open</span><span class="p">(</span><span class="sh">"</span><span class="s">example.txt</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">w</span><span class="sh">"</span> <span class="n">encoding</span><span class="o">=</span><span class="sh">"</span><span class="s">utf-8</span><span class="sh">"</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
<span class="n">f</span><span class="p">.</span><span class="nf">write</span><span class="p">(</span><span class="sh">"</span><span class="s">Hi people in Changwon National University!</span><span class="se">\n</span><span class="sh">"</span><span class="p">)</span>
<span class="n">f</span><span class="p">.</span><span class="nf">write</span><span class="p">(</span><span class="sh">"</span><span class="s">This is an example text file!</span><span class="se">\n</span><span class="sh">"</span><span class="p">)</span>
</code></pre></div> </div> </li> <li> <p>예시2. (텍스트 파일 <strong>읽기</strong>)</p> <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="c1"># 파일 읽기
</span><span class="k">with</span> <span class="nf">open</span><span class="p">(</span><span class="sh">"</span><span class="s">example.txt</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">r</span><span class="sh">"</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="sh">"</span><span class="s">utf-8</span><span class="sh">"</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
<span class="n">lines</span> <span class="o">=</span> <span class="n">f</span><span class="p">.</span><span class="nf">readlines</span><span class="p">()</span>  <span class="c1"># 모든 줄을 리스트로 읽기
</span><span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">lines</span><span class="p">:</span>
<span class="nf">print</span><span class="p">(</span><span class="n">line</span><span class="p">.</span><span class="nf">strip</span><span class="p">())</span>  <span class="c1"># strip() → 줄바꿈 제거
</span></code></pre></div> </div> </li> <li> <p>예시3. (성적 처리) 다음 <a href="/assets/dat_files/lectures/1_2_data_mse/score_record_2017_MF_final_analysis.txt">파일</a> 을 읽고 평균, 표준 편차, 그리고 최고점과 최저점을 받은 학생 번호를 찾는 파이썬 프로그램을 만들어 보자.</p> <pre><code class="language-txt">ID Score
--------------
xxxx5093  14.0
xxxx5298  53.0
xxxx3374  28.0
xxxx3374  41.0
xxxx5116  15.0
xxxx5122  16.0
xxxx5102  10.0
xxxx6114   6.0
xxxx5108  26.0
xxxx6135  22.0
xxxx4246  12.0
xxxx1513  11.0
xxxx5115  42.0
xxxx5140  41.0
xxxx5105  44.0
xxxx4254  67.0
xxxx3341  47.0
xxxx5100  48.0
xxxx4264  55.0
xxxx5127  53.0
xxxx4235  44.0
xxxx4249  67.0
xxxx4257  41.0
xxxx5146  53.0
xxxx4273  62.0
xxxx4275  64.0
xxxx4258  62.0
xxxx4282  58.0
xxxx4236  77.0
xxxx4269  38.0
xxxx4445  50.0
xxxx5142  53.0
</code></pre> </li> <li> <p>예시4. 예시 3과 같은 파일이 여럿 주어진다면, 각 파일마다 예시3의 작업을 반복 수행하는 CLI에서 활용 가능한 Pythonn module을 만들자.</p> </li> <li> <p>예시5. (모든 파일의 이름 바꾸기) 다음 <a href="/assets/dat_files/lectures/1_2_data_mse/tensile_test_results.zip">압축파일</a>을 풀어서 살펴보자. 여기서 파일 이름에서 ‘WZ’를 모두 ‘EX’로 바꾸고 싶다. 어떻게 해야할까?</p> <pre><code class="language-dos">c:\users\user&gt; ren 00_DD_WZ_01.csv 00_DD_EX_01.csv
c:\users\user&gt; ren 00_DD_WZ_02.csv 00_DD_EX_02.csv
...
</code></pre> <p>혹은 복사?</p> <pre><code class="language-dos">c:\users\user&gt; cp 00_DD_WZ_01.csv 00_DD_EX_01.csv
c:\users\user&gt; cp 00_DD_WZ_02.csv 00_DD_EX_02.csv
...
</code></pre> <p>혹은 마우스로 일일이 눌러서 바꿀 수도 있겠다. Python으로 가능할까?</p> <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="c1"># os.copy
# glob
# os.getcwd()
# os.listdir(os.getcwd())
# `str`의 split을 찾거나, 혹은 index를 활용해 바꿀 수도 있겠다.
</span></code></pre></div> </div> </li> </ul> <h3 id="문자열-포매팅">문자열 포매팅</h3> <h4 id="퍼센트--방식">퍼센트 (%) 방식</h4> <p>문자열에 <code class="language-plaintext highlighter-rouge">%s</code>, <code class="language-plaintext highlighter-rouge">%d</code>, <code class="language-plaintext highlighter-rouge">%i</code>, <code class="language-plaintext highlighter-rouge">%f</code>기호를 삽입하여 문자나 값을 대체하여 넣을 수 있다. 아래 예문을 보면, <code class="language-plaintext highlighter-rouge">name</code>과 <code class="language-plaintext highlighter-rouge">density</code>를 <code class="language-plaintext highlighter-rouge">print</code>가 되는 문자열 속에 특정 위치에 삽입 후 출력하는 것을 확인할 수 있다.</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">name</span><span class="o">=</span><span class="sh">'</span><span class="s">Iron</span><span class="sh">'</span>
<span class="n">density</span><span class="o">=</span><span class="mf">7.87</span>
<span class="nf">print</span><span class="p">(</span><span class="sh">'</span><span class="s">The density of %s is %d g/cm^3</span><span class="sh">'</span><span class="o">%</span><span class="p">(</span><span class="n">name</span><span class="p">,</span><span class="n">density</span><span class="p">))</span>
</code></pre></div></div> <ul id="strform" class="tab" data-tab="4e2b0864-5580-40d7-b699-67276827b931" data-name="strform"> <li class="active" id="strform---"> <a href="#">문자 </a> </li> <li id="strform---1"> <a href="#">정수1 </a> </li> <li id="strform---2"> <a href="#">정수2 </a> </li> <li id="strform---"> <a href="#">실수 </a> </li> </ul> <ul class="tab-content" id="4e2b0864-5580-40d7-b699-67276827b931" data-name="strform"> <li class="active"> <p>%s</p> </li> <li> <p>%d</p> </li> <li> <p>%i</p> </li> <li> <p>%f</p> </li> </ul> <p>문자열 속의 실수(float)의 경우 소수점자리를 수정하여 표현할 수 있다. 아래 예제를 살펴보면, 첫번째 <code class="language-plaintext highlighter-rouge">print</code>문은 소수점 첫째자리까지, 그리고 두번째 <code class="language-plaintext highlighter-rouge">print</code>는 소수점 다섯째자리까지 출력하는 것을 확인할 수 있다.</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nf">print</span><span class="p">(</span><span class="sh">'</span><span class="s">9 / 6 = %.1f</span><span class="sh">'</span><span class="o">%</span><span class="p">(</span><span class="mi">9</span><span class="o">/</span><span class="mi">6</span><span class="p">))</span>
<span class="nf">print</span><span class="p">(</span><span class="sh">'</span><span class="s">9 / 6 = %.5f</span><span class="sh">'</span><span class="o">%</span><span class="p">(</span><span class="mi">9</span><span class="o">/</span><span class="mi">6</span><span class="p">))</span>
</code></pre></div></div> <h4 id="strformat는-다루지-않겠다"> <del>str.format()</del>는 다루지 않겠다.</h4> <h4 id="f-string">f-string</h4> <p>%를 활용한 방법만큼 널리 쓰이는 포매팅 기법은 f-string 기법이다. 아래와 같이, 문자열이 시작되는 따옴표에 앞서 <code class="language-plaintext highlighter-rouge">f</code>로 f-string형식을 활용함을 밝히고, 문자열내에 <code class="language-plaintext highlighter-rouge">{</code> 및 <code class="language-plaintext highlighter-rouge">}</code>쌍 내부에 변수의 이름을 직접 적는 방식이다. %기법은 대체되는 변수가 문자열 바깥에 기입되는 반면, f-string은 문자열 내부에 기입되어 있어 코드를 읽기가 더욱 수월하다는 장점이 있다.</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">'</span><span class="s">9/6 = </span><span class="si">{</span><span class="mi">9</span><span class="o">/</span><span class="mi">6</span><span class="si">:</span><span class="p">.</span><span class="mi">1</span><span class="n">f</span><span class="si">}</span><span class="sh">'</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">'</span><span class="s">9/6 = </span><span class="si">{</span><span class="mi">9</span><span class="o">/</span><span class="mi">6</span><span class="si">:</span><span class="p">.</span><span class="mi">5</span><span class="n">f</span><span class="si">}</span><span class="sh">'</span><span class="p">)</span>
<span class="n">val</span><span class="o">=</span><span class="mi">9</span><span class="o">/</span><span class="mi">6</span>
<span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">'</span><span class="s">9/6 = </span><span class="si">{</span><span class="n">val</span><span class="si">:</span><span class="p">.</span><span class="mi">1</span><span class="n">f</span><span class="si">}</span><span class="sh">'</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">'</span><span class="s">9/6 = </span><span class="si">{</span><span class="n">val</span><span class="si">:</span><span class="p">.</span><span class="mi">5</span><span class="n">f</span><span class="si">}</span><span class="sh">'</span><span class="p">)</span>
</code></pre></div></div> <h4 id="파일-쓰기-연습">파일 쓰기 연습</h4> <p>1에서부터 100까지 모든 정수가 한줄에 하나씩 쓰여진 파일을 만들어보자. 반복되는 작업이 예상되므로 <code class="language-plaintext highlighter-rouge">for</code>구문이 필요하겠다. 아래와 같은 코드를 <code class="language-plaintext highlighter-rouge">화면</code>에 출력하게 되겠다.</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">101</span><span class="p">):</span>
   <span class="nf">print</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
</code></pre></div></div> <p>화면에 출력하지 않고, 파일 <code class="language-plaintext highlighter-rouge">one2hund.txt</code>를 만들어 같은 방식의 출력을 다음과 같은 예시를 통해 수행할 수 있다.</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">myfile</span> <span class="o">=</span> <span class="nf">open</span><span class="p">(</span><span class="sh">'</span><span class="s">one2hund.txt</span><span class="sh">'</span><span class="p">,</span><span class="sh">'</span><span class="s">w</span><span class="sh">'</span><span class="p">)</span> <span class="c1"># file 열기
</span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">101</span><span class="p">):</span>
  <span class="n">myfile</span><span class="p">.</span><span class="nf">write</span><span class="p">(</span><span class="sa">f</span><span class="sh">'</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="sh">'</span><span class="p">)</span> <span class="c1"># myfile instance의 write method 활용
</span><span class="n">myfile</span><span class="p">.</span><span class="nf">close</span><span class="p">()</span> <span class="c1"># file 닫기
</span></code></pre></div></div> <p>이후 파일을 열어보면, 가로로 모든 숫자가 붙은채로 아래와 유사하게 출력되는 것을 확인할 수 있다.</p> <pre><code class="language-txt">123456789101112131415161718...
</code></pre> <p>각각의 정수를 개개의 줄로 출력이 되게끔 줄바꿈기호 ‘\n’를 활용하여 파일에 출력해보자.</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">myfile</span> <span class="o">=</span> <span class="nf">open</span><span class="p">(</span><span class="sh">'</span><span class="s">one2hund.txt</span><span class="sh">'</span><span class="p">,</span><span class="sh">'</span><span class="s">w</span><span class="sh">'</span><span class="p">)</span> <span class="c1"># file 열기
</span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">101</span><span class="p">):</span>
  <span class="n">myfile</span><span class="p">.</span><span class="nf">write</span><span class="p">(</span><span class="sa">f</span><span class="sh">'</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="se">\n</span><span class="sh">'</span><span class="p">)</span> <span class="c1"># myfile instance의 write method 활용
</span><span class="n">myfile</span><span class="p">.</span><span class="nf">close</span><span class="p">()</span> <span class="c1"># file 닫기
</span></code></pre></div></div> <p>파일을 열기(open)하고 닫지 않는다면 예상하지 못한 일이 발생할 수 있다. 따라서 파일 오브젝트를 <code class="language-plaintext highlighter-rouge">open</code>으로 생성한 뒤, 쓰임이 다하면 <code class="language-plaintext highlighter-rouge">close</code>메소드로 닫아야 한다. 따라서, <code class="language-plaintext highlighter-rouge">open</code>과 <code class="language-plaintext highlighter-rouge">close</code>는 짝으로 쓰일때가 많다. <code class="language-plaintext highlighter-rouge">open</code> 활용 이후 <code class="language-plaintext highlighter-rouge">close</code>구문을 깜빡하지 않게 강제시켜주는 좋은 습관은 <code class="language-plaintext highlighter-rouge">with</code>구문을 함께 활용하는 것이다. 아래 에제를 보자.</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">with</span> <span class="nf">open</span><span class="p">(</span><span class="sh">'</span><span class="s">one2hund.txt</span><span class="sh">'</span><span class="p">,</span><span class="sh">'</span><span class="s">w</span><span class="sh">'</span><span class="p">)</span> <span class="k">as</span> <span class="n">myFile</span> <span class="c1"># file 열기
</span>   <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">101</span><span class="p">):</span>
      <span class="n">myfile</span><span class="p">.</span><span class="nf">write</span><span class="p">(</span><span class="sa">f</span><span class="sh">'</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="se">\n</span><span class="sh">'</span><span class="p">)</span> <span class="c1"># write method 활용
</span></code></pre></div></div> <p>with와 indented된 구역으로 나누어 구성되어, 더욱 세련되게 코드 작성을 도와주고 읽기 쉽게 만들어준다.</p> <h4 id="파일-읽기-연습">파일 읽기 연습</h4> <p>위 쓰기에 이어서, 생성된 파일을 읽어보자.</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">myfile</span><span class="o">=</span> <span class="nf">open</span><span class="p">(</span><span class="sh">'</span><span class="s">one2hund.txt</span><span class="sh">'</span><span class="p">,</span><span class="sh">'</span><span class="s">w</span><span class="sh">'</span><span class="p">)</span> <span class="c1"># file 열기
</span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">101</span><span class="p">):</span>
  <span class="n">myfile</span><span class="p">.</span><span class="nf">write</span><span class="p">(</span><span class="sa">f</span><span class="sh">'</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="se">\n</span><span class="sh">'</span><span class="p">)</span> <span class="c1"># myfile instance의 write method 활용
</span><span class="n">myfile</span><span class="p">.</span><span class="nf">close</span><span class="p">()</span> <span class="c1"># file 닫기
</span>
<span class="n">myfile</span> <span class="o">=</span> <span class="nf">open</span><span class="p">(</span><span class="sh">'</span><span class="s">one2hund.txt</span><span class="sh">'</span><span class="p">,</span><span class="sh">'</span><span class="s">r</span><span class="sh">'</span><span class="p">)</span> <span class="c1"># file 열기
</span><span class="n">cnt</span><span class="o">=</span><span class="n">myfile</span><span class="p">.</span><span class="nf">read</span><span class="p">()</span>
<span class="nf">print</span><span class="p">(</span><span class="n">cnt</span><span class="p">)</span>
</code></pre></div></div> <p><br><br><br><br></p> <h2 id="수업-04-2-numpy-기초">수업 04-2 (NumPy 기초)</h2> <h3 id="기초-개념">기초 개념</h3> <ul> <li> <a href="https://numpy.org" rel="external nofollow noopener" target="_blank">NumPy</a>는 파이썬 환경에서, 고성능 수치 계산을 위한 library이다. 사실 빠른 연산을 위해 최적화된 <a href="https://www.c-language.org" rel="external nofollow noopener" target="_blank">C</a>나 <a href="https://fortran-lang.org" rel="external nofollow noopener" target="_blank">FORTRAN</a> library를 활용한다.</li> <li>공식 사이트에서 더욱 상세히 배울 수 있다: <a href="https://numpy.org/devdocs/user/quickstart.html" rel="external nofollow noopener" target="_blank">링크</a>.</li> </ul> <p>불행하게도, 많은 인터넷 자료가 그렇듯이, 문서가 영어로 작성되어 있다. 다행히도 최신 브라우저들은 번역 기능이 탑재되어 있으니 활용하면 좋겠다.</p> <p>앞서 List를 활용하여, math package를 함께 사용하면, 스칼라, 벡터, 행렬 등을 대상으로 다양한 수학적 연산을 수행할 수 있다. 하지만 Python의 built-in 기능으로는 빠른 수학적 연산처리가 어렵다. 이를 보완하고자 연산속도가 빠르면서도 다양한 수학적 기능을 도와주는 <a href="https://numpy.org" rel="external nofollow noopener" target="_blank">NumPy</a>패키지가 개발되었다. NumPy설치를 위해서는 <code class="language-plaintext highlighter-rouge">pip</code>를 활용할 수 있다. 인터넷이 연결된 컴퓨터의 CLI환경에서 다음과 같이 명령어를 입력하면 설치가 가능하다. 인터넷으로 연결된 시스템의 터미널에서 아래와 같이 입력하면 설치된다.</p> <div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>c:/users/user/myrepo&gt; pip <span class="nb">install </span>numpy
</code></pre></div></div> <p>이후 파이썬 환경에서 NumPy패키지를 import해 사용하면 되겠다. 많은 경우, 아래와 같이 <code class="language-plaintext highlighter-rouge">np</code>라는 이름으로 불러오는 경우가 많다.</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="n">numpy</span> <span class="k">as</span> <span class="n">np</span>
</code></pre></div></div> <p>다른 많은 Python 패키지들과 마찬가지로, open source 프로젝트로 개발되었으며, 현재로 활발히 업데이트가 되고 있다. 따라서 새로운 기능이 추가되거나, 종전의 기능이 없어지는 경우가 있으므로, 어떠한 버전을 활용하고 있는지 확인이 필요할 때가 있다. 그리고 한 시스템내에서 다양한 위치에 서로다른 패키지가 설치될 때가 있으므로, 사용되는 NumPy패키지의 위치를 확인할 필요가 있다. 아래의 두 경우를 살펴보자.</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="n">numpy</span> <span class="k">as</span> <span class="n">np</span>
<span class="nf">print</span><span class="p">(</span><span class="n">np</span><span class="p">.</span><span class="n">__version__</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="n">np</span><span class="p">.</span><span class="n">__file__</span><span class="p">)</span>
</code></pre></div></div> <p>List로 생성된 값의 모임을 간단히 NumPy배열 형식 <code class="language-plaintext highlighter-rouge">numpy.ndarray</code>로 간편히 바꿀 수 있다. 아래 예시들을 살펴보자.</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># 1차원 배열
</span><span class="n">arr1</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="nf">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>  <span class="c1"># np.array 클래스 생성.
</span><span class="nf">print</span><span class="p">(</span><span class="n">arr1</span><span class="p">)</span>

<span class="c1"># 2차원 배열
</span><span class="n">arr2</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="nf">array</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]])</span>
<span class="nf">print</span><span class="p">(</span><span class="n">arr2</span><span class="p">)</span>

<span class="c1"># 0으로 채운 배열
</span><span class="n">zeros_arr</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="nf">zeros</span><span class="p">((</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>  <span class="c1"># zeros method활용하여 2x3배열
</span><span class="nf">print</span><span class="p">(</span><span class="n">zeros_arr</span><span class="p">)</span>

<span class="c1"># 1로 채운 배열
</span><span class="n">ones_arr</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="nf">ones</span><span class="p">((</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span> <span class="c1"># 3x3배열
</span><span class="nf">print</span><span class="p">(</span><span class="n">ones_arr</span><span class="p">)</span>

<span class="c1"># 특정 값으로 채운 배열
</span><span class="n">full_arr</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="nf">full</span><span class="p">((</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="mi">7</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="n">full_arr</span><span class="p">)</span>

<span class="c1"># 연속된 수
</span><span class="n">range_arr</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="nf">arange</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>  <span class="c1"># 0부터 10 전까지 2씩 증가
</span><span class="nf">print</span><span class="p">(</span><span class="n">range_arr</span><span class="p">)</span>

<span class="c1"># 랜덤 배열
</span><span class="n">rand_arr</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="n">random</span><span class="p">.</span><span class="nf">rand</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>  <span class="c1"># 0~1 사이 난수
</span><span class="nf">print</span><span class="p">(</span><span class="n">rand_arr</span><span class="p">)</span>
</code></pre></div></div> <p><code class="language-plaintext highlighter-rouge">numpy.ndarray</code>형식은 NumPy의 array클래스의 instance로써, 다양한 속성(attributes)와 매서드(method) 갖고 있다. 아래의 attributes와 매서드가 자주 쓰인다. 그 쓰임을 익힐 필요가 있다.</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">arr</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="nf">array</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]])</span>
<span class="nf">print</span><span class="p">(</span><span class="n">arr</span><span class="p">.</span><span class="n">shape</span><span class="p">)</span>   <span class="c1"># (2, 3) → 2행 3열
</span><span class="nf">print</span><span class="p">(</span><span class="n">arr</span><span class="p">.</span><span class="n">ndim</span><span class="p">)</span>    <span class="c1"># 차원 수 → 2
</span><span class="nf">print</span><span class="p">(</span><span class="n">arr</span><span class="p">.</span><span class="n">size</span><span class="p">)</span>    <span class="c1"># 전체 원소 개수 → 6
</span><span class="nf">print</span><span class="p">(</span><span class="n">arr</span><span class="p">.</span><span class="n">dtype</span><span class="p">)</span>   <span class="c1"># 데이터 타입 → int64 (환경에 따라 다름)
</span><span class="nf">print</span><span class="p">(</span><span class="n">arr</span><span class="p">.</span><span class="nf">ravel</span><span class="p">())</span> <span class="c1">## memory-efficient
</span><span class="nf">print</span><span class="p">(</span><span class="n">arr</span><span class="p">.</span><span class="nf">flatten</span><span class="p">())</span> <span class="c1">## independent copy
</span><span class="nf">print</span><span class="p">(</span><span class="n">arr</span><span class="p">.</span><span class="nf">ravel</span><span class="p">().</span><span class="nf">sum</span><span class="p">())</span>
<span class="nf">print</span><span class="p">(</span><span class="n">arr</span><span class="p">.</span><span class="nf">flatten</span><span class="p">().</span><span class="nf">sum</span><span class="p">())</span>
</code></pre></div></div> <p>NumPy의 배열간의 연산은 벡터화되어 속도가 빠르다. 많은 경우, <code class="language-plaintext highlighter-rouge">for</code>, <code class="language-plaintext highlighter-rouge">range</code> 등의 일반적인 반복문 필요없어, 간단한 형태로 표기되어, list를 활용한 것보다 수식 표현과 연산속도에 유리하다.</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">a</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="nf">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>
<span class="n">b</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="nf">array</span><span class="p">([</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">])</span>

<span class="nf">print</span><span class="p">(</span><span class="n">a</span> <span class="o">+</span> <span class="n">b</span><span class="p">)</span>   <span class="c1"># [5 7 9]
</span><span class="nf">print</span><span class="p">(</span><span class="n">a</span> <span class="o">-</span> <span class="n">b</span><span class="p">)</span>   <span class="c1"># [-3 -3 -3]
</span><span class="nf">print</span><span class="p">(</span><span class="n">a</span> <span class="o">*</span> <span class="n">b</span><span class="p">)</span>   <span class="c1"># [ 4 10 18]  (요소별 곱)
</span><span class="nf">print</span><span class="p">(</span><span class="n">a</span> <span class="o">/</span> <span class="n">b</span><span class="p">)</span>   <span class="c1"># [0.25 0.4 0.5]
</span><span class="nf">print</span><span class="p">(</span><span class="n">a</span> <span class="o">**</span> <span class="mi">2</span><span class="p">)</span>  <span class="c1"># [1 4 9]    (제곱)
</span>

<span class="c1">## 각각의 경우 List를 활용했을 때 훨씬 많은 코딩 필요함.
</span><span class="n">c</span><span class="o">=</span><span class="p">[]</span> <span class="c1"># +
</span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="n">a</span><span class="p">):</span>
  <span class="n">c</span><span class="p">.</span><span class="nf">append</span><span class="p">(</span><span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">+</span><span class="n">b</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>

<span class="n">c</span><span class="o">=</span><span class="p">[]</span> <span class="c1"># -
</span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="n">a</span><span class="p">):</span>
  <span class="n">c</span><span class="p">.</span><span class="nf">append</span><span class="p">(</span><span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">-</span><span class="n">b</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>

<span class="n">c</span><span class="o">=</span><span class="p">[]</span> <span class="c1"># *
</span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="n">a</span><span class="p">):</span>
  <span class="n">c</span><span class="p">.</span><span class="nf">append</span><span class="p">(</span><span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">*</span><span class="n">b</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>

<span class="n">c</span><span class="o">=</span><span class="p">[]</span> <span class="c1"># /
</span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="n">a</span><span class="p">):</span>
  <span class="n">c</span><span class="p">.</span><span class="nf">append</span><span class="p">(</span><span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">/</span><span class="n">b</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>

<span class="n">c</span><span class="o">=</span><span class="p">[]</span> <span class="c1"># **
</span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="n">a</span><span class="p">):</span>
  <span class="n">c</span><span class="p">.</span><span class="nf">append</span><span class="p">(</span><span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span>

<span class="c1">##?
</span><span class="nf">print</span><span class="p">((</span><span class="n">a</span><span class="o">**</span><span class="mi">2</span><span class="p">).</span><span class="nf">sum</span><span class="p">())</span>
</code></pre></div></div> <p>List를 활용한 방식과 NumPy의 속도 비교를 위해 아래 예제를 활용해보자. 우선 0에서부터 100까지 정수가 담겨있는 <code class="language-plaintext highlighter-rouge">List</code>와 <code class="language-plaintext highlighter-rouge">numpy.ndarray</code> 형식의 자료를 만들자.</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">mylist</span><span class="o">=</span><span class="nf">list</span><span class="p">(</span><span class="nf">range</span><span class="p">(</span><span class="mi">101</span><span class="p">))</span>
<span class="n">mylist</span> <span class="c1">## The list type object
</span><span class="n">myarray</span><span class="o">=</span><span class="n">np</span><span class="p">.</span><span class="nf">array</span><span class="p">(</span><span class="n">mylist</span><span class="p">)</span>
<span class="n">myarray</span> <span class="c1">## The numpy type object
</span></code></pre></div></div> <p>아래와 같이 각각의 연산을 JuPyter의 매직 키워드 <code class="language-plaintext highlighter-rouge">%%timeit</code>를 활용해 7번 반복 연산해 평균 연산 속도를 측정해보자.</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">%%</span><span class="n">timeit</span>
<span class="n">s</span><span class="o">=</span><span class="mf">0.</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="mi">100</span><span class="p">):</span>
    <span class="n">s</span><span class="o">=</span><span class="n">s</span><span class="o">+</span><span class="n">mylist</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
</code></pre></div></div> <p>그리고 <code class="language-plaintext highlighter-rouge">sum</code> 매소드를 활용한 결과를 비교해보자.</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">%%</span><span class="n">timeit</span>
<span class="n">s</span><span class="o">=</span><span class="n">myarray</span><span class="p">.</span><span class="nf">sum</span><span class="p">()</span>
</code></pre></div></div> <p>나의 경우에는 전자는 \(1.85 \mu s = 1.85 \times 10^{-6} s\) 그리고 후자는 \(539 ns = 538\times 10^{-9} s = 0.538 10^{-6} s\) 결과가 나왔다. 후자는 전자에 비해 약 1/3 정도의 시간만 필요하였다.</p> <h4 id="차원과-축-numpy-배열을-바라보는-두가지-관점">차원과 축: NumPy 배열을 바라보는 두가지 관점</h4> <p>NumPy배열의 ‘차원’(dimension, 혹은 rank)는 배열이 몇 겹으로 중첩되어 있는지를 의미한다. 쉽게 말해, 데이터가 몇 단계의 리스트로 레이어로 감싸져 있는지에 따라 차원이 달라진다. 아래를 살펴보자.</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="n">numpy</span> <span class="k">as</span> <span class="n">np</span>

<span class="n">a</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="nf">array</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>                  <span class="c1"># 스칼라 (0차원)
</span><span class="n">b</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="nf">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>          <span class="c1"># 벡터 (1차원)
</span><span class="n">c</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="nf">array</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span>
              <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]])</span>        <span class="c1"># 행렬 (2차원)
</span><span class="n">d</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="nf">array</span><span class="p">([[[</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">]],</span>
              <span class="p">[[</span><span class="mi">4</span><span class="p">],</span> <span class="p">[</span><span class="mi">5</span><span class="p">],</span> <span class="p">[</span><span class="mi">6</span><span class="p">]]])</span>  <span class="c1"># 행렬 (3차원) ... 혹은 ML/AI 관련 문헌에서 '텐서'라 불림 - 수학/물리 문헌의 '텐서'와 다름.
</span><span class="nf">print</span><span class="p">(</span><span class="n">a</span><span class="p">.</span><span class="n">ndim</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="n">b</span><span class="p">.</span><span class="n">ndim</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="n">c</span><span class="p">.</span><span class="n">ndim</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="n">d</span><span class="p">.</span><span class="n">ndim</span><span class="p">)</span>
</code></pre></div></div> <p>차원과 다르게 ‘축’(axis)의 관점에서 배열을 바라보는 관점도 있다. 이때 ‘축’은 배열의 index방향을 의미한다. 즉, 다차원 배열에서 데이터를 접근하거나 연산할 때 어느 방향을 기준으로 하느냐에 따라 축이 달라진다. 다음 배열은 차원의 관점에서는 2차원임을 알 수 있다.</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">c</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="nf">array</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span>
              <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">],</span>
              <span class="p">[</span><span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">]])</span>
</code></pre></div></div> <p>이 경우 축이 2개인 것으로 이해할 수 있다. 첫번째 축 <code class="language-plaintext highlighter-rouge">0</code>은 행을 따라 내려가는 방향 (세로, column-wise)이 되며, 축 <code class="language-plaintext highlighter-rouge">1</code>은 열을 따라 가로로 가는 방향 (가로, row-wise)로 이해된다. 아래 각 열, 그리고 행 ‘축’을 따라 덧셈을 하는 경우를 살펴보자.</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">c</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="nf">array</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span>
              <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">],</span>
              <span class="p">[</span><span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">]])</span>
<span class="nf">print</span><span class="p">(</span><span class="n">c</span><span class="p">.</span><span class="nf">sum</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">))</span>  <span class="c1"># 열별 합 → [12 15 18]
</span><span class="nf">print</span><span class="p">(</span><span class="n">c</span><span class="p">.</span><span class="nf">sum</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">))</span>  <span class="c1"># 행별 합 → [ 6 15 24]
</span></code></pre></div></div> <p>3D 배열에서 축 번호는 ‘바깥’부터 ‘안쪽’ 순으로 0, 1, 2, … 순으로 이어진다.</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">d</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="nf">array</span><span class="p">([[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]],</span>
              <span class="p">[[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">],</span> <span class="p">[</span><span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">]]])</span>
</code></pre></div></div> <p><code class="language-plaintext highlighter-rouge">d.shape</code>은 <code class="language-plaintext highlighter-rouge">(2,2,2)</code>이고, <code class="language-plaintext highlighter-rouge">d.ndim</code>은 3이다. 즉 3차원이고, 총 세 축으로 이루어진다. 각 축을 따라 2개씩 element가 있는 구조로 이해할 수 있다. 이때</p> <ul> <li> <code class="language-plaintext highlighter-rouge">axis=0</code> 은 가장 바깥 차원</li> <li> <code class="language-plaintext highlighter-rouge">axis=1</code> 은 중간 차원 (row)</li> <li> <code class="language-plaintext highlighter-rouge">axis=2</code> 는 가장 안쪽 차원 (column) 로 이해된다.</li> </ul> <p>아래 경우를 더 살펴보자.</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">a</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="nf">arange</span><span class="p">(</span><span class="mi">15</span><span class="p">)</span>
</code></pre></div></div> <p>위 결과로 1D 배열에 0에서부터 14까지 15개의 element 숫자가 자료가 <code class="language-plaintext highlighter-rouge">a</code>에 저장된다. 이를 (3x5) 형태의 2D 배열로 형태를 바꿀 수 있다. <code class="language-plaintext highlighter-rouge">reshape</code> method를 활용한다.</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">b</span><span class="o">=</span><span class="n">a</span><span class="p">.</span><span class="nf">reshape</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">)</span>
</code></pre></div></div> <p>이때 두 축이 활용된 것으로 볼 수 있고, 첫번째 축 <code class="language-plaintext highlighter-rouge">axis=0</code>은 3 요소를, 두번째 축 <code class="language-plaintext highlighter-rouge">axis=1</code>은 5 요소를 가진 것으로 이해할 수 있다. 그 결과를 <code class="language-plaintext highlighter-rouge">b</code>로 저장했고 그 결과를 출력해보자</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nf">print</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
</code></pre></div></div> <p>다음과 같이 출력이 될것이다.</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>array([[ 0,  1,  2,  3,  4],
       [ 5,  6,  7,  8,  9],
       [10, 11, 12, 13, 14]])
</code></pre></div></div> <p>첫번째 축(<code class="language-plaintext highlighter-rouge">axis=0</code>)의 첫 요소는 [0,1,2,3,4], 그 다음은 [5,6,7,8,9], 마지막 세번째는 [10,11,12,13,14]가 된다. 이를 인덱싱 해보면</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nf">print</span><span class="p">(</span><span class="n">b</span><span class="p">[</span><span class="mi">0</span><span class="p">,:])</span>
<span class="nf">print</span><span class="p">(</span><span class="n">b</span><span class="p">[</span><span class="mi">1</span><span class="p">,:])</span>
<span class="nf">print</span><span class="p">(</span><span class="n">b</span><span class="p">[</span><span class="mi">2</span><span class="p">,:])</span>
</code></pre></div></div> <p>이번에는 두번째 축 (<code class="language-plaintext highlighter-rouge">axis==1</code>)을 따라 살펴보자. 첫 요소는 [0,5,10], 그 다음은 [1,6,11], [2,7,12], [3,8,13], 마지막 5번째 요소는 [4,9,14]가 될 것이다.</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nf">print</span><span class="p">(</span><span class="n">b</span><span class="p">[:,</span><span class="mi">0</span><span class="p">])</span>
<span class="nf">print</span><span class="p">(</span><span class="n">b</span><span class="p">[:,</span><span class="mi">1</span><span class="p">])</span>
<span class="nf">print</span><span class="p">(</span><span class="n">b</span><span class="p">[:,</span><span class="mi">2</span><span class="p">])</span>
</code></pre></div></div> <h4 id="indexing--slicing">Indexing &amp; slicing</h4> <p>List 타입의 자료에서도 indexing과 slicing이 사용된다. [시작,끝,스텝]형태의 인덱싱이 NumPy 배열에도 동일하게 적용된다.</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">mylist</span><span class="o">=</span><span class="nc">List</span><span class="p">((</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">))</span>
<span class="c1">#mylist[시작:끝:스텝] 형태로 index가 적용되는 것 처럼 ..
</span></code></pre></div></div> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">myarray</span><span class="o">=</span><span class="n">np</span><span class="p">.</span><span class="nf">array</span><span class="p">((</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">))</span>
<span class="n">myarray</span><span class="p">[</span><span class="mi">2</span><span class="p">:</span><span class="mi">6</span><span class="p">:</span><span class="mi">2</span><span class="p">]</span> <span class="c1">#3번째부터 6번째까지, 2칸씩 띄어 넘으며 ..
#mylist[시작:끝:스텝] 형태로 index가 적용되는 것 처럼 ..
</span></code></pre></div></div> <p>위 결과는 아래와 같을 것이다.</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nf">array</span><span class="p">([</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">10</span><span class="p">])</span>
</code></pre></div></div> <p>NumPy 배열에 경우에는 이러한 indexing이 각 ‘축’에 깔끔히 적용될 수 있다. 아래 2차원 배열 (혹은 2축으로 구성된 배열)을 살펴보자.</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">arr</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="nf">array</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]])</span>
</code></pre></div></div> <p>위의 경우, 첫번째 축(axis=0)은 2개의 요소 그 다음 축(axis=1)은 3개의 요소로 이루어진 것을 알 수 있다. 즉</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># nested 배열의 각 축을 '행'(가로)과 '열'(세로)이라 하면
# arr = [  1  2  3 ] # 첫번째 가로
#.         4  5  6   # 두번째 가로
</span>
<span class="nf">print</span><span class="p">(</span><span class="n">arr</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">])</span>  <span class="c1"># 1행 1열 → 1
</span><span class="nf">print</span><span class="p">(</span><span class="n">arr</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="p">:])</span>  <span class="c1"># 2행 전체 → [4 5 6]
</span><span class="nf">print</span><span class="p">(</span><span class="n">arr</span><span class="p">[:,</span> <span class="mi">1</span><span class="p">])</span>  <span class="c1"># 모든 행의 2열 → [2 5]
</span></code></pre></div></div> <p>각 축마다 begin, end, step이 적용되므로, 복잡한 slicing을 할 수 있다. 아래를 보자.</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">## 각 '축'에서 List indexing 적용가능. 예를 들어
</span><span class="nf">print</span><span class="p">(</span><span class="n">arr</span><span class="p">[</span><span class="mi">1</span><span class="p">::,</span><span class="mi">1</span><span class="p">::])</span>
<span class="nf">print</span><span class="p">(</span><span class="n">arr</span><span class="p">[::</span><span class="mi">2</span><span class="p">,::</span><span class="mi">2</span><span class="p">])</span>

<span class="c1">#
</span><span class="nf">print</span><span class="p">(</span><span class="n">arr</span><span class="p">[::</span><span class="o">-</span><span class="mi">1</span><span class="p">,::])</span>  <span class="c1">#행만 거꾸로
</span><span class="nf">print</span><span class="p">(</span><span class="n">arr</span><span class="p">[::,::</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>  <span class="c1">#열만 거꾸로
</span><span class="nf">print</span><span class="p">(</span><span class="n">arr</span><span class="p">[::</span><span class="o">-</span><span class="mi">1</span><span class="p">,::</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span> <span class="c1">#행과 열을 모두 거꾸로
</span></code></pre></div></div> <p>아래 경우를 하나씩 입력 후 차근차근 살펴보며 실습해보자.</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">a</span><span class="o">=</span><span class="n">np</span><span class="p">.</span><span class="nf">arange</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
<span class="n">a</span><span class="o">=</span><span class="n">a</span><span class="p">.</span><span class="nf">reshape</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span>
<span class="n">a</span><span class="p">[:,::</span><span class="mi">2</span><span class="p">]</span>  <span class="c1"># 각 10자리에서 짝수로만 이루어진 2차원 배열
</span><span class="n">a</span><span class="p">[</span><span class="mi">0</span><span class="p">::</span><span class="mi">2</span><span class="p">,::]</span> <span class="c1"># 10자리수가 짝수로 이루어진 2차원 배열
</span><span class="n">a</span><span class="p">[</span><span class="mi">1</span><span class="p">::</span><span class="mi">2</span><span class="p">,::]</span> <span class="c1"># 10자리수가 홀수로 이루어진 2차원 배열
</span><span class="n">a</span><span class="p">[::,</span><span class="mi">1</span><span class="p">::</span><span class="mi">2</span><span class="p">]</span> <span class="c1"># 1의 자리수가 홀수로 이루어진 2차원 배열
</span><span class="n">a</span><span class="p">[::,</span><span class="mi">0</span><span class="p">::</span><span class="mi">3</span><span class="p">]</span> <span class="c1"># 1의 자리수가 0, 3, 6, 9로 끝나는 수로 이루어진 2차원 배열
</span><span class="n">a</span><span class="p">[</span><span class="mi">0</span><span class="p">::</span><span class="mi">3</span><span class="p">,::]</span> <span class="c1"># 10의 자리수가 0, 3, 6, 9로 끝나는 수로 이루어진 2차원 배열
</span></code></pre></div></div> <p>다음 3차원의 경우도 살펴보자.</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">a</span><span class="o">=</span><span class="n">np</span><span class="p">.</span><span class="nf">arange</span><span class="p">(</span><span class="mi">1000</span><span class="p">)</span>
<span class="n">a</span><span class="o">=</span><span class="n">a</span><span class="p">.</span><span class="nf">reshape</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span> <span class="c1">#
</span><span class="n">a</span><span class="p">[::</span><span class="mi">5</span><span class="p">,::,::]</span> <span class="c1">#?
</span></code></pre></div></div> <ul> <li> <p>예제: 데이터 파일 Use data in here <a href="/assets/dat_files/lectures/1_2_data_mse/matrix_01.txt">matrix_01.txt</a></p> <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="n">numpy</span> <span class="k">as</span> <span class="n">np</span>

<span class="c1"># 공백 구분 텍스트 불러오기
</span><span class="n">matrix</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="nf">loadtxt</span><span class="p">(</span><span class="sh">"</span><span class="s">matrix.txt</span><span class="sh">"</span><span class="p">)</span>

<span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">불러온 행렬:</span><span class="sh">"</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="n">matrix</span><span class="p">)</span>

<span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">shape:</span><span class="sh">"</span><span class="p">,</span> <span class="n">matrix</span><span class="p">.</span><span class="n">shape</span><span class="p">)</span>   <span class="c1"># (3, 3)
</span><span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">dtype:</span><span class="sh">"</span><span class="p">,</span> <span class="n">matrix</span><span class="p">.</span><span class="n">dtype</span><span class="p">)</span>   <span class="c1"># ?
</span></code></pre></div> </div> </li> <li> <p>예제: csv file Use data in here <a href="/assets/dat_files/lectures/1_2_data_mse/matrix_01.csv">matrix_01.csv</a></p> <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="n">numpy</span> <span class="k">as</span> <span class="n">np</span>

<span class="c1"># 공백 구분 텍스트 불러오기
</span><span class="n">matrix</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="nf">loadtxt</span><span class="p">(</span><span class="sh">"</span><span class="s">matrix.txt</span><span class="sh">"</span><span class="p">)</span>

<span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">불러온 행렬:</span><span class="sh">"</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="n">matrix</span><span class="p">)</span>

<span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">shape:</span><span class="sh">"</span><span class="p">,</span> <span class="n">matrix</span><span class="p">.</span><span class="n">shape</span><span class="p">)</span>   <span class="c1"># (3, 3)
</span><span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">dtype:</span><span class="sh">"</span><span class="p">,</span> <span class="n">matrix</span><span class="p">.</span><span class="n">dtype</span><span class="p">)</span>   <span class="c1"># ?
</span></code></pre></div> </div> </li> <li> <p>예제: 저장하기</p> </li> </ul> <aside><p>%d 와 %f로 정수는 각각 정수와 실수 형식 저장에 쓰인다.</p></aside> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># 행렬 저장하기 (공백 구분)
</span><span class="n">matrix</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="nf">array</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">],</span> <span class="p">[</span><span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">]])</span>
<span class="n">np</span><span class="p">.</span><span class="nf">savetxt</span><span class="p">(</span><span class="sh">"</span><span class="s">save_matrix.txt</span><span class="sh">"</span><span class="p">,</span> <span class="n">matrix</span><span class="p">,</span> <span class="n">fmt</span><span class="o">=</span><span class="sh">"</span><span class="s">%.2f</span><span class="sh">"</span><span class="p">)</span>

<span class="c1"># CSV로 저장
</span><span class="n">np</span><span class="p">.</span><span class="nf">savetxt</span><span class="p">(</span><span class="sh">"</span><span class="s">save_matrix.csv</span><span class="sh">"</span><span class="p">,</span> <span class="n">matrix</span><span class="p">,</span> <span class="n">delimiter</span><span class="o">=</span><span class="sh">"</span><span class="s">,</span><span class="sh">"</span><span class="p">,</span> <span class="n">fmt</span><span class="o">=</span><span class="sh">"</span><span class="s">%d</span><span class="sh">"</span><span class="p">)</span>
</code></pre></div></div> <p><br><br> <br><br> <br><br> <br><br></p> <h1 id="week5">Week5</h1> <ul> <li>NumPy 02 - 배열 연산(산술, 내적, 외적), 브로드캐스팅, 그 외 기타 함수</li> <li>목표 <ul> <li>다양한 벡터/행렬 연산을 NumPy 라이브러리 활용해 수행할 수 있다.</li> <li>브로드캐스팅을 이해한다.</li> <li>Determinant, Eigenvalue 등을 계산할 수 있다.</li> </ul> </li> </ul> <h2 id="수업-05-1-list활용한-기초-행렬-연산">수업 05-1 (List활용한 기초 행렬 연산)</h2> <h3 id="05-1-1-기본-예제-벡터의-크기-내적-">05-1-1. 기본 예제 (벡터의 크기, 내적, )</h3> <p>3차원 벡터는, 가령 아래와 같이 세 성분으로 이루어져 있으며,</p> \[\boldsymbol a=(a_1,a_2,a_3)\] <p>그 크기는 다음과 같이 정의된다.</p> \[|\boldsymbol a|=\sqrt{a_1^2+a_2^2+a_3^2}=\sqrt{\sum_i^3a_i^2}.\] <p>주어진 벡터 <code class="language-plaintext highlighter-rouge">v</code>의 크기를 구하는 함수 <code class="language-plaintext highlighter-rouge">get_mag</code>를 아래의 예와같이 작성될 수 있겠다.</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">get_mag</span><span class="p">(</span><span class="n">v</span><span class="p">):</span>
   <span class="kn">import</span> <span class="n">math</span>
   <span class="k">return</span> <span class="n">math</span><span class="p">.</span><span class="nf">sqrt</span><span class="p">(</span><span class="n">v</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">**</span><span class="mi">2</span><span class="o">+</span><span class="n">v</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">**</span><span class="mi">2</span><span class="o">+</span><span class="n">v</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span>
</code></pre></div></div> <p>주어진 벡터를 3차원에서 벗어나 n차원 공간으로 일반화 한다면 (<a href="https://en.wikipedia.org/wiki/Matrix_norm#Frobenius_norm" rel="external nofollow noopener" target="_blank">Frobenius norm</a>)정의를 활용해 다음과 같이 표현할 수 있다.</p> \[|\boldsymbol a|=\sqrt{\sum_i^na_i^2}\] <p>이를 다시 다음과 같은 파이썬 코드 예시로 작성할 수 있겠다.</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">frob</span><span class="p">(</span><span class="n">vector</span><span class="p">):</span>
   <span class="kn">import</span> <span class="n">math</span>
   <span class="n">s</span><span class="o">=</span><span class="mf">0.</span> <span class="c1"># sum
</span>   <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">e</span> <span class="ow">in</span> <span class="nf">enumerate</span><span class="p">(</span><span class="n">vector</span><span class="p">):</span>
      <span class="n">s</span><span class="o">=</span><span class="n">s</span><span class="o">+</span><span class="n">e</span><span class="o">**</span><span class="mi">2</span>
   <span class="k">return</span> <span class="n">math</span><span class="p">.</span><span class="nf">sqrt</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
</code></pre></div></div> <p>두 벡터 $\boldsymbol a$와 $\boldsymbol b$의 내적은 다음과 같이 정의된다.</p> \[\boldsymbol a \cdot \boldsymbol b=a_1b_1+a_2b_2+a_3b_3=\sum_i^3a_ib_i\] <p>혹은 아래와 같이 두 벡터 사이의 끼인 각 $\theta$를 활용해 표현할 수 있다.</p> \[\boldsymbol a \cdot \boldsymbol b=|\boldsymbol a||\boldsymbol b|\cos\theta\] <p>두 벡터 사이의 내적을 <code class="language-plaintext highlighter-rouge">list</code>, <code class="language-plaintext highlighter-rouge">len</code>, <code class="language-plaintext highlighter-rouge">range</code>, <code class="language-plaintext highlighter-rouge">enumerate</code> 등을 활용하여 아래와 같이 표현 가능하다.</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">a</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">]</span>
<span class="n">b</span><span class="o">=</span><span class="p">[</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">]</span>
<span class="n">dotprod</span><span class="o">=</span><span class="mf">0.</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="mi">3</span><span class="p">):</span>
   <span class="n">dotprod</span><span class="o">=</span><span class="n">dotprod</span><span class="o">+</span><span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">*</span><span class="n">b</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
   <span class="c1">## 위를 `dotprod+=a[i]*b[i]`로 줄여서 표현 가능
</span></code></pre></div></div> <p>NumPy의 배열을 활용한다면 위를 더욱 축약 시킬 수 있다.</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">a</span><span class="o">=</span><span class="n">np</span><span class="p">.</span><span class="nf">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span>
<span class="n">b</span><span class="o">=</span><span class="n">np</span><span class="p">.</span><span class="nf">array</span><span class="p">([</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">])</span>
<span class="n">dotprod</span><span class="o">=</span><span class="mf">0.</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="nf">len</span><span class="p">(</span><span class="n">a</span><span class="p">)):</span>
   <span class="n">dotprod</span><span class="o">+=</span><span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">*</span><span class="n">b</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
<span class="nf">print</span><span class="p">(</span><span class="n">dotprod</span><span class="p">)</span>
</code></pre></div></div> <p>혹은 위를 더 축약 시켜</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">a</span><span class="o">=</span><span class="n">np</span><span class="p">.</span><span class="nf">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span>
<span class="n">b</span><span class="o">=</span><span class="n">np</span><span class="p">.</span><span class="nf">array</span><span class="p">([</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">])</span>
<span class="n">dotprod</span><span class="o">=</span><span class="mf">0.</span>
<span class="nf">print</span><span class="p">((</span><span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">*</span><span class="n">b</span><span class="p">[</span><span class="n">i</span><span class="p">]).</span><span class="nf">sum</span><span class="p">())</span>
</code></pre></div></div> <p>혹은 @을 활용하여 다음과 같이 더욱 축약하여 작성할 수 있다.</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">a</span><span class="o">=</span><span class="n">np</span><span class="p">.</span><span class="nf">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span>
<span class="n">b</span><span class="o">=</span><span class="n">np</span><span class="p">.</span><span class="nf">array</span><span class="p">([</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">])</span>
<span class="nf">print</span><span class="p">(</span><span class="n">a</span><span class="nd">@b</span><span class="p">)</span>
</code></pre></div></div> <p>두 3D 벡터가 주어졌을 때 사이 끼인 각을 구하려면, 앞서 활용된 서로다른 두 벡터의 정의를 함께 활용할 수 있다. 즉</p> \[\boldsymbol a \cdot \boldsymbol b=a_1b_1+a_2b_2+a_3b_3=\sum_i^3a_ib_i=|\boldsymbol a||\boldsymbol b|\cos\theta\] <p>위 식을 정리하여 활용하면 아래와 같다.</p> \[\frac{a_1b_1+a_2b_2+a_3b_3}{|\boldsymbol a||\boldsymbol b|}=\cos\theta\] <p>따라서</p> \[\theta=\cos^{-1}\bigg(\frac{a_1b_1+a_2b_2+a_3b_3}{|\boldsymbol a||\boldsymbol b|}\bigg)\] <p>위를 <code class="language-plaintext highlighter-rouge">math</code>모듈과 그 모듈내의 <code class="language-plaintext highlighter-rouge">sqrt</code>, <code class="language-plaintext highlighter-rouge">acos</code>을 활용하여 아래와 같은 간단한 코드를 작성할 수 있다.</p> <aside><p>sqrt는 square root, 즉 제곱근에서 따왔고 acos 함수는 arccosine, 즉 코사인 함수의 역함수, $\cos^{-1}$ 에서 따왔다. </p></aside> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">get_mag</span><span class="p">(</span><span class="n">v</span><span class="p">):</span>
   <span class="kn">import</span> <span class="n">math</span>
   <span class="k">return</span> <span class="n">math</span><span class="p">.</span><span class="nf">sqrt</span><span class="p">(</span><span class="n">v</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">**</span><span class="mi">2</span><span class="o">+</span><span class="n">v</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">**</span><span class="mi">2</span><span class="o">+</span><span class="n">v</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">get_ang</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">):</span>
   <span class="kn">import</span> <span class="n">math</span>
   <span class="n">dotprod</span><span class="o">=</span><span class="mf">0.</span>
   <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="nf">len</span><span class="p">(</span><span class="n">a</span><span class="p">)):</span>
      <span class="n">dotprod</span><span class="o">+=</span><span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">*</span><span class="n">b</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
   <span class="n">costh</span><span class="o">=</span><span class="n">dotprod</span><span class="o">/</span><span class="p">(</span><span class="nf">get_mag</span><span class="p">(</span><span class="n">a</span><span class="p">)</span><span class="o">*</span><span class="nf">get_mag</span><span class="p">(</span><span class="n">b</span><span class="p">))</span>
   <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">'</span><span class="s">costh:</span><span class="si">{</span><span class="n">costh</span><span class="si">}</span><span class="sh">'</span><span class="p">)</span>
   <span class="n">th</span><span class="o">=</span><span class="n">math</span><span class="p">.</span><span class="nf">acos</span><span class="p">(</span><span class="n">costh</span><span class="p">)</span>
   <span class="k">return</span> <span class="n">th</span>

<span class="n">a</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span>
<span class="n">b</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span>
<span class="n">angle</span><span class="o">=</span><span class="nf">get_ang</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sh">'</span><span class="s">ang in radian:</span><span class="sh">'</span><span class="p">,</span> <span class="n">angle</span><span class="p">)</span>
<span class="c1">## angle to degree?
</span><span class="nf">print</span><span class="p">(</span><span class="sh">'</span><span class="s">ang in degree:</span><span class="sh">'</span><span class="p">,</span> <span class="n">angle</span><span class="o">*</span><span class="mi">180</span><span class="o">/</span><span class="mf">3.141592</span><span class="p">)</span>
</code></pre></div></div> <h3 id="05-1-2-2x2-행렬간의-dot-product-이해하기">05-1-2. 2x2 행렬간의 dot product 이해하기</h3> <p><a href="https://ko.wikipedia.org/wiki/%ED%96%89%EB%A0%AC_%EA%B3%B1%EC%85%88" rel="external nofollow noopener" target="_blank">두 행렬의 곱</a>을 이해해보자. 행과 열이 각각 (l,m)인 행렬</p> \[\boldsymbol{A}_{l\times m}\] <p>와 (m,n)인</p> \[\boldsymbol{B}_{m\times n}\] <p>의 곱은 새로운 행렬이 된다. 새로운 행렬을 \(\boldsymbol{C}\)라 하면, 그 행렬의 행과 열은 (l,n)이 되며 다음과 같이 표기되곤 한다.</p> \[\boldsymbol{C}=\boldsymbol{A}\cdot\boldsymbol{B}\] <p>이때, 앞선 행렬의 한 행의 요소와, 뒷따르는 행렬의 열 요소들이 각기 순서대로 곱해져서 새로운 행렬 $\boldsymbol{C}$를 이루게 되며, 그 방식이 아래 그림에 표기되어 있다.</p> <p align="center"> &lt;img src=https://upload.wikimedia.org/wikipedia/commons/e/eb/Matrix_multiplication_diagram_2.svg /&gt; </p> <p>예를 아래 두 벡터의 곱의 예를 함께 살펴보자,</p> \[\begin{bmatrix} 1 &amp; 2 \\ 3 &amp; 4 \end{bmatrix} \cdot \begin{bmatrix} 2 &amp; 0 \\ 1 &amp; 3 \end{bmatrix} = ?\] <p>두 2x2 행렬 \(\boldsymbol A\)와 \(\boldsymbol B\)를 곱하여 행렬 \(\boldsymbol C\)가 된다면, 아래와 같이 표현한다.</p> \[\boldsymbol C = \boldsymbol A \cdot \boldsymbol B\] <p>이 때</p> \[\begin{array}{c} C_{11}=A_{11}B_{11}+A_{12}B_{21} \\ C_{12}=A_{11}B_{12}+A_{12}B_{22} \\ C_{21}=A_{21}B_{11}+A_{22}B_{21} \\ C_{22}=A_{21}B_{12}+A_{22}B_{22} \\ \end{array}\] <p>가 된다. 이를 그대로 Python으로 옮기면</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">A</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]]</span>
<span class="n">B</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">]]</span>

<span class="n">C</span><span class="o">=</span><span class="p">[[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">]]</span>
<span class="n">C</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">=</span><span class="n">A</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">*</span><span class="n">B</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">+</span><span class="n">A</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span><span class="o">*</span><span class="n">B</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
<span class="n">C</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span><span class="o">=</span><span class="n">A</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">*</span><span class="n">B</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span><span class="o">+</span><span class="n">A</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span><span class="o">*</span><span class="n">B</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span>
<span class="n">C</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">=</span><span class="n">A</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">*</span><span class="n">B</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">+</span><span class="n">A</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span><span class="o">*</span><span class="n">B</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
<span class="n">C</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span><span class="o">=</span><span class="n">A</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">*</span><span class="n">B</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span><span class="o">+</span><span class="n">A</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span><span class="o">*</span><span class="n">B</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span>
<span class="nf">print</span><span class="p">(</span><span class="sh">'</span><span class="s">1:</span><span class="sh">'</span><span class="p">,</span><span class="n">C</span><span class="p">)</span>
</code></pre></div></div> <p>위 행렬곱 식에서 \(\boldsymbol{C}\)행렬 요소 위치에 따라 달라지는 \(\boldsymbol{A}\)와 \(\boldsymbol{B}\)행렬의 위치가 있다. 이를 살펴보면</p> \[C_{ij}=A_{i1}B_{1j}+A_{i2}B_{2j}\] <p>로 표현됨을 알 수 있다. 이를 반영하여 모든 \((i,j)\) 짝에 적용하면…</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">A</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]]</span>
<span class="n">B</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">]]</span>

<span class="n">C</span><span class="o">=</span><span class="p">[[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">]]</span>
<span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="n">j</span><span class="o">=</span><span class="mi">0</span>
<span class="n">C</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span><span class="o">=</span><span class="n">A</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">*</span><span class="n">B</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="n">j</span><span class="p">]</span><span class="o">+</span><span class="n">A</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span><span class="o">*</span><span class="n">B</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="n">j</span><span class="p">]</span>
<span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="n">j</span><span class="o">=</span><span class="mi">1</span>
<span class="n">C</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span><span class="o">=</span><span class="n">A</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">*</span><span class="n">B</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="n">j</span><span class="p">]</span><span class="o">+</span><span class="n">A</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span><span class="o">*</span><span class="n">B</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="n">j</span><span class="p">]</span>
<span class="n">i</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span><span class="n">j</span><span class="o">=</span><span class="mi">0</span>
<span class="n">C</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span><span class="o">=</span><span class="n">A</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">*</span><span class="n">B</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="n">j</span><span class="p">]</span><span class="o">+</span><span class="n">A</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span><span class="o">*</span><span class="n">B</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="n">j</span><span class="p">]</span>
<span class="n">i</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span><span class="n">j</span><span class="o">=</span><span class="mi">1</span>
<span class="n">C</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span><span class="o">=</span><span class="n">A</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">*</span><span class="n">B</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="n">j</span><span class="p">]</span><span class="o">+</span><span class="n">A</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span><span class="o">*</span><span class="n">B</span><span class="p">[</span><span class="n">j</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span>
<span class="nf">print</span><span class="p">(</span><span class="sh">'</span><span class="s">2:</span><span class="sh">'</span><span class="p">,</span><span class="n">C</span><span class="p">)</span>
</code></pre></div></div> <p>그런데, 코드를 살펴보면, 아래의 동일한 statements가 4번 반복되는 것을 알 수 있다.</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">C</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span><span class="o">=</span><span class="n">A</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span><span class="o">*</span><span class="n">B</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="n">j</span><span class="p">]</span><span class="o">+</span><span class="n">A</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span><span class="o">*</span><span class="n">B</span><span class="p">[</span><span class="n">j</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span>
</code></pre></div></div> <p>\((i,j)\)가 각각 <code class="language-plaintext highlighter-rouge">for</code>구문을 통해 0,1을 반복하므로, 아래와 같이 축약할 수 있겠다.</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">A</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]]</span>
<span class="n">B</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">]]</span>

<span class="n">C</span><span class="o">=</span><span class="p">[[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">]]</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="mi">2</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="mi">2</span><span class="p">):</span>
        <span class="n">C</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span><span class="o">=</span><span class="n">A</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">*</span><span class="n">B</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="n">j</span><span class="p">]</span><span class="o">+</span><span class="n">A</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span><span class="o">*</span><span class="n">B</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="c1">## 네 statements가 동일함에 주목!
</span><span class="nf">print</span><span class="p">(</span><span class="sh">'</span><span class="s">3:</span><span class="sh">'</span><span class="p">,</span><span class="n">C</span><span class="p">)</span>
</code></pre></div></div> <p>그런데, 반복되던 statement의 우변에서도 0과 1이 반복된다.</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">C</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span><span class="o">=</span><span class="n">A</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">*</span><span class="n">B</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="n">j</span><span class="p">]</span><span class="o">+</span><span class="n">A</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span><span class="o">*</span><span class="n">B</span><span class="p">[</span><span class="n">j</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span>
</code></pre></div></div> <p>따라서</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="mi">2</span><span class="p">):</span>
   <span class="n">C</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span><span class="o">=</span><span class="n">C</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span><span class="o">+</span><span class="n">A</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">k</span><span class="p">]</span><span class="o">*</span><span class="n">B</span><span class="p">[</span><span class="n">k</span><span class="p">][</span><span class="n">j</span><span class="p">]</span>
</code></pre></div></div> <p>라 줄일 수 있겠다. 이렇게 모두 줄일 수 있는 만큼 줄여서 축약된 형태로 표현하면 ..</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">#더 줄이면?
</span><span class="n">C</span><span class="o">=</span><span class="p">[[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">]]</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="mi">2</span><span class="p">):</span>
	<span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="mi">2</span><span class="p">):</span>
		<span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="mi">2</span><span class="p">):</span>
			<span class="n">C</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span><span class="o">=</span><span class="n">C</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span><span class="o">+</span><span class="n">A</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">k</span><span class="p">]</span><span class="o">*</span><span class="n">B</span><span class="p">[</span><span class="n">k</span><span class="p">][</span><span class="n">j</span><span class="p">]</span>
			<span class="c1">#C[i][j]+=A[i,k]*B[k,j]      += 기호 사용
</span><span class="nf">print</span><span class="p">(</span><span class="sh">'</span><span class="s">4:</span><span class="sh">'</span><span class="p">,</span><span class="n">C</span><span class="p">)</span>
</code></pre></div></div> <p>두 2x2행렬 곱은, 아래 더 상세히 배우게 될 <code class="language-plaintext highlighter-rouge">NumPy</code>패키지를 활용하면 더욱 축약된 형태로 작성가능하다.</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="n">numpy</span> <span class="k">as</span> <span class="n">np</span>
<span class="n">A</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="nf">array</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]])</span>
<span class="n">B</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="nf">array</span><span class="p">([[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">]])</span>
<span class="nf">print</span><span class="p">(</span><span class="sh">'</span><span class="s">6:</span><span class="sh">'</span><span class="p">,</span><span class="n">A</span> <span class="o">@</span> <span class="n">B</span><span class="p">)</span>          <span class="c1"># 행렬 곱
</span><span class="nf">print</span><span class="p">(</span><span class="sh">'</span><span class="s">7:</span><span class="sh">'</span><span class="p">,</span><span class="n">np</span><span class="p">.</span><span class="nf">dot</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="n">B</span><span class="p">))</span>   <span class="c1"># 동일
</span></code></pre></div></div> <h3 id="05-1-3-두-3x3-행렬-곱-일반화하여-nxn-행렬사이의-곱은">05-1-3. 두 3x3 행렬 곱? 일반화하여, nxn 행렬사이의 곱은?</h3> <p>\(\boldsymbol A\) 와 \(\boldsymbol B\) 의 곱 결과가 또 다른 3x3행렬 \(\boldsymbol C\) 이라면</p> \[\boldsymbol A\cdot\boldsymbol B = \boldsymbol C\] <p>와 같이 표현할 수 있다. 이를 <strong>index</strong>를 활용한 방식으로 아래와 같이 표기 가능하다.</p> \[\sum_k^3A_{ik}B_{kj}=C_{ij}, \text{ for } i=1,2,3 \text{ and } \ j=1,2,3\] <ul> <li>05-1-3-1. 예제</li> </ul> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># for loop 3개를 활용해서 표현할 수 있겠는가?
</span></code></pre></div></div> <ul> <li>05-1-3-2. 예제</li> </ul> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># 두 nxn 행렬 사이의 곱을 구하는 python 함수를 작성해 보세요.
</span></code></pre></div></div> <ul> <li>05-1-3-3. 예제 세 행렬 사이의 곱이 다음과 같다.</li> </ul> \[\boldsymbol D=\boldsymbol A \cdot \boldsymbol B \cdot \boldsymbol C\] <p>이를 인덱스 notation으로 표현하면</p> \[D_{ij}=A_{ik}B_{kl}C_{lj}=\sum_k\sum_l A_{ik}B_{kl}C_{lj} \text{ for } (i,j) = (1,1), (1,2), ..., (3,3)\] <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># 세 nxn 행렬 사이의 곱을 구하는 python 함수를 작성해 보세요.
</span></code></pre></div></div> <h3 id="05-1-3-외적">05-1-3. 외적</h3> <ul> <li> <p>설명</p> <p>두 벡터 \(\boldsymbol a, \boldsymbol b\)의 외적이 다음과 같이 표현된다.</p> \[\boldsymbol c = \boldsymbol a \times \boldsymbol b\] \[c_i=\epsilon_{ijk}a_jb_k\] <p>어떻게 파이썬으로 구현할 수 있나?</p> <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="n">numpy</span> <span class="k">as</span> <span class="n">np</span>

<span class="n">a</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="nf">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>
<span class="n">b</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="nf">array</span><span class="p">([</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">])</span>

<span class="n">c</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="nf">cross</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="n">c</span><span class="p">)</span>  <span class="c1"># [-3  6 -3]
</span></code></pre></div> </div> </li> <li> <p>예시 <del>tetrahedral site &amp; octaheral site 크기 구하기</del></p> </li> </ul> <h3 id="05-1-4-broadcasting">05-1-4. <a href="https://numpy.org/devdocs/user/basics.broadcasting.html#basics-broadcasting" rel="external nofollow noopener" target="_blank">Broadcasting</a> </h3> <ul> <li> <p>브로드캐스팅은 서로 다른 shape의 배열끼리 연산할 때 NumPy가 자동으로 차원을 맞춰주는 기능</p> </li> <li> <p>예시 (1차원+0차원(스칼라))</p> <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="n">arr</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="nf">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">])</span>
<span class="nf">print</span><span class="p">(</span><span class="n">arr</span> <span class="o">+</span> <span class="mi">10</span><span class="p">)</span>  <span class="c1"># [11 12 13 ... 19] ## stretched ..
</span></code></pre></div> </div> </li> <li> <p>예시 (2차원 + 1차원)</p> <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="n">mat</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="nf">array</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span>
			  <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]])</span>
<span class="n">vec</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="nf">array</span><span class="p">([</span><span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">30</span><span class="p">])</span>

<span class="nf">print</span><span class="p">(</span><span class="n">mat</span> <span class="o">+</span> <span class="n">vec</span><span class="p">)</span>
<span class="c1"># [[11 22 33]
#  [14 25 36]]
</span></code></pre></div> </div> </li> <li> <p>주의!</p> <p>뒤에서부터 비교하며 차원이 같거나 1이면 확장 가능 하나라도 불가능하면 에러 발생</p> </li> </ul> <h3 id="05-1-5-other-various-features">05-1-5. Other various features</h3> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">arr</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="nf">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">16</span><span class="p">])</span>

<span class="nf">print</span><span class="p">(</span><span class="n">np</span><span class="p">.</span><span class="nf">sqrt</span><span class="p">(</span><span class="n">arr</span><span class="p">))</span>   <span class="c1"># 제곱근 → [1. 2. 3. 4.]
</span><span class="nf">print</span><span class="p">(</span><span class="n">np</span><span class="p">.</span><span class="nf">exp</span><span class="p">(</span><span class="n">arr</span><span class="p">))</span>    <span class="c1"># e^x
</span><span class="nf">print</span><span class="p">(</span><span class="n">np</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="n">arr</span><span class="p">))</span>    <span class="c1"># 자연로그
</span><span class="nf">print</span><span class="p">(</span><span class="n">np</span><span class="p">.</span><span class="nf">sin</span><span class="p">(</span><span class="n">arr</span><span class="p">))</span>    <span class="c1"># 사인 함수
</span><span class="nf">print</span><span class="p">(</span><span class="n">np</span><span class="p">.</span><span class="nf">mean</span><span class="p">(</span><span class="n">arr</span><span class="p">))</span>   <span class="c1"># 평균
</span><span class="nf">print</span><span class="p">(</span><span class="n">np</span><span class="p">.</span><span class="nf">sum</span><span class="p">(</span><span class="n">arr</span><span class="p">))</span>    <span class="c1"># 합
</span><span class="nf">print</span><span class="p">(</span><span class="n">np</span><span class="p">.</span><span class="nf">min</span><span class="p">(</span><span class="n">arr</span><span class="p">))</span>    <span class="c1"># 최소값
</span><span class="nf">print</span><span class="p">(</span><span class="n">np</span><span class="p">.</span><span class="nf">max</span><span class="p">(</span><span class="n">arr</span><span class="p">))</span>    <span class="c1"># 최대값
</span><span class="nf">print</span><span class="p">(</span><span class="n">np</span><span class="p">.</span><span class="nf">std</span><span class="p">(</span><span class="n">arr</span><span class="p">))</span>    <span class="c1"># 표준편차
</span>
<span class="n">arr</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="nf">array</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">])</span>

<span class="nf">print</span><span class="p">(</span><span class="n">np</span><span class="p">.</span><span class="nf">sort</span><span class="p">(</span><span class="n">arr</span><span class="p">))</span>        <span class="c1"># 정렬된 배열
</span><span class="nf">print</span><span class="p">(</span><span class="n">np</span><span class="p">.</span><span class="nf">argsort</span><span class="p">(</span><span class="n">arr</span><span class="p">))</span>     <span class="c1"># 정렬 인덱스
</span><span class="nf">print</span><span class="p">(</span><span class="n">np</span><span class="p">.</span><span class="nf">argmax</span><span class="p">(</span><span class="n">arr</span><span class="p">))</span>      <span class="c1"># 최대값 인덱스
</span><span class="nf">print</span><span class="p">(</span><span class="n">np</span><span class="p">.</span><span class="nf">argmin</span><span class="p">(</span><span class="n">arr</span><span class="p">))</span>      <span class="c1"># 최소값 인덱스
</span>
<span class="n">ind</span><span class="o">=</span><span class="n">np</span><span class="p">.</span><span class="nf">argsort</span><span class="p">(</span><span class="n">arr</span><span class="p">)</span>
<span class="n">arr</span><span class="p">[</span><span class="n">ind</span><span class="p">]</span> <span class="c1">## sorting 이 된 배열
</span>
<span class="c1"># 추가 예제
</span><span class="n">names</span><span class="o">=</span><span class="p">[</span><span class="sh">'</span><span class="s">Michael</span><span class="sh">'</span><span class="p">,</span><span class="sh">'</span><span class="s">Jim</span><span class="sh">'</span><span class="p">,</span><span class="sh">'</span><span class="s">Pam</span><span class="sh">'</span><span class="p">,</span><span class="sh">'</span><span class="s">Dwight</span><span class="sh">'</span><span class="p">,</span><span class="sh">'</span><span class="s">Kevin</span><span class="sh">'</span><span class="p">,</span><span class="sh">'</span><span class="s">Creed</span><span class="sh">'</span><span class="p">]</span>
<span class="n">scores</span><span class="o">=</span><span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">40</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">25</span><span class="p">]</span>

<span class="n">inds</span><span class="o">=</span><span class="n">np</span><span class="p">.</span><span class="nf">argsort</span><span class="p">(</span><span class="n">scores</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="n">names</span><span class="p">[</span><span class="n">inds</span><span class="p">])</span> <span class="c1">## score에 따라 정렬된 배열
</span></code></pre></div></div> <h2 id="수업-05-2-아인슈타인-표기법과-npeinsum-함수">수업 05-2 <a href="https://ko.wikipedia.org/wiki/%EC%95%84%EC%9D%B8%EC%8A%88%ED%83%80%EC%9D%B8_%ED%91%9C%EA%B8%B0%EB%B2%95" rel="external nofollow noopener" target="_blank">아인슈타인 표기법</a>과 <a href="https://numpy.org/doc/stable/reference/generated/numpy.einsum.html" rel="external nofollow noopener" target="_blank">np.einsum</a> 함수</h2> <p>Reference: <a href="https://rockt.ai/2018/04/30/einsum" rel="external nofollow noopener" target="_blank">https://rockt.ai/2018/04/30/einsum</a></p> <p>아인슈타인 표기법은, 벡터, 행렬, 텐서가 사용된 수학 수식에서, 중복된 기호와 합기호 $\sum$가 함께 나타나는 연산을 표기할 때, 합기호를 생략하는데 착안하여 복잡한 수식을 좀 더 간략하게 표기하는 방식이다. 아래 수식에서 한 기호가 하나의 값을 표현할 때는 굵지 않은 글씨체로 ($a$), 만약 벡터와 같이 하나의 기호가 여러 값으로 이루어져 있을 때는 굵은 글씨체 ($\boldsymbol a$)로 표기하겠다.</p> <h3 id="05-2-1-다양한-행렬-그리고-벡터-연산과-einstein-표기법">05-2-1 다양한 행렬 그리고 벡터 연산과 Einstein 표기법</h3> <h4 id="벡터-스케일링-스칼라-곱">벡터 스케일링 (스칼라 곱)</h4> <p>주어진 벡터 $\boldsymbol a$에 스칼라 $c$를 곱하면 또 다른 벡터 $\boldsymbol b$이 된다. 이는 아래와 같이 수식으로 표현가능하다.</p> \[c\boldsymbol a=\boldsymbol b\] <p>이를 index 표기법으로 나타내면, 3차원 공간에서 각 벡터는 3성분을 지니므로, 아래 첨자 $_i$를 활용해 각 첨자를 구분할 수 있다. 즉 벡터 $\boldsymbol a$는 사실 $(a_1,a_2,a_3)$로 구분되는 세 성분으로 이루어져 있으며, 이는 벡터 $\boldsymbol b$도 마찬가지이다. 따라서 앞선 수식을 각 성분에 대해 나타낸다면, 각기 구분되는 세 수식 $b_1=ca_1$ 그리고 $b_2=ca_2$, 마지막으로 $b_3=ca_3$으로 대신할 수 있다. 그런데, 아무래도 이건 조금 번거로운 느낌이 든다. 아래와 같이 좀 더 간략하게 표기하는 게 좋겠다.</p> \[b_i=ca_i \text{ with } i=1,2,3\] <p>위를 Python의 List, 그리고 NumPy를 가지고 각기 표현할 수도 있겠다.</p> <ul id="vector" class="tab" data-tab="ed0e2f5b-f949-45d8-8e2e-90c29d340ac4" data-name="vector"> <li class="active" id="vector-list"> <a href="#">List </a> </li> <li id="vector-range--len---"> <a href="#">range와 len 활용 </a> </li> <li id="vector-numpy"> <a href="#">NumPy </a> </li> </ul> <ul class="tab-content" id="ed0e2f5b-f949-45d8-8e2e-90c29d340ac4" data-name="vector"> <li class="active"> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">## List로 구현
</span><span class="n">c</span><span class="o">=</span><span class="mf">0.3</span>
<span class="n">a</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">]</span>
<span class="n">b</span><span class="o">=</span><span class="p">[]</span> <span class="c1"># empty list
</span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="mi">3</span><span class="p">):</span> <span class="c1">## iteration
</span>   <span class="n">b</span><span class="p">.</span><span class="nf">append</span><span class="p">(</span><span class="n">c</span><span class="o">*</span><span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
</code></pre></div></div> </li> <li> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">## Range와 len의 조합을 활용해, 임의의 크기를 가진 list에 적용 가능
</span><span class="n">c</span><span class="o">=</span><span class="mf">0.3</span>
<span class="n">a</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">]</span>
<span class="n">b</span><span class="o">=</span><span class="p">[]</span> <span class="c1"># empty list
</span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="nf">len</span><span class="p">(</span><span class="n">a</span><span class="p">)):</span> <span class="c1">## iteration
</span>   <span class="n">b</span><span class="p">.</span><span class="nf">append</span><span class="p">(</span><span class="n">c</span><span class="o">*</span><span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
</code></pre></div></div> </li> <li> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">## NumPy로 구현
</span><span class="n">c</span><span class="o">=</span><span class="mf">0.3</span>
<span class="n">a</span><span class="o">=</span><span class="n">np</span><span class="p">.</span><span class="nf">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span>
<span class="n">b</span><span class="o">=</span><span class="n">c</span><span class="o">*</span><span class="n">a</span> <span class="c1">## broadcasting (?!)
</span></code></pre></div></div> </li> </ul> <h4 id="벡터의-크기">벡터의 크기</h4> <table> <tbody> <tr> <td>벡터의 크기는 앞서 이미 다루었다. 한 벡터 $\boldsymbol a$의 크기는 $</td> <td>\boldsymbol a</td> <td>$라 표기하고, 이는 다음과 같이 정의된다.</td> </tr> </tbody> </table> \[|\boldsymbol a|=\sqrt{\sum_i^3a_i^2}\] <p>고전적인 아인슈타인 표기법은 위와 같이 하나의 물리량에 일반적으로 적용되진 않는다. 하지만 NumPy의 einsum 함수는 적용된다. 아래와 같이 먼저 벡터내의 요소의 거듭제곱으로 이루어진 벡터를 구할 수 있다. 벡터 $\boldsymbol a$가 가령 아래와 같다고 하자. \(\boldsymbol a= (2,3,4)\)</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="n">numpy</span> <span class="k">as</span> <span class="n">np</span>
<span class="n">a</span><span class="o">=</span><span class="n">np</span><span class="p">.</span><span class="nf">array</span><span class="p">([</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">])</span>
</code></pre></div></div> <p>만약 2+3+4를 구하는게 목적이라면, 즉 $\sum_i a_i$가 목적이라면, 아래와 같이 수행할 수 있다.</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">np</span><span class="p">.</span><span class="nf">einsum</span><span class="p">(</span><span class="sh">'</span><span class="s">i-&gt;</span><span class="sh">'</span><span class="p">,</span><span class="n">a</span><span class="p">)</span>
</code></pre></div></div> <p>그런데 우리는 $\sum_ia_i^2$을 먼저 구해야 하겠다. 따라서 아래와 같이 약간 변화를 줄 수 있다.</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">np</span><span class="p">.</span><span class="nf">einsum</span><span class="p">(</span><span class="sh">'</span><span class="s">i-&gt;</span><span class="sh">'</span><span class="p">,</span><span class="n">a</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span>
</code></pre></div></div> <p>다음으로 이렇게 얻어진 값의 제곱근을 구해야 하므로 아래가 최종적으로 적절한 형식이 되겠다.</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">np</span><span class="p">.</span><span class="nf">sqrt</span><span class="p">(</span><span class="n">np</span><span class="p">.</span><span class="nf">einsum</span><span class="p">(</span><span class="sh">'</span><span class="s">i-&gt;</span><span class="sh">'</span><span class="p">,</span><span class="n">a</span><span class="o">**</span><span class="mi">2</span><span class="p">))</span>
</code></pre></div></div> <aside><p> 실은 NumPy의 선형대수(Linear Algebra) 함수 모듬을 활용하여 더욱 간략히 수행할 수 있다. ```np.linalg.norm(a)``` </p></aside> <h4 id="단위-벡터-unit">단위 벡터 (unit)</h4> <p>벡터 $\boldsymbol a$의 크기가 1 이라면 (즉 $|\boldsymbol a=1|$), 벡터 $\boldsymbol a$ 를 단위 벡터(unit vector)라 부른다. 즉 단위 벡터란, 크기가 1인 벡터를 뜻한다. 주어진 한 벡터 $\boldsymbol a$의 단위 벡터를 $\bar{\boldsymbol a}$라 할 때, $\boldsymbol a$와 $\bar{\boldsymbol a}$의 관계를 다음과 같이 표현할 수 있다:</p> \[\bar{\boldsymbol a}=\frac{\boldsymbol a}{|\boldsymbol a|}\] <p>앞서 스칼라곱에서 보았듯, 마찬가지로 개별 성분값들을 활용한 index표기법을 활용해 아래와 같이 표현할 수 있다.</p> \[\bar{a}_i=\frac{a_i}{\sqrt{a_1^2+a_2^2+a_3^2}}\] <p>위 수식도 사실은 $i$가 1, 혹은 2, 혹은 3인 세 경우에 각기 해당하는 수식을 의미한다. 즉 위는 아래 표기법과 같이</p> \[\bar{a}_i=\frac{a_i}{\sqrt{a_1^2+a_2^2+a_3^2}}, \text{ with } i=1,2,3\] <p>의 $i=1,2,3$ 부분이 생략된 것이라 볼 수 있다. 정리하자면 아래 탭에 세가지 각기 다른 방식으로 표현된 수식들은 사실 모두 동일한 수식을 표현하고 있는 것이다.</p> <ul id="--" class="tab" data-tab="8e6b6170-0978-4bf2-9d5d-c1f3efc60666" data-name="--"> <li class="active" id="------------"> <a href="#">굵은 글씨체 사용 </a> </li> <li id="---with--"> <a href="#">with사용 </a> </li> <li id="---with--"> <a href="#">with생략 </a> </li> <li id="-------"> <a href="#">생략없이 </a> </li> </ul> <ul class="tab-content" id="8e6b6170-0978-4bf2-9d5d-c1f3efc60666" data-name="--"> <li class="active"> \[\bar{\boldsymbol a}=\frac{\boldsymbol a}{|\boldsymbol a|}\] </li> <li> \[\bar{a}_i=\frac{a_i}{\sqrt{a_1^2+a_2^2+a_3^2}}, \text{ with } i=1,2,3\] </li> <li> \[\bar{a}_i=\frac{a_i}{\sqrt{a_1^2+a_2^2+a_3^2}}\] </li> <li> \[\bar{a}_1=\frac{a_1}{\sqrt{a_1^2+a_2^2+a_3^2}}, \ \ \ \bar{a}_2=\frac{a_2}{\sqrt{a_1^2+a_2^2+a_3^2}}, \ \ \ \bar{a}_3=\frac{a_3}{\sqrt{a_1^2+a_2^2+a_3^2}}\] </li> </ul> <p>index를 활용하되 아무런 생략없이 표기된 경우(<code class="language-plaintext highlighter-rouge">생략없이</code>)와 비교했을 때, <code class="language-plaintext highlighter-rouge">WITH생략</code>의 경우 얼마나 많이 수식에 활용된 표현이 축약될 수 있는지 비교해보자. 그리고 생략 되어 표기된 경우만 주어지더라도, 생략되지 않은 경우를 의미하는 바를 잘 파악할 수 있어야 하겠다. 굵은 글씨체로 표기된 경우가 가장 많이 생략된 표기법이나, index가 사용되지 않아 수식의 명확성이 높지 않을 수 있다. 마지막에 완전히 생략된 표기법은 Einstein 표기법을 이해하기 위한 기초가 된다.</p> <h4 id="예시">예시:</h4> <p>주어진 벡터 \(\boldsymbol a\)와 방향은 같으나 크기가 1인 단위 벡터를 구하는 Python 예제를 살펴보자.</p> <ul id="-------" class="tab" data-tab="d7e9c66e-23bb-40e1-9524-1d430d6427ce" data-name="-------"> <li class="active" id="----------"> <a href="#">수식 </a> </li> <li id="--------list--"> <a href="#">List활용 </a> </li> <li id="--------numpy--1"> <a href="#">NumPy활용1 </a> </li> <li id="--------numpy--2"> <a href="#">NumPy활용2 </a> </li> </ul> <ul class="tab-content" id="d7e9c66e-23bb-40e1-9524-1d430d6427ce" data-name="-------"> <li class="active"> \[\bar{a}_i=\frac{a_i}{\sqrt{a_1^2+a_2^2+a_3^2}}\] </li> <li> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">a</span><span class="o">=</span><span class="p">[</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">]</span>
<span class="n">magnitude</span><span class="o">=</span><span class="mf">0.</span> <span class="c1">## 벡터 크기
</span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="nf">len</span><span class="p">(</span><span class="n">a</span><span class="p">)):</span>
	<span class="n">magnitude</span><span class="o">+=</span><span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">**</span><span class="mi">2</span>
<span class="n">magnitude</span><span class="o">=</span><span class="n">magnitude</span><span class="o">**</span><span class="mf">0.5</span> <span class="c1">## sqrt(a)
</span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="nf">len</span><span class="p">(</span><span class="n">a</span><span class="p">)):</span>
	<span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">=</span><span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">/</span><span class="n">mag</span>
<span class="nf">print</span><span class="p">(</span><span class="n">bar_a</span><span class="p">)</span>
</code></pre></div></div> </li> <li> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="n">numpy</span> <span class="k">as</span> <span class="n">np</span>
<span class="n">old_a</span><span class="o">=</span><span class="n">np</span><span class="p">.</span><span class="nf">array</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">])</span>
<span class="n">new_a</span><span class="o">=</span><span class="n">old_a</span><span class="o">**</span><span class="mi">2</span>
<span class="n">mag</span><span class="o">=</span><span class="n">np</span><span class="p">.</span><span class="nf">sqrt</span><span class="p">(</span><span class="n">new_a</span><span class="p">.</span><span class="nf">sum</span><span class="p">())</span>
<span class="n">bar_a</span><span class="o">=</span><span class="n">old_a</span><span class="o">/</span><span class="n">mag</span>
<span class="nf">print</span><span class="p">(</span><span class="n">bar_a</span><span class="p">)</span>
</code></pre></div></div> </li> <li> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="n">nump</span> <span class="k">as</span> <span class="n">np</span>
<span class="n">old_a</span><span class="o">=</span><span class="n">np</span><span class="p">.</span><span class="nf">array</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">])</span>
<span class="n">bar_a</span><span class="o">=</span><span class="n">old_a</span><span class="o">/</span><span class="n">np</span><span class="p">.</span><span class="nf">sqrt</span><span class="p">((</span><span class="n">old_a</span><span class="o">**</span><span class="mi">2</span><span class="p">).</span><span class="nf">sum</span><span class="p">())</span>
<span class="nf">print</span><span class="p">(</span><span class="n">bar_a</span><span class="p">)</span>
</code></pre></div></div> </li> </ul> <h4 id="예시-반대방향-벡터">예시: 반대방향 벡터</h4> <p>한 벡터 $\boldsymbol a$와 크기가 같으나, 방향이 반대인 벡터를 $\boldsymbol b$라 한다면, 아래와 같은 결과를 얻는다.</p> <ul id="------" class="tab" data-tab="2c15e79a-1fd3-4fe2-bd17-9945a23a92a3" data-name="------"> <li class="active" id="-------------"> <a href="#">굵은기호수식 </a> </li> <li id="-------index---"> <a href="#">index표기법 </a> </li> <li id="-------index----with"> <a href="#">index표기법과with </a> </li> <li id="-------index----with--"> <a href="#">index표기법과with생략 </a> </li> <li id="-------list"> <a href="#">List </a> </li> <li id="-------numpy"> <a href="#">NumPy </a> </li> </ul> <ul class="tab-content" id="2c15e79a-1fd3-4fe2-bd17-9945a23a92a3" data-name="------"> <li class="active"> \[\boldsymbol a = - \boldsymbol b\] </li> <li> \[a_1 = -b_1, \ \ \ a_2 = -b_2, \ \ \ a_3 = -b_3\] </li> <li> \[a_i = -b_i, \text{ with } i=1,2,3\] </li> <li> \[a_i = -b_i\] </li> <li> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">a</span><span class="o">=</span><span class="p">[</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">]</span>
<span class="n">b</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="nf">len</span><span class="p">(</span><span class="n">a</span><span class="p">)):</span>
	<span class="n">b</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">=-</span><span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
</code></pre></div></div> </li> <li> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">a</span><span class="o">=</span><span class="n">np</span><span class="p">.</span><span class="nf">array</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">])</span>
<span class="n">b</span><span class="o">=-</span><span class="n">a</span>
</code></pre></div></div> </li> </ul> <h4 id="예시-벡터의-합">예시: 벡터의 합</h4> <ul id="---" class="tab" data-tab="f76a6094-c87e-4fdc-a55a-b1ac88636931" data-name="---"> <li class="active" id="----------"> <a href="#">굵은기호수식 </a> </li> <li id="----index---"> <a href="#">index표기법 </a> </li> <li id="----index----with"> <a href="#">index표기법과with </a> </li> <li id="----index----with--"> <a href="#">index표기법과with생략 </a> </li> <li id="----list"> <a href="#">List </a> </li> <li id="----numpy"> <a href="#">NumPy </a> </li> </ul> <ul class="tab-content" id="f76a6094-c87e-4fdc-a55a-b1ac88636931" data-name="---"> <li class="active"> \[\boldsymbol c = \boldsymbol a + \boldsymbol b\] </li> <li> \[c_1 = a_1+b_1, \ \ \ c_2 = a_2+b_2, \ \ \ c_3 = a_3+b_3\] </li> <li> \[c_i = a_i+b_i, \text{ with } i=1,2,3\] </li> <li> \[c_i =a_i + b_i\] </li> <li> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">a</span><span class="o">=</span><span class="p">[</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">]</span>
<span class="n">b</span><span class="o">=</span><span class="p">[</span><span class="mi">3</span><span class="p">,</span><span class="o">-</span><span class="mi">5</span><span class="p">,</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>
<span class="n">c</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="nf">len</span><span class="p">(</span><span class="n">a</span><span class="p">)):</span>
	<span class="n">c</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">=</span><span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">+</span><span class="n">b</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
</code></pre></div></div> </li> <li> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">a</span><span class="o">=</span><span class="n">np</span><span class="p">.</span><span class="nf">array</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">])</span>
<span class="n">b</span><span class="o">=</span><span class="n">np</span><span class="p">.</span><span class="nf">array</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span><span class="o">-</span><span class="mi">5</span><span class="p">,</span><span class="o">-</span><span class="mi">2</span><span class="p">])</span>
<span class="n">c</span><span class="o">=</span><span class="n">a</span><span class="o">+</span><span class="n">b</span>
</code></pre></div></div> </li> </ul> <h4 id="예시-벡터의-차">예시: 벡터의 차</h4> <ul id="---" class="tab" data-tab="d4487190-c769-4f53-8c32-3c2d0c57382b" data-name="---"> <li class="active" id="----------"> <a href="#">굵은기호수식 </a> </li> <li id="----index---"> <a href="#">index표기법 </a> </li> <li id="----index----with"> <a href="#">index표기법과with </a> </li> <li id="----index----with--"> <a href="#">index표기법과with생략 </a> </li> <li id="----list"> <a href="#">List </a> </li> <li id="----numpy"> <a href="#">NumPy </a> </li> </ul> <ul class="tab-content" id="d4487190-c769-4f53-8c32-3c2d0c57382b" data-name="---"> <li class="active"> \[\boldsymbol c = \boldsymbol a - \boldsymbol b\] </li> <li> \[c_1 = a_1-b_1, \ \ \ c_2 = a_2-b_2, \ \ \ c_3 = a_3-b_3\] </li> <li> \[c_i = a_i-b_i, \text{ with } i=1,2,3\] </li> <li> \[c_i =a_i - b_i\] </li> <li> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">a</span><span class="o">=</span><span class="p">[</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">]</span>
<span class="n">b</span><span class="o">=</span><span class="p">[</span><span class="mi">3</span><span class="p">,</span><span class="o">-</span><span class="mi">5</span><span class="p">,</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>
<span class="n">c</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="nf">len</span><span class="p">(</span><span class="n">a</span><span class="p">)):</span>
	<span class="n">c</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">=</span><span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">-</span><span class="n">b</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
</code></pre></div></div> </li> <li> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">a</span><span class="o">=</span><span class="n">np</span><span class="p">.</span><span class="nf">array</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">])</span>
<span class="n">b</span><span class="o">=</span><span class="n">np</span><span class="p">.</span><span class="nf">array</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span><span class="o">-</span><span class="mi">5</span><span class="p">,</span><span class="o">-</span><span class="mi">2</span><span class="p">])</span>
<span class="n">c</span><span class="o">=</span><span class="n">a</span><span class="o">-</span><span class="n">b</span>
</code></pre></div></div> </li> </ul> <h4 id="내적-inner-dot">내적 (inner dot)</h4> <p>두 벡터간의 ‘내적’이라 일컫는 연산의 결과는 스칼라가 된다.</p> \[\boldsymbol a \cdot \boldsymbol b = \sum_i^3 a_ib_i=c\] <p>위를 <a href="https://ko.wikipedia.org/wiki/%EC%95%84%EC%9D%B8%EC%8A%88%ED%83%80%EC%9D%B8_%ED%91%9C%EA%B8%B0%EB%B2%95" rel="external nofollow noopener" target="_blank">Einstein summation convention</a>으로 표기하면</p> \[\boldsymbol a \cdot \boldsymbol b = a_ib_i=c\] <p>Einstein 표기법에 따르면, 앞서 $\text{ with } i=1,2,3 $가 생략되었듯, summation 기호 \(\sum_i^3\)가 생략되어 표기된다. 정리하자면, 두 벡터간의 내적에서 ‘곱’이 나타난 경우, 곱셈의 대상이 되는 두 물리량의 인덱스가 동일하게 표기된다 (위 에서는 $i$). 중복된 인덱스 $i$가 나타나면 summation기호가 같이 표현되므로, 중복된 인덱스가 나타날 때, 필연적으로 summation이 수행됨을 예상할 수 있다. 이러한 생각이 summation기호를 생략하는데 이르게 된다.</p> <ul id="--" class="tab" data-tab="9ecf5470-7bb3-4dc7-8e93-24ba8e59e86e" data-name="--"> <li class="active" id="------------"> <a href="#">굵은 글씨체 사용 </a> </li> <li id="---with--"> <a href="#">with사용 </a> </li> <li id="---with--"> <a href="#">with생략 </a> </li> <li id="-------"> <a href="#">생략없이 </a> </li> <li id="---list1"> <a href="#">List1 </a> </li> <li id="---list2"> <a href="#">List2 </a> </li> <li id="---numpy"> <a href="#">Numpy </a> </li> <li id="---np-einsum"> <a href="#">np.einsum </a> </li> <li id="---etc"> <a href="#">etc </a> </li> </ul> <ul class="tab-content" id="9ecf5470-7bb3-4dc7-8e93-24ba8e59e86e" data-name="--"> <li class="active"> \[\bar{\boldsymbol a}=\frac{\boldsymbol a}{|\boldsymbol a|}\] </li> <li> \[\bar{a}_i=\frac{a_i}{\sqrt{a_1^2+a_2^2+a_3^2}}, \text{ with } i=1,2,3\] </li> <li> \[\bar{a}_i=\frac{a_i}{\sqrt{a_1^2+a_2^2+a_3^2}}\] </li> <li> \[\bar{a}_1=\frac{a_1}{\sqrt{a_1^2+a_2^2+a_3^2}}, \ \ \ \bar{a}_2=\frac{a_2}{\sqrt{a_1^2+a_2^2+a_3^2}}, \ \ \ \bar{a}_3=\frac{a_3}{\sqrt{a_1^2+a_2^2+a_3^2}}\] </li> <li> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">## Numpy없이 구현
</span><span class="n">a</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">]</span>
<span class="n">b</span><span class="o">=</span><span class="p">[</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">]</span>
<span class="n">c</span><span class="o">=</span><span class="mf">0.</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="mi">3</span><span class="p">):</span>
   <span class="n">c</span><span class="o">=</span><span class="n">c</span><span class="o">+</span><span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">*</span><span class="n">b</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
<span class="nf">print</span><span class="p">(</span><span class="n">c</span><span class="p">)</span>
</code></pre></div></div> </li> <li> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">## Numpy없이 구현
</span><span class="n">a</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span>
<span class="n">b</span><span class="o">=</span><span class="p">[</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span>
<span class="n">c</span><span class="o">=</span><span class="mf">0.</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="nf">len</span><span class="p">(</span><span class="n">a</span><span class="p">)):</span>
   <span class="n">c</span><span class="o">=</span><span class="n">c</span><span class="o">+</span><span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">*</span><span class="n">b</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
<span class="nf">print</span><span class="p">(</span><span class="n">c</span><span class="p">)</span>
</code></pre></div></div> </li> <li> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="n">numpy</span> <span class="k">as</span> <span class="n">np</span>
<span class="c1">## Numpy로 구현
</span><span class="n">a</span><span class="o">=</span><span class="n">np</span><span class="p">.</span><span class="nf">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span>
<span class="n">b</span><span class="o">=</span><span class="n">np</span><span class="p">.</span><span class="nf">array</span><span class="p">([</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">])</span>
<span class="n">c</span><span class="o">=</span><span class="n">a</span><span class="o">*</span><span class="n">b</span>  <span class="c1">## element-wise operation되는 것을 유념하라.
</span>		<span class="c1">## 즉 c=np.array([a[0]*b[0],a[1]*b[1],a[2]*b[2]])
</span><span class="n">c</span><span class="o">=</span><span class="n">c</span><span class="p">.</span><span class="nf">sum</span><span class="p">()</span>
<span class="nf">print</span><span class="p">(</span><span class="n">c</span><span class="p">)</span>

<span class="c1">#혹은 마지막 두 줄을 줄여서 아래와 같은 한줄의 명령어로 바꿀 수 있겠다.
</span><span class="n">c</span><span class="o">=</span><span class="p">(</span><span class="n">a</span><span class="o">*</span><span class="n">b</span><span class="p">).</span><span class="nf">sum</span><span class="p">()</span>
<span class="nf">print</span><span class="p">(</span><span class="n">c</span><span class="p">)</span>
</code></pre></div></div> </li> <li> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="n">numpy</span> <span class="k">as</span> <span class="n">np</span>
<span class="c1">## Numpy로 구현
</span><span class="n">a</span><span class="o">=</span><span class="n">np</span><span class="p">.</span><span class="nf">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span>
<span class="n">b</span><span class="o">=</span><span class="n">np</span><span class="p">.</span><span class="nf">array</span><span class="p">([</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">])</span>
<span class="n">np</span><span class="p">.</span><span class="nf">einsum</span><span class="p">(</span><span class="sh">'</span><span class="s">i,i-&gt;</span><span class="sh">'</span><span class="p">,</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">)</span>
</code></pre></div></div> </li> <li> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="n">numpy</span> <span class="k">as</span> <span class="n">np</span>
<span class="c1">## Numpy로 구현
</span><span class="n">a</span><span class="o">=</span><span class="n">np</span><span class="p">.</span><span class="nf">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span>
<span class="n">b</span><span class="o">=</span><span class="n">np</span><span class="p">.</span><span class="nf">array</span><span class="p">([</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">])</span>
<span class="nf">print</span><span class="p">(</span><span class="n">np</span><span class="p">.</span><span class="nf">einsum</span><span class="p">(</span><span class="sh">'</span><span class="s">i,i-&gt;</span><span class="sh">'</span><span class="p">,</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">))</span>
<span class="nf">print</span><span class="p">(</span><span class="n">a</span><span class="nd">@b</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="n">np</span><span class="p">.</span><span class="nf">dot</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">))</span>
<span class="nf">print</span><span class="p">(</span><span class="n">np</span><span class="p">.</span><span class="nf">inner</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">))</span>
<span class="nf">print</span><span class="p">(</span><span class="n">np</span><span class="p">.</span><span class="nf">sum</span><span class="p">(</span><span class="n">a</span><span class="o">*</span><span class="n">b</span><span class="p">))</span>
</code></pre></div></div> </li> </ul> <h4 id="nxn행렬과-n벡터-곱">(nxn)행렬과 (n)벡터 곱</h4> <p>행과 열이 각각 n인 행렬과 (즉 nxn행렬)과 n성분으로 구성된 벡터간의 곱</p> \[\boldsymbol c = \boldsymbol A \cdot \boldsymbol v\] <p>이 index를 활용해 다음과 같이 표기된다.</p> \[c_i = \sum_j^nA_{ij}v_j \ \text{ for } i=1,2,...,n\] <p>위 결과를 정리하자면 아래와 같다.</p> <ul id="-----" class="tab" data-tab="034f926c-1077-462a-ad48-95eefb7bdb17" data-name="-----"> <li class="active" id="------einstein"> <a href="#">einstein </a> </li> <li id="------list----"> <a href="#">List활용코드 </a> </li> <li id="------numpy1"> <a href="#">NumPy1 </a> </li> <li id="------numpy2"> <a href="#">NumPy2 </a> </li> <li id="------np-einsum"> <a href="#">np.einsum </a> </li> </ul> <ul class="tab-content" id="034f926c-1077-462a-ad48-95eefb7bdb17" data-name="-----"> <li class="active"> \[c_i=A_{ij}v_j\] </li> <li> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">A</span><span class="o">=</span><span class="p">[[</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">],[</span><span class="mi">3</span><span class="p">,</span><span class="mi">1</span><span class="p">]]</span>
<span class="n">v</span><span class="o">=</span><span class="p">[</span><span class="mi">3</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span>
<span class="n">n</span><span class="o">=</span><span class="mi">2</span> <span class="c1"># 2x2 행렬과 (2)차원 벡터라 가정하자면
</span><span class="n">c</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="n">n</span><span class="p">):</span> <span class="c1"># 각 c[i]성분의 초기값을 0으로.
</span>   <span class="n">c</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">=</span><span class="mf">0.</span>
   <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="n">n</span><span class="p">):</span> <span class="c1"># 생략된 summation 기호에 해당하는 loop
</span>      <span class="n">c</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">=</span><span class="n">c</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">+</span><span class="n">A</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span><span class="o">*</span><span class="n">v</span><span class="p">[</span><span class="n">j</span><span class="p">]</span>
<span class="nf">print</span><span class="p">(</span><span class="n">c</span><span class="p">)</span>
</code></pre></div></div> </li> <li> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">A</span><span class="o">=</span><span class="n">np</span><span class="p">.</span><span class="nf">array</span><span class="p">([[</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">],[</span><span class="mi">3</span><span class="p">,</span><span class="mi">1</span><span class="p">]])</span>
<span class="n">v</span><span class="o">=</span><span class="n">np</span><span class="p">.</span><span class="nf">array</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span>
<span class="n">n</span><span class="o">=</span><span class="mi">2</span> <span class="c1"># 2x2 행렬과 (2)차원 벡터라 가정하자면
</span><span class="n">c</span><span class="o">=</span><span class="n">np</span><span class="p">.</span><span class="nf">array</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">])</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="n">n</span><span class="p">):</span> <span class="c1"># 각 c[i]성분의 초기값을 0으로.
</span>   <span class="n">c</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">=</span><span class="mf">0.</span>
   <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="n">n</span><span class="p">):</span> <span class="c1"># 생략된 summation 기호에 해당하는 loop
</span>      <span class="n">c</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">=</span><span class="n">c</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">+</span><span class="n">A</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">]</span><span class="o">*</span><span class="n">v</span><span class="p">[</span><span class="n">j</span><span class="p">]</span>
<span class="nf">print</span><span class="p">(</span><span class="n">c</span><span class="p">)</span>
</code></pre></div></div> </li> <li> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">A</span><span class="o">=</span><span class="n">np</span><span class="p">.</span><span class="nf">array</span><span class="p">([[</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">],[</span><span class="mi">3</span><span class="p">,</span><span class="mi">1</span><span class="p">]])</span>
<span class="n">v</span><span class="o">=</span><span class="n">np</span><span class="p">.</span><span class="nf">array</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span>
<span class="n">c</span><span class="o">=</span><span class="n">A</span><span class="nd">@v</span>
<span class="nf">print</span><span class="p">(</span><span class="n">c</span><span class="p">)</span>
</code></pre></div></div> </li> <li> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">A</span><span class="o">=</span><span class="n">np</span><span class="p">.</span><span class="nf">array</span><span class="p">([[</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">],[</span><span class="mi">3</span><span class="p">,</span><span class="mi">1</span><span class="p">]])</span>
<span class="n">v</span><span class="o">=</span><span class="n">np</span><span class="p">.</span><span class="nf">array</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span>
<span class="n">c</span><span class="o">=</span><span class="n">np</span><span class="p">.</span><span class="nf">einsum</span><span class="p">(</span><span class="sh">'</span><span class="s">ij,j-&gt;i</span><span class="sh">'</span><span class="p">,</span><span class="n">A</span><span class="p">,</span><span class="n">v</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="n">c</span><span class="p">)</span>
</code></pre></div></div> </li> </ul> <h4 id="행렬-곱1-single-dot">행렬 곱1 (single dot)</h4> <p>두 행렬 $\boldsymbol A$와 $\boldsymbol B$의 곱이 아래와 같이 정의된다고 하자.</p> \[C_{ij} = \sum_k^3 A_{ik}B_{kj} \text{ for } (i,j) \text{ of } (1,1), (1,2), ... , (n,n-1), (n,n)\] <p>아래 결과로 정리된다.</p> <ul id="---1" class="tab" data-tab="20910ce4-c0e8-453b-b234-6f541bfa68e8" data-name="---1"> <li class="active" id="---1-list"> <a href="#">LIST </a> </li> <li id="---1-numpy1"> <a href="#">NUMPY1 </a> </li> <li id="---1-numpy2"> <a href="#">NUMPY2 </a> </li> <li id="---1-numpy3"> <a href="#">NUMPY3 </a> </li> <li id="---1-numpy4"> <a href="#">NUMPY4 </a> </li> </ul> <ul class="tab-content" id="20910ce4-c0e8-453b-b234-6f541bfa68e8" data-name="---1"> <li class="active"> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">A</span><span class="o">=</span><span class="p">[[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],[</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">],[</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">9</span><span class="p">]]</span>
<span class="n">B</span><span class="o">=</span><span class="p">[[</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">],[</span><span class="mi">6</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">4</span><span class="p">],[</span><span class="mi">9</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">7</span><span class="p">]]</span>
<span class="n">C</span><span class="o">=</span><span class="p">[]</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="mi">3</span><span class="p">):</span> <span class="c1"># C행렬의 각 행을 초기화
</span><span class="n">C</span><span class="p">.</span><span class="nf">append</span><span class="p">([])</span>
<span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="mi">3</span><span class="p">):</span> <span class="c1"># C형렬 각 행에서의 j렬의 초기값에 0 대입
</span>	<span class="n">C</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="nf">append</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
	<span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="mi">3</span><span class="p">):</span> <span class="c1"># sum_k^3에 해당하는 summation!
</span>	<span class="n">C</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span><span class="o">+=</span><span class="n">A</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">k</span><span class="p">]</span><span class="o">*</span><span class="n">B</span><span class="p">[</span><span class="n">k</span><span class="p">][</span><span class="n">j</span><span class="p">]</span>
</code></pre></div></div> </li> <li> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="n">numpy</span> <span class="k">as</span> <span class="n">np</span>
<span class="n">A</span><span class="o">=</span><span class="n">np</span><span class="p">.</span><span class="nf">array</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],[</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">],[</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">9</span><span class="p">]])</span>
<span class="n">B</span><span class="o">=</span><span class="n">np</span><span class="p">.</span><span class="nf">array</span><span class="p">([[</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">],[</span><span class="mi">6</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">4</span><span class="p">],[</span><span class="mi">9</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">7</span><span class="p">]])</span>
<span class="n">C</span><span class="o">=</span><span class="n">np</span><span class="p">.</span><span class="nf">zeros</span><span class="p">((</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">))</span> <span class="c1">## 처음부터 0으로만 가득찬 3x3행렬 초기화
</span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="mi">3</span><span class="p">):</span>
	<span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="mi">3</span><span class="p">):</span>
		<span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="mi">3</span><span class="p">):</span>
			<span class="c1">## Nested-list와 달리 ',' 콤마 기호로
</span>			<span class="c1">## 각 축의 index를 구분한다.
</span>			<span class="n">C</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">]</span><span class="o">+=</span><span class="n">A</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="n">k</span><span class="p">]</span><span class="o">*</span><span class="n">B</span><span class="p">[</span><span class="n">k</span><span class="p">,</span><span class="n">j</span><span class="p">]</span>
<span class="nf">print</span><span class="p">(</span><span class="n">C</span><span class="p">)</span>
</code></pre></div></div> </li> <li> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="n">numpy</span> <span class="k">as</span> <span class="n">np</span>
<span class="n">A</span><span class="o">=</span><span class="n">np</span><span class="p">.</span><span class="nf">array</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],[</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">],[</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">9</span><span class="p">]])</span>
<span class="n">B</span><span class="o">=</span><span class="n">np</span><span class="p">.</span><span class="nf">array</span><span class="p">([[</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">],[</span><span class="mi">6</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">4</span><span class="p">],[</span><span class="mi">9</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">7</span><span class="p">]])</span>
<span class="c1"># 혹은 dot 활용하여
</span><span class="n">C</span><span class="o">=</span><span class="n">np</span><span class="p">.</span><span class="nf">dot</span><span class="p">(</span><span class="n">A</span><span class="p">,</span><span class="n">B</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="n">C</span><span class="p">)</span>
</code></pre></div></div> </li> <li> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="n">numpy</span> <span class="k">as</span> <span class="n">np</span>
<span class="n">A</span><span class="o">=</span><span class="n">np</span><span class="p">.</span><span class="nf">array</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],[</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">],[</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">9</span><span class="p">]])</span>
<span class="n">B</span><span class="o">=</span><span class="n">np</span><span class="p">.</span><span class="nf">array</span><span class="p">([[</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">],[</span><span class="mi">6</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">4</span><span class="p">],[</span><span class="mi">9</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">7</span><span class="p">]])</span>
<span class="c1"># 혹은 더 줄여서 (python 3.5이상)
</span><span class="n">C</span><span class="o">=</span><span class="n">A</span><span class="nd">@B</span> <span class="c1"># dtype 이 float로 바뀜
</span><span class="nf">print</span><span class="p">(</span><span class="n">C</span><span class="p">)</span>
</code></pre></div></div> </li> <li> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="n">numpy</span> <span class="k">as</span> <span class="n">np</span>
<span class="n">A</span><span class="o">=</span><span class="n">np</span><span class="p">.</span><span class="nf">array</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],[</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">],[</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">9</span><span class="p">]])</span>
<span class="n">B</span><span class="o">=</span><span class="n">np</span><span class="p">.</span><span class="nf">array</span><span class="p">([[</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">],[</span><span class="mi">6</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">4</span><span class="p">],[</span><span class="mi">9</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">7</span><span class="p">]])</span>
<span class="n">np</span><span class="p">.</span><span class="nf">einsum</span><span class="p">(</span><span class="sh">'</span><span class="s">ik,kj-&gt;ij</span><span class="sh">'</span><span class="p">,</span><span class="n">A</span><span class="p">,</span><span class="n">B</span><span class="p">)</span>
</code></pre></div></div> </li> </ul> <h4 id="행렬-곱2-double-dot">행렬 곱2 (double dot)</h4> \[c=\boldsymbol A : \boldsymbol B\] \[\rightarrow c=\sum_i\sum_jA_{ij}B_{ij}=\sum_j\sum_iA_{ij}B_{ij}=\sum_j\sum_iB_{ij}A_{ij}=\sum_i\sum_jB_{ij}A_{ij}\] <p>파이썬 코드로 바꾸면…</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">A</span><span class="o">=</span><span class="p">[[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],[</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">],[</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">9</span><span class="p">]]</span>
<span class="n">B</span><span class="o">=</span><span class="p">[[</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">],[</span><span class="mi">6</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">4</span><span class="p">],[</span><span class="mi">9</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">7</span><span class="p">]]</span>
<span class="c1">## 1
</span><span class="n">c</span><span class="o">=</span><span class="mf">0.</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="mi">3</span><span class="p">):</span> <span class="c1"># i is outer
</span>  <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="mi">3</span><span class="p">):</span> <span class="c1"># j is inner
</span>	  <span class="n">c</span><span class="o">+=</span><span class="n">A</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span><span class="o">*</span><span class="n">B</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span>
<span class="nf">print</span><span class="p">(</span><span class="n">c</span><span class="p">)</span>
<span class="c1">## 2, 안/바깥 for-loop 바뀜.
</span><span class="n">c</span><span class="o">=</span><span class="mf">0.</span>
<span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="mi">3</span><span class="p">):</span> <span class="c1"># j is outer
</span>  <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="mi">3</span><span class="p">):</span> <span class="c1"># i is inner
</span>    <span class="n">c</span><span class="o">+=</span><span class="n">A</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span><span class="o">*</span><span class="n">B</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span>
<span class="nf">print</span><span class="p">(</span><span class="n">c</span><span class="p">)</span>
<span class="c1">## 3. 안/바깥 for-loop 바뀜, 그리고 A와 B의 순서 바뀜
</span><span class="n">c</span><span class="o">=</span><span class="mf">0.</span>
<span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="mi">3</span><span class="p">):</span> <span class="c1"># j is outer
</span>  <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="mi">3</span><span class="p">):</span> <span class="c1"># i is inner
</span>    <span class="n">c</span><span class="o">+=</span><span class="n">B</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span><span class="o">*</span><span class="n">A</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="c1"># A[i][j] x B[i][j] 혹은 B[i][j] x A[i][j]
</span><span class="nf">print</span><span class="p">(</span><span class="n">c</span><span class="p">)</span>
<span class="c1">## 4. A와 B의 순서 바뀜
</span><span class="n">c</span><span class="o">=</span><span class="mf">0.</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="mi">3</span><span class="p">):</span> <span class="c1"># i is outer
</span>  <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="mi">3</span><span class="p">):</span> <span class="c1"># j is inner
</span>    <span class="n">c</span><span class="o">+=</span><span class="n">B</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span><span class="o">*</span><span class="n">A</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="c1"># A[i][j] x B[i][j] 혹은 B[i][j] x A[i][j]
</span><span class="nf">print</span><span class="p">(</span><span class="n">c</span><span class="p">)</span>
</code></pre></div></div> <p><code class="language-plaintext highlighter-rouge">NumPy</code>를 활용해서 표현해보자. 아래 두 경우중에 더욱 마음에 드는 스타일이 있는가? 교수자는 개인적으로 후자의 스타일이 더 간략하면서도 직관적이라 마음에 든다.</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">A</span><span class="o">=</span><span class="n">np</span><span class="p">.</span><span class="nf">array</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],[</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">],[</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">9</span><span class="p">]])</span>
<span class="n">B</span><span class="o">=</span><span class="n">np</span><span class="p">.</span><span class="nf">array</span><span class="p">([[</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">],[</span><span class="mi">6</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">4</span><span class="p">],[</span><span class="mi">9</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">7</span><span class="p">]])</span>
<span class="c1">##
</span><span class="n">c</span><span class="o">=</span><span class="mf">0.</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="mi">3</span><span class="p">):</span> <span class="c1"># i is outer
</span>  <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="mi">3</span><span class="p">):</span> <span class="c1"># j is inner
</span>    <span class="n">c</span><span class="o">+=</span><span class="n">A</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">]</span><span class="o">*</span><span class="n">B</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">]</span>
</code></pre></div></div> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">A</span><span class="o">=</span><span class="n">np</span><span class="p">.</span><span class="nf">array</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],[</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">],[</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">9</span><span class="p">]])</span>
<span class="n">B</span><span class="o">=</span><span class="n">np</span><span class="p">.</span><span class="nf">array</span><span class="p">([[</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">],[</span><span class="mi">6</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">4</span><span class="p">],[</span><span class="mi">9</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">7</span><span class="p">]])</span>
<span class="n">c</span><span class="o">=</span><span class="n">np</span><span class="p">.</span><span class="nf">einsum</span><span class="p">(</span><span class="sh">'</span><span class="s">ij,ij-&gt;</span><span class="sh">'</span><span class="p">,</span><span class="n">A</span><span class="p">,</span><span class="n">B</span><span class="p">)</span>
</code></pre></div></div> <h2 id="예시-1">예시</h2> <ul> <li>10 x 3 x 12 행렬 $\boldsymbol A$와 12 x 3 x 8 행렬 $\boldsymbol B$의 곱의 결과가 10 x 8 행렬 $\boldsymbol C$고 아래와 같이 수행된다고 하자. \(C_{ij}=\sum_{k=1}^3\sum_{l=1}^{12}A_{ikl}B_{lkj}\)</li> </ul> <ul id="---3-" class="tab" data-tab="81c3167c-89a3-4059-a14b-7b820bf3db2f" data-name="---3-"> <li class="active" id="---3----"> <a href="#">질문 </a> </li> <li id="---3------1"> <a href="#">정답예시1 </a> </li> <li id="---3------2"> <a href="#">정답예시2 </a> </li> </ul> <ul class="tab-content" id="81c3167c-89a3-4059-a14b-7b820bf3db2f" data-name="---3-"> <li class="active"> <p>Python으로 코드를 작성한 후, 예시로 제시된 정답과 비교해보자.</p> </li> <li> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">C</span><span class="o">=</span><span class="n">np</span><span class="p">.</span><span class="nf">zeros</span><span class="p">((</span><span class="mi">10</span><span class="p">,</span><span class="mi">8</span><span class="p">))</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="mi">10</span><span class="p">):</span>
  <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="mi">8</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="mi">3</span><span class="p">):</span>
      <span class="k">for</span> <span class="n">l</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="mi">12</span><span class="p">):</span>
        <span class="n">C</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">]</span><span class="o">=</span><span class="n">C</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">]</span><span class="o">+</span><span class="n">A</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="n">k</span><span class="p">,</span><span class="n">l</span><span class="p">]</span><span class="o">*</span><span class="n">B</span><span class="p">[</span><span class="n">l</span><span class="p">,</span><span class="n">k</span><span class="p">,</span><span class="n">j</span><span class="p">]</span>
</code></pre></div></div> </li> <li> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">C</span><span class="o">=</span><span class="n">np</span><span class="p">.</span><span class="nf">einsum</span><span class="p">(</span><span class="sh">'</span><span class="s">ikl,lkj-&gt;ij</span><span class="sh">'</span><span class="p">,</span><span class="n">A</span><span class="p">,</span><span class="n">B</span><span class="p">)</span>
</code></pre></div></div> </li> </ul> <p>행렬의 축이 늘어나면 늘어날 수록, 정답 예시1과 같은 형태의 코드 스타일은 선호되지 않을 것이다. 여러 인공지능 기술에서 매우 차원이 높은 다수의 행렬들간의 복잡한 연산이 요구된다. 그럴 경우, Einstein summation 기법을 익히고 간략히 표현할 수 있을수록 유리할 것이다.</p> <p><br><br> <br><br> <br><br> <br><br></p> <hr> <h1 id="week6">Week6</h1> <ul> <li>NumPy 03, Eigenvalue, ANN</li> </ul> <h2 id="수업-06-1-eigenvalue">수업 06-1 (Eigenvalue)</h2> <h3 id="06-1-1-개념">06-1-1 개념</h3> <ul> <li> <p>고유값(eigen value): 행렬(특히 선형변환)을 적용했을 때, 크기만 변하고 방향은 변하지 않는 벡터의 크기 변화 비율.</p> </li> <li> <p>고유벡터(eigen vector): 그 “변하지 않는 방향”을 가지는 벡터.</p> </li> <li> <p>수식:</p> \[\boldsymbol A\cdot \boldsymbol v = \lambda \boldsymbol v\] <p>를 만족시키는 스칼라 \(\lambda\) 값을 고유값이라 한다. 위 관계를 만족시키는 고유값 세개가 각각 \(\lambda_1,\lambda_2,\lambda_3\)라면 \(\lambda_1\boldsymbol{v},\lambda_2\boldsymbol{v},\lambda_3\boldsymbol{v}\) 를 고유 벡터라 한다.</p> </li> </ul> <h3 id="06-1-2-선형-변환linear-transformation-linear-map">06-1-2 선형 변환(linear transformation; linear map)</h3> <h4 id="06-1-2-1-선형변환-조건">06-1-2-1 선형변환 조건</h4> <ul> <li>행렬과 벡터의 곱을, 벡터 맵핑으로 해석할 수 있다.</li> </ul> <p align="center"> &lt;img src=https://upload.wikimedia.org/wikipedia/commons/4/43/Streckung_eines_Vektors.gif /&gt; </p> <ul> <li> <p>아래와 같은 두 조건을 만족시키는 행렬 \(\boldsymbol A\)를 선형변환 행렬이라 한다.</p> \[\boldsymbol A\cdot (\boldsymbol a+\boldsymbol b) = \boldsymbol A\cdot \boldsymbol a+ \boldsymbol A\cdot \boldsymbol b\] \[\boldsymbol A\cdot (\lambda\boldsymbol a)=\lambda A\cdot\boldsymbol a\] </li> </ul> <p align="center"> &lt;img src=https://upload.wikimedia.org/wikipedia/commons/2/25/Streckung_der_Summe_zweier_Vektoren.gif /&gt; </p> <p align="center"> &lt;img src=https://upload.wikimedia.org/wikipedia/commons/e/e6/Streckung_homogenitaet_Version_3.gif /&gt; </p> <p>** <a href="https://en.wikipedia.org/wiki/Linear_map" rel="external nofollow noopener" target="_blank">Wikipedia 발췌 이미지</a></p> <h4 id="06-1-2-2-선형변환-특성">06-1-2-2 선형변환 특성</h4> <ul> <li>선형변환의 특성을 잘 반영하는 방향을 찾을 수 있다.</li> <li>아래의 행렬은 선형변환을 하며, 그 특성을 대표하는 두 방향을 빨간색으로 나타내었다.</li> </ul> <h3 id="06-1-3">06-1-3</h3> <p>고유값의 기하학적 의미를 파악해보자. 다음과 같은 행렬의 경우를 살펴보자. 다음의 여러 행렬들에 의한 벡터(점)의 변환을 살펴보자. 그리고 빨간 선과 (표기되어 있다면) 파란 선 위의 점들이 다른 점들과 어떠한 차이가 있는지 눈여겨 살펴보자.</p> <p><img src="/assets/dat_files/lectures/1_2_data_mse/eigen_1.gif" alt="eigen1"></p> <p><img src="/assets/dat_files/lectures/1_2_data_mse/eigen_2.gif" alt="eigen2"></p> <p><img src="/assets/dat_files/lectures/1_2_data_mse/eigen_3.gif" alt="eigen2"></p> <p>위 세 경우와 달리, 아래 경우는 조금 특별하다. 특성값이 복소수 \(\lambda_1=0.71+0.71i,\) 그리고 \(\lambda_2=0.71-0.71i\) 임을 눈여겨 보자.</p> <p><img src="/assets/dat_files/lectures/1_2_data_mse/eigen_4.gif" alt="eigen3"></p> <h3 id="06-1-4-eigenvalue-eigenvector-구하기">06-1-4 Eigenvalue, Eigenvector 구하기.</h3> <ul> <li> <p>2차원 예시01</p> \[\begin{bmatrix} A_{11}&amp;A_{12}\\ A_{21}&amp;A_{22} \end{bmatrix} \begin{bmatrix} v_1\\ v_2 \end{bmatrix} = \lambda \begin{bmatrix} v_1\\ v_2 \end{bmatrix}\] \[A_{11}v_1+A_{12}v_2=\lambda v_1\ \ \ \ (1)\] \[A_{21}v_1+A_{22}v_2=\lambda v_2\ \ \ \ (2)\] <p>(1)식을 고치면,</p> \[(A_{11}-\lambda)v_1=-A_{12}v_2\] <p>따라서</p> \[v_1=\frac{-A_{12}}{A_{11}-\lambda}v_2\] <p>(2)에 대입하면</p> \[\frac{-A_{21}A_{12}}{A_{11}-\lambda}v_2+A_{22}v_2=\lambda v_2\ \ \ \ (3)\] <p>(3)의 \(v_2=0\)인 해는 trivial. 이걸 제외하면,</p> \[\frac{-A_{21}A_{12}}{A_{11}-\lambda}+A_{22}=\lambda\] <p>정리하면</p> \[-A_{21}A_{12}+A_{22}(A_{11}-\lambda)=\lambda(A_{11}-\lambda)\] <p>위는 \(\lambda\)에 대한 2차 방정식이며</p> \[\lambda^2-(A_{11}-A_{22})\lambda-A_{21}A_{12}+A_{22}A_{11}=0\] </li> <li> <p>2차원 예시02</p> \[\boldsymbol A\cdot \boldsymbol v = \lambda \boldsymbol v \ \ \ \rightarrow \ \ \ (\boldsymbol A-\lambda\boldsymbol I)\cdot v=0\] \[\boldsymbol A = \begin{bmatrix} A_{11}&amp; A_{12}\\ A_{21}&amp; A_{22} \end{bmatrix}\] <p>그리고</p> \[\boldsymbol I = \begin{bmatrix} 1&amp; 0\\ 0&amp; 1 \end{bmatrix}\] <p>고유값 \(\lambda\)는 아래와 같이 구해진다.</p> \[\det(\boldsymbol A-\lambda\boldsymbol I)=0\] <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="n">numpy</span> <span class="k">as</span> <span class="n">np</span>
<span class="k">def</span> <span class="nf">eig2x2</span><span class="p">(</span><span class="n">A</span><span class="p">):</span>
  <span class="n">a</span><span class="o">=</span><span class="n">A</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span>
  <span class="n">b</span><span class="o">=</span><span class="n">A</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span>
  <span class="n">c</span><span class="o">=</span><span class="n">A</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span>
  <span class="n">d</span><span class="o">=</span><span class="n">A</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span>
  <span class="n">tr</span> <span class="o">=</span> <span class="n">a</span> <span class="o">+</span> <span class="n">d</span>
  <span class="n">det</span> <span class="o">=</span> <span class="n">a</span><span class="o">*</span><span class="n">d</span> <span class="o">-</span> <span class="n">b</span><span class="o">*</span><span class="n">c</span>
  <span class="n">disc</span> <span class="o">=</span> <span class="n">tr</span><span class="o">*</span><span class="n">tr</span> <span class="o">-</span> <span class="mi">4</span><span class="o">*</span><span class="n">det</span>
  <span class="n">lam1</span> <span class="o">=</span> <span class="p">(</span><span class="n">tr</span> <span class="o">+</span> <span class="n">np</span><span class="p">.</span><span class="nf">sqrt</span><span class="p">(</span><span class="n">disc</span><span class="p">))</span> <span class="o">/</span> <span class="mi">2</span>
  <span class="n">lam2</span> <span class="o">=</span> <span class="p">(</span><span class="n">tr</span> <span class="o">-</span> <span class="n">np</span><span class="p">.</span><span class="nf">sqrt</span><span class="p">(</span><span class="n">disc</span><span class="p">))</span> <span class="o">/</span> <span class="mi">2</span>
  <span class="k">return</span> <span class="n">lam1</span><span class="p">,</span> <span class="n">lam2</span>

<span class="n">A</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="nf">array</span><span class="p">([[</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">],[</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">]],</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">float</span><span class="p">)</span>
<span class="n">lam1</span><span class="p">,</span> <span class="n">lam2</span> <span class="o">=</span> <span class="nf">eig2x2</span><span class="p">(</span><span class="n">A</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">manual:</span><span class="sh">"</span><span class="p">,</span> <span class="n">lam1</span><span class="p">,</span> <span class="n">lam2</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">numpy :</span><span class="sh">"</span><span class="p">,</span> <span class="n">np</span><span class="p">.</span><span class="n">linalg</span><span class="p">.</span><span class="nf">eigvals</span><span class="p">(</span><span class="n">A</span><span class="p">))</span>
</code></pre></div> </div> </li> <li> <p>예시 주어진 <a href="/assets/dat_files/lectures/1_2_data_mse/matrix_03.txt">파일</a>의 매트릭스의 값들을 활용해서 각 파일에서 고유값들을 구해서 출력하시오.</p> <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="n">numpy</span> <span class="k">as</span> <span class="n">np</span>
<span class="k">def</span> <span class="nf">eig2x2</span><span class="p">(</span><span class="n">A</span><span class="p">):</span>
  <span class="n">a</span><span class="o">=</span><span class="n">A</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span>
  <span class="n">b</span><span class="o">=</span><span class="n">A</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span>
  <span class="n">c</span><span class="o">=</span><span class="n">A</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span>
  <span class="n">d</span><span class="o">=</span><span class="n">A</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span>
  <span class="n">tr</span> <span class="o">=</span> <span class="n">a</span> <span class="o">+</span> <span class="n">d</span>
  <span class="n">det</span> <span class="o">=</span> <span class="n">a</span><span class="o">*</span><span class="n">d</span> <span class="o">-</span> <span class="n">b</span><span class="o">*</span><span class="n">c</span>
  <span class="n">disc</span> <span class="o">=</span> <span class="n">tr</span><span class="o">*</span><span class="n">tr</span> <span class="o">-</span> <span class="mi">4</span><span class="o">*</span><span class="n">det</span>
  <span class="n">lam1</span> <span class="o">=</span> <span class="p">(</span><span class="n">tr</span> <span class="o">+</span> <span class="n">np</span><span class="p">.</span><span class="nf">sqrt</span><span class="p">(</span><span class="n">disc</span><span class="p">))</span> <span class="o">/</span> <span class="mi">2</span>
  <span class="n">lam2</span> <span class="o">=</span> <span class="p">(</span><span class="n">tr</span> <span class="o">-</span> <span class="n">np</span><span class="p">.</span><span class="nf">sqrt</span><span class="p">(</span><span class="n">disc</span><span class="p">))</span> <span class="o">/</span> <span class="mi">2</span>
  <span class="k">return</span> <span class="n">lam1</span><span class="p">,</span> <span class="n">lam2</span>
<span class="n">d</span><span class="o">=</span><span class="n">np</span><span class="p">.</span><span class="nf">loadtxt</span><span class="p">(</span><span class="sh">'</span><span class="s">../data/matrix_03.txt</span><span class="sh">'</span><span class="p">,</span><span class="n">skiprows</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">mat2x2</span> <span class="ow">in</span> <span class="nf">enumerate</span><span class="p">(</span><span class="n">d</span><span class="p">):</span>
  <span class="n">mat</span><span class="o">=</span><span class="n">mat2x2</span><span class="p">.</span><span class="nf">reshape</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
  <span class="nf">print</span><span class="p">(</span><span class="nf">eig2x2</span><span class="p">(</span><span class="n">mat</span><span class="p">))</span> <span class="c1">## nan 은 어던 경우인가?
</span></code></pre></div> </div> </li> <li> <p><code class="language-plaintext highlighter-rouge">np.ling.eigen</code>활용 소개</p> </li> <li> <p>변형률</p> </li> </ul> <p>역학에서 변위구배텐서(displacement gradient tensor) $\boldsymbol u$라는 물리량을 활용해, 변형 전 후의 위치변화를 다음과 같이 위치를 나타내는 벡터 변환으로 나타낸다.</p> \[\boldsymbol v^{new}=\boldsymbol u \cdot \boldsymbol v^{old}\] <p>이때, 변위구배텐서의 eigen value를 활용해 변형의 <code class="language-plaintext highlighter-rouge">량</code>을 가늠해볼 수 있다. 2차원 변위구배텐서의 특성값을 각각 $\lambda_1, \lambda_2$라 한다면, 경우에 따라 (회전이 거의 없다면) $\lambda_1-1$과 $\lambda_2-1$은 꽤 괜찮은 변형의 정도를 나타내는 지표가 될 수 있다. 여기서 1을 빼는 이유는 무엇일까?</p> <ul> <li>예시 Human vs. Zombie <a href="https://www.youtube.com/watch?v=i8FukKfMKCI" rel="external nofollow noopener" target="_blank">ref</a> </li> </ul> <p>신분제가 공고하던 조선 시대에서도 <a href="https://en.wikipedia.org/wiki/Yangban" rel="external nofollow noopener" target="_blank">양반</a>과 <a href="https://en.wikipedia.org/wiki/Nobi" rel="external nofollow noopener" target="_blank">노비</a> 계층간의 변화가 일어나곤 했다 (<a href="https://product.kyobobook.co.kr/detail/S000001197638" rel="external nofollow noopener" target="_blank">참고</a>). 매우 불안정했던 가상의 조선시대에 매년 역적으로 몰린 양반의 20%가 노비가 되고, 노비 중 10%가 큰 부를 쌓아 양반으로 신분상승을 했다고 가정하자.</p> <pre><code class="language-mermaid">stateDiagram-v2

Yangban(YB) --&gt; Nobi(NB) : 20%
Nobi(NB) --&gt; Yangban(YB): 10%
</code></pre> <p>해가 거듭 될 수록 달라지는 양반(YB)과 노비(NB)의 상관 관계를 수식으로 표현하자면 아래와 같다. \(YB_{(n+1)} = 0.80 YB_{(n)} + 0.10 NB_{(n)}\) \(NB_{(n+1)} = 0.20 YB_{(n)} + 0.90 NB_{(n)}\) 여기서 첨자 $<em>{n}$과 $</em>{n+1}$은 각각 직전 해, 그리고 다음해에 해당하는 노비와 양반을 가리킨다. 위 연립 방정식을 아래와 같이 행렬식으로 나타낼 수 있겠다. $$ \begin{bmatrix} YB_{(n+1)} <br> NB_{(n+1)} \end{bmatrix} = \begin{bmatrix} 0.90&amp; 0.01 <br> 0.02&amp; 0.95 \end{bmatrix}</p> <p>\begin{bmatrix} YB_{(n)} <br> NB_{(n)} \end{bmatrix} $$</p> <p>예들 들어, 양반과 노비의 인구수가 첫해($n=0$)에 8명 vs 2명 이었다고 가정하자. 그 다음해에는 $$ \begin{bmatrix} YB_{(1)} <br> NB_{(1)} \end{bmatrix} = \begin{bmatrix} 0.8&amp; 0.1 <br> 0.2&amp; 0.90 \end{bmatrix}</p> <p>\begin{bmatrix} 8 <br> 2 \end{bmatrix} = \begin{bmatrix} 6.60 <br> 3.40 \end{bmatrix} \(그리고 그 다음에는\) \begin{bmatrix} YB_{(2)} <br> NB_{(2)} \end{bmatrix} = \begin{bmatrix} 0.8&amp; 0.1 <br> 0.2&amp; 0.90 \end{bmatrix}</p> <p>\begin{bmatrix} 6.60 <br> 3.40 \end{bmatrix} = \begin{bmatrix} 5.62 <br> 4.38 \end{bmatrix} $$</p> <p>이렇게 차례로 시간이 더욱 지나고 나면 3.34, 6.66으로 수렴된다. 하지만 초기 세팅이 8대2가 아니라 8대 4였다면 4대 8로 바뀌게 된다. 위 경우를 포함해 양반대 노비의 비율이 각기 다를경우에도 시간이 충분히 지나면, 규칙성 있게 바뀌게 된다. <img src="/assets/dat_files/lectures/1_2_data_mse/nobiyangban.gif" alt="NBYB"></p> <p>다음 몇몇 선형변환 매트리스와 그에 해당하는 Eigenvector와 Eigenvalue가 보여주는 변화를 살펴보자 <img src="/assets/dat_files/lectures/1_2_data_mse/eigen_flow1.gif" alt="egenflow1"> <img src="/assets/dat_files/lectures/1_2_data_mse/eigen_flow2.gif" alt="egenflow2"> <img src="/assets/dat_files/lectures/1_2_data_mse/eigen_flow3.gif" alt="egenflow3"> <img src="/assets/dat_files/lectures/1_2_data_mse/eigen_flow4.gif" alt="egenflow3"></p> <ul> <li>구글(Google)의 Page ranking system: <a href="https://pi.math.cornell.edu/~mec/Winter2009/RalucaRemus/Lecture3/lecture3.html" rel="external nofollow noopener" target="_blank">ref</a> &lt;!–</li> </ul> <pre><code class="language-typograms">                                                        ----0.3--+
                                                        |        |
                                                        V        |
+-----------------+                    +---------------------+   |
| www.daum.net    | ------ 0.2 ---   | www.naver.com       |---+
|                 | &lt;----- 0.3 -----   |                     |
+-----------------+                    +---------------------+
     ^     |        \                     ^           |
     |     |         \                    |           |
    0.2    0.3        \                   0.15        0.3
     |     |           \                  |           |
     |     v            0.2               |           v
+-----------------+       \           +-------------------+
|                 |        \          |                   |
| www.youtube.com |         +------ |    google.com     |
|                 |&lt;-------0.7--------|                   |
|                 |--------0.05-----|                   |
+-----------------+                   +-------------------+
</code></pre> \[\begin{bmatrix} daum \\ naver \\ youtube \\ google \\ \end{bmatrix} = \begin{bmatrix} 0 &amp; 0.3 &amp; 0.2 &amp; 0 \\ 0.2 &amp; 0.3 &amp; 0 &amp; 0.15\\ 0.3 &amp; 0 &amp; 0 &amp; 0.7 \\ 0.2 &amp; 0.3 &amp; 0 &amp; 0.05 \end{bmatrix} \begin{bmatrix} daum \\ naver \\ youtube \\ google \\ \end{bmatrix}\] <p>–&gt;</p> <hr> <h2 id="수업-06-2-ann-activation">수업 06-2 (ANN, Activation)</h2> <ul> <li> <p>인공 신경망 (Artificial Neural Network)</p> <ul> <li> <a href="https://ko.wikipedia.org/wiki/%EC%8B%A0%EA%B2%BD%EB%A7%9D" rel="external nofollow noopener" target="_blank">인공 신경망</a> (<a href="https://en.wikipedia.org/wiki/Neural_network_(machine_learning)" rel="external nofollow noopener" target="_blank">neutral network</a>)에 쓰이는 일반적인 <a href="https://ko.wikipedia.org/wiki/%EC%9D%B8%EA%B3%B5_%EB%89%B4%EB%9F%B0" rel="external nofollow noopener" target="_blank">인공뉴런</a> (<a href="https://en.wikipedia.org/wiki/Artificial_neuron" rel="external nofollow noopener" target="_blank">artificial neuron</a>)은 다음 형태를 가지는 경우가 많다.</li> <li>신경망</li> </ul> </li> <li> <p>Basic structure of Artificial Neural Network</p> <ul> <li> <p>행렬곱과 더하기 조합. 아래 수식은 실제로 Artifical Neutral Network(ANN)에서 널리 활용되는 형태의 연산이다.</p> \[\boldsymbol y=\boldsymbol W\cdot \boldsymbol x + \boldsymbol b\] \[y_i=\bigg(\sum_j^mW_{ij}x_j\bigg)+b_i=W_{ij}x_j+b_i \text{ with } i=1,2, ..., n\] <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="n">W</span><span class="o">=</span><span class="n">np</span><span class="p">.</span><span class="nf">array</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">],[</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">]])</span> <span class="c1">## 2x4 행렬 (with n and m beging 2 and 4, respectively)
</span><span class="n">x</span><span class="o">=</span><span class="n">np</span><span class="p">.</span><span class="nf">array</span><span class="p">([</span><span class="mf">5.5</span><span class="p">,</span><span class="mf">0.1</span><span class="p">,</span><span class="mf">0.3</span><span class="p">,</span><span class="mf">1.0</span><span class="p">])</span>     <span class="c1">## 4 (nested 가 아님. 1차원 임에 유의)
</span><span class="n">b</span><span class="o">=</span><span class="n">np</span><span class="p">.</span><span class="nf">array</span><span class="p">([</span><span class="o">-</span><span class="mf">0.5</span><span class="p">,</span><span class="o">+</span><span class="mf">0.5</span><span class="p">])</span>

<span class="n">n</span><span class="o">=</span><span class="mi">2</span>
<span class="n">m</span><span class="o">=</span><span class="mi">4</span>
<span class="n">y</span><span class="o">=</span><span class="n">np</span><span class="p">.</span><span class="nf">zeros</span><span class="p">(</span><span class="n">n</span><span class="p">)</span> <span class="c1"># 주의 정수 n은 2이다.
</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="n">n</span><span class="p">):</span> <span class="c1">## i=1,2,...,n
</span><span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="n">m</span><span class="p">):</span>
  <span class="n">y</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">+=</span><span class="n">W</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">]</span><span class="o">*</span><span class="n">x</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="o">+</span><span class="n">b</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
<span class="nf">print</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
<span class="c1">## 위 표현은 틀렸다.
## 올바른 표현의 예는 아래와 같다. 무엇이 고쳐졌는가?
</span><span class="n">n</span><span class="o">=</span><span class="mi">2</span>
<span class="n">m</span><span class="o">=</span><span class="mi">4</span>
<span class="n">y</span><span class="o">=</span><span class="n">np</span><span class="p">.</span><span class="nf">zeros</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="n">n</span><span class="p">):</span> <span class="c1">## i=1,2,...,n
</span><span class="n">y</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">+=</span><span class="n">b</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
<span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="n">m</span><span class="p">):</span>
  <span class="n">y</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">+=</span><span class="n">W</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">]</span><span class="o">*</span><span class="n">x</span><span class="p">[</span><span class="n">j</span><span class="p">]</span>
<span class="c1">## summation_j^m가 어디까지의 term에 적용되는지 정확히 알아야 함.
</span><span class="nf">print</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
</code></pre></div> </div> </li> <li> <p>예시</p> </li> </ul> <p><code class="language-plaintext highlighter-rouge">W[n,m]</code>행렬과 <code class="language-plaintext highlighter-rouge">x[m]</code>벡터, 그리고 <code class="language-plaintext highlighter-rouge">b[n]</code>벡터로 구성된 배열을 활용해 위 수식</p> \[\boldsymbol v=\boldsymbol W\cdot \boldsymbol x + \boldsymbol b\] <p>을 계산하여 리턴하는 함수를 만드시오.</p> <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">neuron</span><span class="p">(</span><span class="n">w</span><span class="p">,</span><span class="n">x</span><span class="p">,</span><span class="n">b</span><span class="p">):</span>
	  <span class="sh">"""</span><span class="s">
	  Arguments
	  ---------
	  W: ndarray
	   [m x n] matrix (weight)
	  b: ndarray
	   [n] vector (bias)

	  Returns
	  -------
	  W.x + b
	  </span><span class="sh">"""</span>
	  <span class="n">n</span><span class="p">,</span><span class="n">m</span><span class="o">=</span><span class="n">w</span><span class="p">.</span><span class="nf">shape</span><span class="p">()</span> <span class="c1"># tuple
</span>	  <span class="n">y</span><span class="o">=</span><span class="n">np</span><span class="p">.</span><span class="nf">zeros</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
	  <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
		<span class="n">y</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">+=</span><span class="n">b</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
		<span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="n">m</span><span class="p">):</span>
		  <span class="n">y</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">+=</span><span class="n">w</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">]</span><span class="o">*</span><span class="n">x</span><span class="p">[</span><span class="n">j</span><span class="p">]</span>
	  <span class="k">return</span> <span class="n">y</span>
</code></pre></div> </div> </li> <li> <p>Activation</p> <ul> <li> <p><a href="https://ko.wikipedia.org/wiki/%EC%8B%A0%EA%B2%BD%EB%A7%9D" rel="external nofollow noopener" target="_blank">인공 신경망</a> (<a href="https://en.wikipedia.org/wiki/Neural_network_(machine_learning)" rel="external nofollow noopener" target="_blank">neutral network</a>)에 쓰이는 일반적인 <a href="https://ko.wikipedia.org/wiki/%EC%9D%B8%EA%B3%B5_%EB%89%B4%EB%9F%B0" rel="external nofollow noopener" target="_blank">인공뉴런</a> (<a href="https://en.wikipedia.org/wiki/Artificial_neuron" rel="external nofollow noopener" target="_blank">artificial neuron</a>)은 다음 형태를 가지는 경우가 많다.</p> \[y_k=\phi\bigg(\sum_{j}^mw_{kj}x_j+b_k\bigg)\] <p>이 때 \(\phi\)는 activation function이라 불리며 다양한 형태가 사용되고 있다. 우리는 이를 element-wise로 적용되는 함수라 보자.</p> </li> <li> <p>Activation function</p> <ul> <li>Binary step</li> </ul> \[\phi(x_i)=0 \text{ if } x_i&lt;0 \newline \phi(x_i)=1 \text{ if } x_i\geq0\] <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">act_func_binary</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
  <span class="sh">"""</span><span class="s">
  Binary function as the activation function for neuron
  </span><span class="sh">"""</span>
  <span class="n">flg</span><span class="o">=</span><span class="n">x</span><span class="o">&gt;=</span><span class="mi">0</span>
  <span class="n">y</span><span class="o">=</span><span class="n">np</span><span class="p">.</span><span class="nf">zeros</span><span class="p">(</span><span class="n">x</span><span class="p">.</span><span class="n">shape</span><span class="p">)</span>
  <span class="n">y</span><span class="p">[</span><span class="n">flg</span><span class="p">]</span><span class="o">=</span><span class="mf">1.</span>
  <span class="k">return</span> <span class="n">y</span>
</code></pre></div> </div> <ul> <li>예시 (Logistic function)</li> </ul> \[\phi(x_i)=\frac{1}{1+e^{-x_i}}\] <ul> <li>예시: Rectified linear unit (ReLU)</li> </ul> \[\phi(x_i)=\frac{x+|x|}{2}\] </li> </ul> </li> </ul> <h1 id="week7">Week7</h1> <ul> <li>중간고사</li> </ul> <h2 id="수업-07-1">수업 07-1</h2> <ul> <li>목표 <ul> <li>복습, 출제 방향 설명</li> </ul> </li> </ul> <h2 id="수업-07-2">수업 07-2</h2> <h1 id="week8">Week8</h1> <ul> <li> <p>Matplotlib 01</p> </li> <li> <p>목표</p> <ul> <li>axes, figure 를 만들 수 있다.</li> <li>선(line), 점(dot)으로 이루어진 그래프를 그릴 수 있다.</li> <li>x축, y축의 label, tick, limits을 만들 수 있다.</li> <li>linear scale, logscale을 만들고 이해할 수 있다.</li> <li>3차원 그래프를 그릴 수 있다.</li> <li>파일로부터 데이터를 불러오고, 이를 graph로 바꿀 수 있다.</li> </ul> </li> </ul> <h2 id="수업-08-1">수업 08-1</h2> <p><a href="https://matplotlib.org" rel="external nofollow noopener" target="_blank">Matplotlib</a>: Python 환경에서 데이터를 시각화하는데 가장 널리 쓰이는 라이브러리 중에 하나이다. MATLAB과 유사한 환경을 제공해주는 pyplot 모듈을 활용한 인터페이스가 널리쓰인다. 아래 예시들을 함께 살펴보자.</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="n">matplotlib.pyplot</span> <span class="k">as</span> <span class="n">plt</span>
<span class="kn">import</span> <span class="n">matplotlib.pyplot</span> <span class="k">as</span> <span class="n">plt</span>

<span class="n">x</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span>
<span class="n">y</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">16</span><span class="p">]</span>

<span class="n">plt</span><span class="p">.</span><span class="nf">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>          <span class="c1"># 선 그래프
</span><span class="n">plt</span><span class="p">.</span><span class="nf">title</span><span class="p">(</span><span class="sh">"</span><span class="s">Basic Line Plot</span><span class="sh">"</span><span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="nf">xlabel</span><span class="p">(</span><span class="sh">"</span><span class="s">X-axis</span><span class="sh">"</span><span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="nf">ylabel</span><span class="p">(</span><span class="sh">"</span><span class="s">Y-axis</span><span class="sh">"</span><span class="p">)</span>
</code></pre></div></div> <ul> <li>scatter plot</li> </ul> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">x</span> <span class="o">=</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]</span>
<span class="n">y</span> <span class="o">=</span> <span class="p">[</span><span class="mi">99</span><span class="p">,</span> <span class="mi">86</span><span class="p">,</span> <span class="mi">87</span><span class="p">,</span> <span class="mi">88</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">86</span><span class="p">,</span> <span class="mi">103</span><span class="p">,</span> <span class="mi">87</span><span class="p">,</span> <span class="mi">94</span><span class="p">,</span> <span class="mi">78</span><span class="p">]</span>
<span class="n">plt</span><span class="p">.</span><span class="nf">scatter</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="sh">'</span><span class="s">red</span><span class="sh">'</span><span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="nf">title</span><span class="p">(</span><span class="sh">"</span><span class="s">Scatter Plot</span><span class="sh">"</span><span class="p">)</span>
</code></pre></div></div> <p>각 데이터 세트 (선, 점 등)에 라벨을 부여하고, 이를 레전드(<code class="language-plaintext highlighter-rouge">legend</code>) 함수를 활용해 그래프를 꾸밀 수 있다.</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">plt</span><span class="p">.</span><span class="nf">plot</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],[</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">9</span><span class="p">],</span> <span class="n">label</span><span class="o">=</span><span class="sa">r</span><span class="sh">'</span><span class="s">$y = x^2$</span><span class="sh">'</span><span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="nf">plot</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span> <span class="n">label</span><span class="o">=</span><span class="sa">r</span><span class="sh">'</span><span class="s">$y = x$</span><span class="sh">'</span><span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="nf">legend</span><span class="p">()</span> <span class="c1">## legend
</span></code></pre></div></div> <p><code class="language-plaintext highlighter-rouge">plt.subplot</code>을 활용해서 행렬 행태의 그래프 모임을 그릴 수 있다.</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">plt</span><span class="p">.</span><span class="nf">subplot</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>  <span class="c1"># 1행 2열 중 첫 번째
</span><span class="n">plt</span><span class="p">.</span><span class="nf">plot</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],[</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">9</span><span class="p">])</span>
<span class="n">plt</span><span class="p">.</span><span class="nf">title</span><span class="p">(</span><span class="sh">"</span><span class="s">Left</span><span class="sh">"</span><span class="p">)</span>

<span class="n">plt</span><span class="p">.</span><span class="nf">subplot</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>  <span class="c1"># 두 번째
</span><span class="n">plt</span><span class="p">.</span><span class="nf">plot</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span>
<span class="n">plt</span><span class="p">.</span><span class="nf">title</span><span class="p">(</span><span class="sh">"</span><span class="s">Right</span><span class="sh">"</span><span class="p">)</span>
</code></pre></div></div> <p><code class="language-plaintext highlighter-rouge">plt</code>환경을 조금 더 상세히 살펴보면, 두개의 오브젝트 <code class="language-plaintext highlighter-rouge">figure</code>와 <code class="language-plaintext highlighter-rouge">axis</code>를 이해할 수 있다. <code class="language-plaintext highlighter-rouge">figure</code>는 그림을 그리는 캔버스, <code class="language-plaintext highlighter-rouge">axis</code>는 그래프가 시각화되는 좌표계라 볼 수 있다.</p> <ul> <li>Figure: 그래프 전체 “캔버스”</li> <li>Axes: 실제 데이터가 그려지는 “좌표 영역”</li> </ul> <p>따라서 한 Figure 안에 여러 개의 axes가 삽입될 수 있다. 아래 예제를 살펴보자.</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="n">matplotlib.pyplot</span> <span class="k">as</span> <span class="n">plt</span>

<span class="c1"># Figure(도화지), Axes(좌표 영역) 생성
</span><span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="p">.</span><span class="nf">subplots</span><span class="p">()</span>

<span class="n">x</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span>
<span class="n">y</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">16</span><span class="p">]</span>

<span class="c1"># ax 객체를 활용해 데이터 플롯
</span><span class="n">ax</span><span class="p">.</span><span class="nf">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="sh">"</span><span class="s">y = x^2</span><span class="sh">"</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="sh">"</span><span class="s">blue</span><span class="sh">"</span><span class="p">)</span>

<span class="c1"># 그래프 꾸미기
</span><span class="n">ax</span><span class="p">.</span><span class="nf">set_title</span><span class="p">(</span><span class="sh">"</span><span class="s">Figure &amp; Axes Example</span><span class="sh">"</span><span class="p">)</span>
<span class="n">ax</span><span class="p">.</span><span class="nf">set_xlabel</span><span class="p">(</span><span class="sh">"</span><span class="s">X-axis</span><span class="sh">"</span><span class="p">)</span>
<span class="n">ax</span><span class="p">.</span><span class="nf">set_ylabel</span><span class="p">(</span><span class="sh">"</span><span class="s">Y-axis</span><span class="sh">"</span><span class="p">)</span>
<span class="n">ax</span><span class="p">.</span><span class="nf">legend</span><span class="p">()</span>
<span class="n">ax</span><span class="p">.</span><span class="nf">grid</span><span class="p">(</span><span class="bp">True</span><span class="p">)</span>

<span class="n">plt</span><span class="p">.</span><span class="nf">show</span><span class="p">()</span>
</code></pre></div></div> <p>NumPy의 <code class="language-plaintext highlighter-rouge">linspace</code>, <code class="language-plaintext highlighter-rouge">logspace</code>등과 결합하면 여러 1D 그래프를 손쉽게 그릴 수 있다. 예를 들어 $y=x^2$을 $x\in[-10,10]$을 그리자면</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="n">numpy</span> <span class="k">as</span> <span class="n">np</span>
<span class="kn">import</span> <span class="n">matplotlib.pyplot</span> <span class="k">as</span> <span class="n">plt</span>
<span class="n">x</span><span class="o">=</span><span class="n">np</span><span class="p">.</span><span class="nf">linspace</span><span class="p">(</span><span class="o">-</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span> <span class="c1"># [-10,10] 범위내의 50 포인트
</span><span class="n">y</span><span class="o">=</span><span class="n">x</span><span class="o">**</span><span class="mi">2</span> <span class="c1">## NumPy의 element-wise operation을 기억하자.
</span><span class="n">plt</span><span class="p">.</span><span class="nf">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">)</span>
</code></pre></div></div> <p>결과를 살펴보자.</p> <p>위 예제를 응용하여 아래 실습을 수행해보자. 범위 내의 아래 삼각함수를 그려보자.</p> <p>예1.</p> \[y=\cos(\theta), \text{ with } \theta\in[-\pi,\pi]\] <p>예2.</p> \[y=\sin(\theta), \text{ with } \theta\in[-\pi,\pi]\] <p>예3. \(y=\tan(\theta), \text{ with } \theta\in\big[-\frac{\pi}{2},\frac{\pi}{2}\big]\)</p> <ul> <li>반지름의 길이가 10인 원을 그려보자.</li> </ul> \[x^2+y^2=10^2\] <ul> <li>길이 변화에 따라서 나타나는 공칭 변형률과 진형병률 그래프 관계를 그리고 이를 비교해보자.</li> </ul> \[\varepsilon=\ln(\epsilon+1)\] <ul> <li>Stress vs. strain curve 그리기 다음 <a href="/assets/dat_files/lectures/1_2_data_mse/tensile_test_results.zip">압축파일</a>을 풀어서, 파일 하나를 살펴보자 - 예를 들어 <code class="language-plaintext highlighter-rouge">00_DD_WZ_01.csv</code> 위 데이터 파일을 활용해 <ol> <li>폭: 6.04 mm, 두께 2.99 mm 인걸 확인하고,</li> <li>힘과 변위 칼럼을 활용해서 응력과 변형률을 구하자.</li> <li>그 다음 응력과 변형률 곡선을 Figure로 그려보자.</li> </ol> </li> <li>임의의 3차원 벡터 생성과 stereographic projection.</li> </ul> <p>cubic crystal structure내의 결정 방위 [h,k,l]에 해당하는 단위 벡터를 그려보자. Cubic crystal의 경우 Miller index $[uvw]$가 한 결정 방향이라면 그 방향에 해당하는 벡터 $\boldsymbol b$는 아래와 같이 구할 수 있다. \(\boldsymbol b = (b_1,b_2,b_3)=\bigg(\frac{h}{\sqrt{h^2+k^2+l^2}},\frac{h}{\sqrt{h^2+k^2+l^2}},\frac{h}{\sqrt{h^2+k^2+l^2}}\bigg)\) 이를 계산하는 함수를 작성해보면</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">get_direct</span><span class="p">(</span><span class="n">uvw</span><span class="o">=</span><span class="n">np</span><span class="p">.</span><span class="nf">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">])):</span>
  <span class="sh">"""</span><span class="s">
  Argument
  --------
  uvw: as in &lt;ndarray&gt; or &lt;list&gt;

  Return
  ------
  </span><span class="sh">"""</span>
  <span class="c1">##
</span>  <span class="k">if</span> <span class="nf">type</span><span class="p">(</span><span class="n">uvw</span><span class="p">).</span><span class="n">__name__</span><span class="o">==</span><span class="sh">'</span><span class="s">list</span><span class="sh">'</span><span class="p">:</span>
    <span class="n">uvw</span><span class="o">=</span><span class="n">np</span><span class="p">.</span><span class="nf">array</span><span class="p">(</span><span class="n">uvw</span><span class="p">)</span>

  <span class="n">deno</span><span class="o">=</span><span class="p">(</span><span class="n">uvw</span><span class="o">**</span><span class="mi">2</span><span class="p">).</span><span class="nf">sum</span><span class="p">()</span> <span class="c1"># demoniator: 분모, numerator: 분자
</span>  <span class="n">deno</span><span class="o">=</span><span class="n">np</span><span class="p">.</span><span class="nf">sqrt</span><span class="p">(</span><span class="n">deno</span><span class="p">)</span>
  <span class="k">return</span> <span class="n">uvw</span><span class="o">/</span><span class="n">deno</span>

<span class="c1">## 테스트 해보자.
</span><span class="nf">get_direct</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">])</span>
<span class="nf">get_direct</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span>
</code></pre></div></div> <p>꼭 List 타입으로 주는 방식이 싫다면 아래와 같은 형태도 괜찮은 대안이 될 수 있겠다.</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">get_direct</span><span class="p">(</span><span class="n">v1</span><span class="p">,</span><span class="n">v2</span><span class="p">,</span><span class="n">v3</span><span class="p">):</span>
  <span class="sh">"""</span><span class="s">
  Argument
  --------
  v1,v2,v3

  Return
  ------
  </span><span class="sh">"""</span>
  <span class="c1">##
</span>  <span class="n">uvw</span><span class="o">=</span><span class="n">np</span><span class="p">.</span><span class="nf">array</span><span class="p">([</span><span class="n">v1</span><span class="p">,</span><span class="n">v2</span><span class="p">,</span><span class="n">v3</span><span class="p">])</span>
  <span class="n">deno</span><span class="o">=</span><span class="p">(</span><span class="n">uvw</span><span class="o">**</span><span class="mi">2</span><span class="p">).</span><span class="nf">sum</span><span class="p">()</span> <span class="c1"># demoniator: 분모, numerator: 분자
</span>  <span class="n">deno</span><span class="o">=</span><span class="n">np</span><span class="p">.</span><span class="nf">sqrt</span><span class="p">(</span><span class="n">deno</span><span class="p">)</span>
  <span class="k">return</span> <span class="n">uvw</span><span class="o">/</span><span class="n">deno</span>
</code></pre></div></div> <p>위 함수를 활용해 결정학적으로 같이 $[100],[010],[001],[\bar{1}00],[0\bar{1}0],[00\bar{1}]$을 3차원 그래프로 표현해보자. 3차원 점들을 표현하기 위해서는 3차원 axis가 필요하다. 이를 위해서 fig의 add_subplot 매소드에 ‘projection=3d’ 파라미터를 입력하여 3차원 axis를 만들자. 그 다음, 앞서 생성한 점들을 ‘scatter’함수를 활용해 아래와 같이 표현해보자.</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">%</span><span class="n">matplotlib</span> <span class="n">widget</span>
<span class="n">fig</span><span class="o">=</span><span class="n">plt</span><span class="p">.</span><span class="nf">figure</span><span class="p">()</span>
<span class="n">ax1</span><span class="o">=</span><span class="n">fig</span><span class="p">.</span><span class="nf">add_subplot</span><span class="p">(</span><span class="mi">111</span><span class="p">,</span><span class="n">projection</span><span class="o">=</span><span class="sh">'</span><span class="s">3d</span><span class="sh">'</span><span class="p">)</span>
<span class="n">vs</span><span class="o">=</span><span class="p">[[</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">],[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">]]</span>
<span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="nf">enumerate</span><span class="p">(</span><span class="n">vs</span><span class="p">):</span>
    <span class="n">uvw</span><span class="o">=</span><span class="nf">get_direct2</span><span class="p">(</span><span class="o">*</span><span class="n">v</span><span class="p">)</span>
    <span class="n">ax1</span><span class="p">.</span><span class="nf">scatter</span><span class="p">(</span><span class="o">*</span><span class="n">uvw</span><span class="p">,</span><span class="n">marker</span><span class="o">=</span><span class="sh">'</span><span class="s">o</span><span class="sh">'</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="sh">'</span><span class="s">k</span><span class="sh">'</span><span class="p">)</span>
</code></pre></div></div> <p>3차원 공간인지 사실 한눈에 살펴보기 어렵다. 따라서, 원점(0,0,0)에서부터 각 지점까지 화살표로 이어보는게 더 좋겠다. 화살표를 그리기 위해서 <a href="https://matplotlib.org/stable/api/_as_gen/matplotlib.pyplot.quiver.html" rel="external nofollow noopener" target="_blank"><code class="language-plaintext highlighter-rouge">quiver</code></a>매소드를 활용하였다.</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">%</span><span class="n">matplotlib</span> <span class="n">widget</span>
<span class="kn">import</span> <span class="n">matplotlib.pyplot</span> <span class="k">as</span> <span class="n">plt</span>
<span class="n">fig</span><span class="o">=</span><span class="n">plt</span><span class="p">.</span><span class="nf">figure</span><span class="p">()</span>
<span class="n">ax1</span><span class="o">=</span><span class="n">fig</span><span class="p">.</span><span class="nf">add_subplot</span><span class="p">(</span><span class="mi">111</span><span class="p">,</span><span class="n">projection</span><span class="o">=</span><span class="sh">'</span><span class="s">3d</span><span class="sh">'</span><span class="p">)</span>
<span class="n">vs</span><span class="o">=</span><span class="p">[[</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">],[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">]]</span>
<span class="n">orig</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span>
<span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="nf">enumerate</span><span class="p">(</span><span class="n">vs</span><span class="p">):</span>
    <span class="n">uvw</span><span class="o">=</span><span class="nf">get_direct2</span><span class="p">(</span><span class="o">*</span><span class="n">v</span><span class="p">)</span>
    <span class="n">ax1</span><span class="p">.</span><span class="nf">scatter</span><span class="p">(</span><span class="o">*</span><span class="n">uvw</span><span class="p">,</span><span class="n">marker</span><span class="o">=</span><span class="sh">'</span><span class="s">o</span><span class="sh">'</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="sh">'</span><span class="s">k</span><span class="sh">'</span><span class="p">)</span>
    <span class="n">ax1</span><span class="p">.</span><span class="nf">quiver</span><span class="p">(</span><span class="o">*</span><span class="n">orig</span><span class="p">,</span><span class="o">*</span><span class="n">uvw</span><span class="p">,</span><span class="n">arrow_length_ratio</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="sh">'</span><span class="s">r</span><span class="sh">'</span><span class="p">)</span>
</code></pre></div></div> <p>3차원 방향을 좀 더 명확히 살펴보기 위해, 반지름 1인 구(sphere)를 같이 그려보면 좋겠다. 이를 위해서는 <a href="https://ko.wikipedia.org/wiki/%EA%B5%AC%EB%A9%B4%EC%A2%8C%ED%91%9C%EA%B3%84" rel="external nofollow noopener" target="_blank">구면 좌표계(spherical coordinate system)</a>를 활용하면 더욱 쉽게 구를 그릴 수 있다. $(r,\theta,\phi)$의 좌표계에서 $r=1$로 고정하면, 반지름이 1인 구의 면에 해당한다. 아래 범위 내의 경우를 활용하면 되겠다.</p> <ul> <li>$\theta=[0,\pi]$</li> <li>$\phi=[0,2\pi]$</li> </ul> <p>주어진 구 좌표계는 다음과 같이 직교 좌표계 $(x,y,z)$로 아래와 같이 변환된다.</p> <ul> <li>$x=r\times \sin\theta\cos\phi$</li> <li>$y=r\times \sin\theta\sin\phi$</li> <li>$z=r\cos\theta$</li> </ul> <p><a href="https://numpy.org/doc/stable/reference/generated/numpy.mgrid.html" rel="external nofollow noopener" target="_blank"><code class="language-plaintext highlighter-rouge">np.mgrid</code></a>기능을 활용하면 쉽게 그리드를 만들 수 있다. np.linspace와 유사하나, 다차원으로 확장가능하며, grid를 만들기에 적합하다.</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="n">numpy</span> <span class="k">as</span> <span class="n">np</span>
<span class="n">theta</span><span class="p">,</span><span class="n">phi</span><span class="o">=</span><span class="n">np</span><span class="p">.</span><span class="n">mgrid</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="n">np</span><span class="p">.</span><span class="n">pi</span><span class="p">:</span><span class="mf">10j</span><span class="p">,</span><span class="mi">0</span><span class="p">:</span><span class="mi">2</span><span class="o">*</span><span class="n">np</span><span class="p">.</span><span class="n">pi</span><span class="p">:</span><span class="mf">10j</span><span class="p">]</span>
</code></pre></div></div> <p>위에 만들어진 theta와 phi를 직교좌표계로 바꾸면</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="n">numpy</span> <span class="k">as</span> <span class="n">np</span>
<span class="n">theta</span><span class="p">,</span><span class="n">phi</span><span class="o">=</span><span class="n">np</span><span class="p">.</span><span class="n">mgrid</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="n">np</span><span class="p">.</span><span class="n">pi</span><span class="p">:</span><span class="mf">10j</span><span class="p">,</span><span class="mi">0</span><span class="p">:</span><span class="mi">2</span><span class="o">*</span><span class="n">np</span><span class="p">.</span><span class="n">pi</span><span class="p">:</span><span class="mf">10j</span><span class="p">]</span>
<span class="n">r</span><span class="o">=</span><span class="mi">1</span> <span class="c1"># radius가 1이다.
## 직교 좌표계로 아래와 같이 변환할 수 있다.
</span><span class="n">x</span><span class="o">=</span><span class="n">r</span><span class="o">*</span><span class="n">np</span><span class="p">.</span><span class="nf">sin</span><span class="p">(</span><span class="n">theta</span><span class="p">)</span><span class="o">*</span><span class="n">np</span><span class="p">.</span><span class="nf">cos</span><span class="p">(</span><span class="n">phi</span><span class="p">)</span>
<span class="n">y</span><span class="o">=</span><span class="n">r</span><span class="o">*</span><span class="n">np</span><span class="p">.</span><span class="nf">sin</span><span class="p">(</span><span class="n">theta</span><span class="p">)</span><span class="o">*</span><span class="n">np</span><span class="p">.</span><span class="nf">sin</span><span class="p">(</span><span class="n">phi</span><span class="p">)</span>
<span class="n">z</span><span class="o">=</span><span class="n">r</span><span class="o">*</span><span class="n">np</span><span class="p">.</span><span class="nf">cos</span><span class="p">(</span><span class="n">theta</span><span class="p">)</span>
</code></pre></div></div> <p>이제 grid된 x,y,z좌표와 matplotlib의 plot_wireframe을 활용해서 3D 구면을 그려보자.</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="n">numpy</span> <span class="k">as</span> <span class="n">np</span>
<span class="n">theta</span><span class="p">,</span><span class="n">phi</span><span class="o">=</span><span class="n">np</span><span class="p">.</span><span class="n">mgrid</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="n">np</span><span class="p">.</span><span class="n">pi</span><span class="p">:</span><span class="mf">10j</span><span class="p">,</span><span class="mi">0</span><span class="p">:</span><span class="mi">2</span><span class="o">*</span><span class="n">np</span><span class="p">.</span><span class="n">pi</span><span class="p">:</span><span class="mf">10j</span><span class="p">]</span>
<span class="n">r</span><span class="o">=</span><span class="mi">1</span> <span class="c1"># radius가 1이다.
## 직교 좌표계로 아래와 같이 변환할 수 있다.
</span><span class="n">x</span><span class="o">=</span><span class="n">r</span><span class="o">*</span><span class="n">np</span><span class="p">.</span><span class="nf">sin</span><span class="p">(</span><span class="n">theta</span><span class="p">)</span><span class="o">*</span><span class="n">np</span><span class="p">.</span><span class="nf">cos</span><span class="p">(</span><span class="n">phi</span><span class="p">)</span>
<span class="n">y</span><span class="o">=</span><span class="n">r</span><span class="o">*</span><span class="n">np</span><span class="p">.</span><span class="nf">sin</span><span class="p">(</span><span class="n">theta</span><span class="p">)</span><span class="o">*</span><span class="n">np</span><span class="p">.</span><span class="nf">sin</span><span class="p">(</span><span class="n">phi</span><span class="p">)</span>
<span class="n">z</span><span class="o">=</span><span class="n">r</span><span class="o">*</span><span class="n">np</span><span class="p">.</span><span class="nf">cos</span><span class="p">(</span><span class="n">theta</span><span class="p">)</span>

<span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="p">.</span><span class="nf">figure</span><span class="p">()</span>
<span class="n">ax</span> <span class="o">=</span> <span class="n">fig</span><span class="p">.</span><span class="nf">add_subplot</span><span class="p">(</span><span class="mi">111</span><span class="p">,</span> <span class="n">projection</span><span class="o">=</span><span class="sh">'</span><span class="s">3d</span><span class="sh">'</span><span class="p">)</span>
<span class="n">ax</span><span class="p">.</span><span class="nf">plot_wireframe</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">z</span><span class="p">,</span><span class="n">alpha</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span><span class="n">lw</span><span class="o">=</span><span class="mf">0.9</span><span class="p">)</span> <span class="c1">## alpha: 투명도, lw: linewidth
</span></code></pre></div></div> <p>나아가, 그 위에 앞서 구한 결정방향들을 올려보자.</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="n">numpy</span> <span class="k">as</span> <span class="n">np</span>
<span class="n">theta</span><span class="p">,</span><span class="n">phi</span><span class="o">=</span><span class="n">np</span><span class="p">.</span><span class="n">mgrid</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="n">np</span><span class="p">.</span><span class="n">pi</span><span class="p">:</span><span class="mf">20j</span><span class="p">,</span><span class="mi">0</span><span class="p">:</span><span class="mi">2</span><span class="o">*</span><span class="n">np</span><span class="p">.</span><span class="n">pi</span><span class="p">:</span><span class="mf">20j</span><span class="p">]</span>
<span class="n">r</span><span class="o">=</span><span class="mi">1</span> <span class="c1"># radius가 1이다.
## 직교 좌표계로 아래와 같이 변환할 수 있다.
</span><span class="n">x</span><span class="o">=</span><span class="n">r</span><span class="o">*</span><span class="n">np</span><span class="p">.</span><span class="nf">sin</span><span class="p">(</span><span class="n">theta</span><span class="p">)</span><span class="o">*</span><span class="n">np</span><span class="p">.</span><span class="nf">cos</span><span class="p">(</span><span class="n">phi</span><span class="p">)</span>
<span class="n">y</span><span class="o">=</span><span class="n">r</span><span class="o">*</span><span class="n">np</span><span class="p">.</span><span class="nf">sin</span><span class="p">(</span><span class="n">theta</span><span class="p">)</span><span class="o">*</span><span class="n">np</span><span class="p">.</span><span class="nf">sin</span><span class="p">(</span><span class="n">phi</span><span class="p">)</span>
<span class="n">z</span><span class="o">=</span><span class="n">r</span><span class="o">*</span><span class="n">np</span><span class="p">.</span><span class="nf">cos</span><span class="p">(</span><span class="n">theta</span><span class="p">)</span>

<span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="p">.</span><span class="nf">figure</span><span class="p">()</span>
<span class="n">ax</span> <span class="o">=</span> <span class="n">fig</span><span class="p">.</span><span class="nf">add_subplot</span><span class="p">(</span><span class="mi">111</span><span class="p">,</span> <span class="n">projection</span><span class="o">=</span><span class="sh">'</span><span class="s">3d</span><span class="sh">'</span><span class="p">)</span>
<span class="n">ax</span><span class="p">.</span><span class="nf">plot_wireframe</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">z</span><span class="p">,</span><span class="n">alpha</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span><span class="n">lw</span><span class="o">=</span><span class="mf">0.9</span><span class="p">)</span>

<span class="c1">##
</span><span class="n">vs</span><span class="o">=</span><span class="p">[[</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">],[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">]]</span>
<span class="n">orig</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span>
<span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="nf">enumerate</span><span class="p">(</span><span class="n">vs</span><span class="p">):</span>
    <span class="n">uvw</span><span class="o">=</span><span class="nf">get_direct2</span><span class="p">(</span><span class="o">*</span><span class="n">v</span><span class="p">)</span>
    <span class="n">ax</span><span class="p">.</span><span class="nf">scatter</span><span class="p">(</span><span class="o">*</span><span class="n">uvw</span><span class="p">,</span><span class="n">marker</span><span class="o">=</span><span class="sh">'</span><span class="s">o</span><span class="sh">'</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="sh">'</span><span class="s">k</span><span class="sh">'</span><span class="p">)</span>
    <span class="n">ax</span><span class="p">.</span><span class="nf">quiver</span><span class="p">(</span><span class="o">*</span><span class="n">orig</span><span class="p">,</span><span class="o">*</span><span class="n">v</span><span class="p">,</span><span class="n">arrow_length_ratio</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="sh">'</span><span class="s">r</span><span class="sh">'</span><span class="p">)</span>
</code></pre></div></div> <p>그런데 사실, 3차원으로 그린 그래프 툴이 개발되기 전에도 많은 재료공학자들이 3차원 정보를 표현해야만 했다. 그들은 3차원 정보를 2차원면에 표현하기 위해 stereographic projection법을 활용하였다.</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">%</span><span class="n">matplotlib</span> <span class="n">widget</span>
<span class="c1">#%matplotlib inline
</span><span class="n">fig</span><span class="o">=</span><span class="n">plt</span><span class="p">.</span><span class="nf">figure</span><span class="p">()</span>
<span class="n">ax1</span><span class="o">=</span><span class="n">fig</span><span class="p">.</span><span class="nf">add_subplot</span><span class="p">(</span><span class="mi">111</span><span class="p">,</span><span class="n">projection</span><span class="o">=</span><span class="sh">'</span><span class="s">3d</span><span class="sh">'</span><span class="p">)</span>
<span class="n">vs</span><span class="o">=</span><span class="p">[[</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">],[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">]]</span>
<span class="n">orig</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span>
<span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="nf">enumerate</span><span class="p">(</span><span class="n">vs</span><span class="p">):</span>
    <span class="n">uvw</span><span class="o">=</span><span class="nf">get_direct2</span><span class="p">(</span><span class="o">*</span><span class="n">v</span><span class="p">)</span>
    <span class="c1">## quiver 메소드를 활용하였다.
</span>    <span class="n">ax1</span><span class="p">.</span><span class="nf">quiver</span><span class="p">(</span><span class="o">*</span><span class="n">orig</span><span class="p">,</span><span class="o">*</span><span class="n">v</span><span class="p">,</span><span class="n">arrow_length_ratio</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="sh">'</span><span class="s">r</span><span class="sh">'</span><span class="p">)</span>

<span class="n">d</span><span class="o">=</span><span class="mf">1.2</span>
<span class="n">ax1</span><span class="p">.</span><span class="nf">set_xlim</span><span class="p">(</span><span class="o">-</span><span class="n">d</span><span class="p">,</span><span class="n">d</span><span class="p">)</span>
<span class="n">ax1</span><span class="p">.</span><span class="nf">set_ylim</span><span class="p">(</span><span class="o">-</span><span class="n">d</span><span class="p">,</span><span class="n">d</span><span class="p">)</span>
<span class="n">ax1</span><span class="p">.</span><span class="nf">set_zlim</span><span class="p">(</span><span class="o">-</span><span class="n">d</span><span class="p">,</span><span class="n">d</span><span class="p">)</span>
</code></pre></div></div> <h2 id="crystal-symmetry">Crystal symmetry</h2> <h2 id="수업-08-2-npmeshgrid-npmgrid-grid-contouring">수업 08-2 (<del>np.meshgrid</del>, np.mgrid, grid, contouring)</h2> <h1 id="week9">Week9</h1> <ul> <li>Force vs. Disp curve 분석, 최소 자승법</li> <li>목표 <ul> <li>force vs. displacement 파일로 불러올 수 있다.</li> <li>응력 변형률로 데이터를 분석하고 이를 진응력 진변형률로 바꿀 수 있다.</li> <li>최소 자승법을 이해하고 활용할 수 있다.</li> </ul> </li> </ul> <h2 id="수업-09-1-force-vs-displ-데이터---응력-선도">수업 09-1 (Force vs. displ 데이터 -&gt; 응력 선도)</h2> <ul> <li>실습을 위해 필요한 다음 <a href="/assets/dat_files/lectures/1_2_data_mse/calibration1.txt">calibration1</a>, <a href="/assets/dat_files/lectures/1_2_data_mse/calibration2.txt">calibration2</a> 파일을 다운로드 받자.</li> <li>첫번째 calibration file은 변위 측정 장치에서 측정된 voltage 변화를 mm 단위의 변위로 ‘변환’해준다.</li> <li> <p>두번째 calibration file은 로드셀 (load)장치에서 측정된 voltage 변화를 kN 단위의 힘으로 ‘변환’해준다.</p> <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="n">matplotlib.pyplot</span> <span class="k">as</span> <span class="n">plt</span>
<span class="n">c1</span><span class="o">=</span><span class="n">np</span><span class="p">.</span><span class="nf">loadtxt</span><span class="p">(</span><span class="sh">'</span><span class="s">calibration1.txt</span><span class="sh">'</span><span class="p">)</span>
<span class="n">c2</span><span class="o">=</span><span class="n">np</span><span class="p">.</span><span class="nf">loadtxt</span><span class="p">(</span><span class="sh">'</span><span class="s">calibration2.txt</span><span class="sh">'</span><span class="p">)</span>

<span class="n">fig</span><span class="o">=</span><span class="n">plt</span><span class="p">.</span><span class="nf">figure</span><span class="p">()</span>
<span class="n">ax1</span><span class="o">=</span><span class="n">fig</span><span class="p">.</span><span class="nf">add_subplot</span><span class="p">(</span><span class="mi">121</span><span class="p">)</span>
<span class="n">ax2</span><span class="o">=</span><span class="n">fig</span><span class="p">.</span><span class="nf">add_subplot</span><span class="p">(</span><span class="mi">122</span><span class="p">)</span>

<span class="n">y</span><span class="o">=</span><span class="n">c1</span><span class="p">[:,</span><span class="mi">0</span><span class="p">]</span> <span class="c1"># extension in [mm]
</span><span class="n">x</span><span class="o">=</span><span class="n">c1</span><span class="p">[:,</span><span class="mi">1</span><span class="p">]</span> <span class="c1"># voltage
## 뒤죽박죽 시행된 calibration sheet의 데이터를 X(voltage)기준으로 정렬하자.
</span><span class="n">ind</span><span class="o">=</span><span class="n">np</span><span class="p">.</span><span class="nf">argsort</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="n">y</span><span class="o">=</span><span class="n">y</span><span class="p">[</span><span class="n">ind</span><span class="p">]</span>
<span class="n">x</span><span class="o">=</span><span class="n">x</span><span class="p">[</span><span class="n">ind</span><span class="p">]</span>
<span class="c1"># 정렬된 calibration sheet 데이터를 그리자.
</span><span class="n">ax1</span><span class="p">.</span><span class="nf">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="sh">'</span><span class="s">-o</span><span class="sh">'</span><span class="p">,</span><span class="n">mfc</span><span class="o">=</span><span class="sh">'</span><span class="s">None</span><span class="sh">'</span><span class="p">,</span><span class="n">label</span><span class="o">=</span><span class="sh">'</span><span class="s">Calibration</span><span class="sh">'</span><span class="p">)</span>

<span class="c1">## let's find out what y=ax+b fits this equation well.
</span><span class="n">a1</span><span class="o">=</span><span class="mf">0.1</span>
<span class="n">b1</span><span class="o">=</span><span class="mf">0.1</span> <span class="c1">## a1 과  b1 을 바꿔가며 calibration 해보자.
</span><span class="n">xs</span><span class="o">=</span><span class="n">np</span><span class="p">.</span><span class="nf">linspace</span><span class="p">(</span><span class="o">-</span><span class="mi">4</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
<span class="n">ys</span><span class="o">=</span><span class="n">xs</span><span class="o">*</span><span class="n">a1</span><span class="o">+</span><span class="n">b1</span>
<span class="n">ax1</span><span class="p">.</span><span class="nf">plot</span><span class="p">(</span><span class="n">xs</span><span class="p">,</span><span class="n">ys</span><span class="p">,</span><span class="n">label</span><span class="o">=</span><span class="sh">'</span><span class="s">fit</span><span class="sh">'</span><span class="p">)</span>
<span class="n">ax1</span><span class="p">.</span><span class="nf">legend</span><span class="p">()</span>

<span class="n">y</span><span class="o">=</span><span class="n">c2</span><span class="p">[:,</span><span class="mi">0</span><span class="p">]</span> <span class="c1"># force in kN
</span><span class="n">x</span><span class="o">=</span><span class="n">c2</span><span class="p">[:,</span><span class="mi">1</span><span class="p">]</span> <span class="c1"># voltage
# .... 이어 계속해서 프로그래밍 해보자.
</span></code></pre></div> </div> <p>이렇게 얻어진 데이터를 가지고 폭과 두께, 그리고 gauge length를 안다면 응력 vs. 변형률 데이터로 변환 가능하다.</p> </li> <li> <p>다음으로, 위에서 구한 힘과 변위를 활용해 응력 vs. 변형률 데이터로 바꿔보자.</p> <ul> <li>폭이 12.695 mm, 두께가 1.193 mm, 게이즈가 20 mm라 가정하자.</li> <li>공칭 응력</li> </ul> \[\sigma^{engi}=\frac{force}{Area}\] <ul> <li>공칭 변형률</li> </ul> \[\epsilon^{engi}=\frac{\Delta l}{l_0}\] <ul> <li>진 변형</li> </ul> \[\varepsilon=\ln(1+\epsilon)\] <ul> <li>진 응력</li> </ul> \[\sigma^{true}=\sigma^{engi}(1+\epsilon)\] <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="c1">## algorithm
# 1. 파일로부터 Numpy를 활용해 데이터를 불러온다.
# 2. 주어진 시편의 폭과 두께로부터 초기단면적을 구한다.
# 3. 초기 단면적과 힘을 활용해 공칭 응력을 구한다.
# 4. 초기 게이지 길이와 변위를 활용해 공칭 변형률을 구한다.
# 5. 진 변형률을 구한다.
# 7. 진 응력을 구한다.
# 8. 진응력 vs. 진 변형률 곡선을 구한다.
# 9. 최대 하중 이후의 데이터를 trimming 해본다.
</span></code></pre></div> </div> </li> <li>Hollomon Equation으로 바꿔본다.</li> </ul> \[\sigma=k\varepsilon^n\] <p>적절한 k값과 n값을 앞서 calibration sheet의 $ a$ 그리고 $ b $에 해당하는 값을 찾기 위해서는 $\log$ 함수의 활용이 유용하다.</p> \[\log\sigma=\log k + n\log \varepsilon\] <p>밑(base)이 자연수(2.713…)인 로그 함수를 활용한다면</p> \[ln\sigma=\ln{k}+n\ln\varepsilon\] <p>이를 활용해 적절한 $k$ 값 및 $n$ 값을 구해보자.</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># np.log 함수를 활용해 밑이 자연수인 로그 함수를 활용하자.
# np.log(sigma), np.log(epsilon)
# plt.plot 활용해 직선 그려보기
# a값 그리고 b값 찾기.
# log (a) 그리고 log (b)로부터 a, b값을 역산(거꾸로 계산) 해보자.
</span></code></pre></div></div> <ul> <li> <p>복잡한 형태의 데이터 파일의 경우를 생각해보자. 이미 calibration된 이후 얻어진 <a href="/assets/dat_files/lectures/1_2_data_mse/force_vs_displ.txt">힘/변위 데이터</a>를 살펴보고, 분석해보자.</p> <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="n">np</span><span class="p">.</span><span class="nf">loadtxt</span><span class="p">(</span><span class="sh">'</span><span class="s">filename</span><span class="sh">'</span><span class="p">)</span> <span class="c1"># 이 명령어가 적용되지 않는 여러 이유가 있다. 그 이유를 파일을 직접 살펴보고 고민해보자.
#with open(fn,'r') as fo:
#    cnt=fo.read()
#    blocks=cnt.split('Data Acquisition')
#    blocks=blocks[1:]
</span>
<span class="c1">#for ib,block in enumerate(blocks):
#    lines=block.split('\n')
#    lines=lines[3:-2] ##??
#    bl=''
#    dmaster=np.zeros((len(lines),4),dtype='float')
#    for i, line in enumerate(lines):
#        dmaster[i,:]=np.array(line.split('\t'),dtype='float')
</span>
<span class="c1">#    plt.plot(dmaster[:,1],dmaster[:,2])
</span></code></pre></div> </div> </li> </ul> <h2 id="수업-09-2-노이즈가-있는-데이터로부터-최소자승법을-활용한-선형회귀">수업 09-2 (노이즈가 있는 데이터로부터 최소자승법을 활용한 선형회귀)</h2> <ul> <li> <p>목표</p> <ul> <li>최소 자승법을 이해한다.</li> <li>09-1의 데이터의 활용헤서 ‘최소자승법’을 활용해본다.</li> </ul> </li> <li> <p>개념</p> <ul> <li>주어진\(n\) 쌍의의 데이터가 아래와 같이 표현될 수 있다.</li> </ul> \[(x_i,y_i) \text{ with } i=1,2,...,n\] <p>이때 위 \(n\)쌍의 데이터를 우리가 구하는 직선의 방정식이 매우 잘 대표해야 하겠다.</p> \[y=ax+b\] <p>그러한 직선의 방정식을 구하기 위해서는 데이터와 계산된 값 사이의 차이를 최소화시켜야겠다.</p> <ul> <li> <p>예시.</p> <ul> <li> <p>실제로는 2.5x + 5가 데이터인데, 가상의 노이즈를 부과해보자.</p> <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="n">numpy</span> <span class="k">as</span> <span class="n">np</span>
<span class="kn">import</span> <span class="n">matplotlib.pyplot</span> <span class="k">as</span> <span class="n">plt</span>

<span class="c1"># example data with noise
</span><span class="n">xs</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="nf">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">)</span>
<span class="c1"># 실제로는 2.5x + 5가 데이터인데, 가상의 노이즈를 부과해보자.
</span><span class="n">a</span><span class="o">=</span><span class="mf">2.5</span>
<span class="n">b</span><span class="o">=</span><span class="mi">5</span>
<span class="n">y_true</span> <span class="o">=</span> <span class="n">a</span> <span class="o">*</span> <span class="n">xs</span> <span class="o">+</span> <span class="n">b</span>
<span class="c1">## 정규 분포를 따르는 인위적 노이즈를 부과해보자.
</span><span class="n">noise</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="n">random</span><span class="p">.</span><span class="nf">normal</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="n">xs</span><span class="p">.</span><span class="n">shape</span><span class="p">)</span> <span class="c1">## 정규분포 mean:0, std: 3
</span><span class="n">ys</span> <span class="o">=</span> <span class="n">y_true</span> <span class="o">+</span> <span class="n">noise</span>
</code></pre></div> </div> </li> <li> <p>그 다음, 정확한 \(a, b\) 값을 모른다 가정하고, 각 추측된 값 \(\tilde a,\tilde b\) 값을 사용해보자. 그리고 추측된 값과, 노이즈가 있는 값 들 사이에 차이를 아래와 같이 정의하여 살펴보자.</p> \[\epsilon_i=y_i-(\tilde a x_i+\tilde b)\] </li> <li> <p>각 쌍</p> \[(x_i,y_i)\] <p>에 따라 음의 차이 혹은 양의 차이가 있을 수 있으므로, 자승(square)값을 구하고 그 자승 값의 총 합을 살펴보자. 즉</p> \[\sum_i^n(\epsilon_i)^2\] <p>값을 찾아 보자.</p> </li> <li> <p>여기까지의 과정은 아래와 같이 Python으로 구현될 수 있다.</p> <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="n">plt</span><span class="p">.</span><span class="nf">plot</span><span class="p">(</span><span class="n">xs</span><span class="p">,</span><span class="n">ys</span><span class="p">,</span><span class="sh">'</span><span class="s">rx</span><span class="sh">'</span><span class="p">,</span><span class="n">label</span><span class="o">=</span><span class="sh">'</span><span class="s">Data with noise</span><span class="sh">'</span><span class="p">)</span>
<span class="c1">#plt.plot(xs,y_true,'k-',label='True data')
</span>
<span class="n">tilde_a</span><span class="o">=</span><span class="mf">2.2</span>
<span class="n">tilde_b</span><span class="o">=</span><span class="mi">5</span>
<span class="n">plt</span><span class="p">.</span><span class="nf">plot</span><span class="p">(</span><span class="n">xs</span><span class="p">,</span><span class="n">tilde_a</span><span class="o">*</span><span class="n">xs</span><span class="o">+</span><span class="n">tilde_b</span><span class="p">,</span><span class="sh">'</span><span class="s">m--</span><span class="sh">'</span><span class="p">,</span><span class="n">label</span><span class="o">=</span><span class="sh">'</span><span class="s">Guessed fit</span><span class="sh">'</span><span class="p">)</span>
<span class="n">epsilon</span><span class="o">=</span><span class="n">np</span><span class="p">.</span><span class="nf">zeros</span><span class="p">(</span><span class="n">xs</span><span class="p">.</span><span class="n">shape</span><span class="p">)</span>
<span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">x</span> <span class="ow">in</span> <span class="nf">enumerate</span><span class="p">(</span><span class="n">xs</span><span class="p">):</span>
	<span class="n">y</span><span class="o">=</span><span class="n">x</span><span class="o">*</span><span class="n">tilde_a</span><span class="o">+</span><span class="n">tilde_b</span>
	<span class="n">epsilon</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">=</span><span class="n">y</span><span class="o">-</span><span class="n">ys</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
	<span class="n">plt</span><span class="p">.</span><span class="nf">plot</span><span class="p">([</span><span class="n">x</span><span class="p">,</span><span class="n">x</span><span class="p">],[</span><span class="n">ys</span><span class="p">[</span><span class="n">i</span><span class="p">],</span><span class="n">y</span><span class="p">],</span><span class="sh">'</span><span class="s">-b</span><span class="sh">'</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">'</span><span class="s">residual: </span><span class="si">{</span><span class="p">(</span><span class="n">epsilon</span><span class="o">**</span><span class="mi">2</span><span class="p">).</span><span class="nf">sum</span><span class="p">()</span><span class="si">}</span><span class="sh">'</span><span class="p">)</span>
<span class="n">leg</span><span class="o">=</span><span class="n">plt</span><span class="p">.</span><span class="nf">legend</span><span class="p">()</span>
</code></pre></div> </div> </li> <li> <p>이제 자승값의 합을 최소화 시키는 \(\tilde a, \tilde b\) 값을 어떻게 구할 수 있을지 고민해보자.</p> </li> <li> <p>가장 적절한 \(\tilde a, \tilde b\) 값을 구하기 위해 우선</p> \[S=\sum_i^n(\epsilon_i)^2\] <p>라 하고, 이를 풀어서 표현하면</p> \[S=\sum_i^n(\epsilon_i)^2=\sum_i^n(y_i-(\tilde ax_i+\tilde b))^2\] <p>가 된다. 위 표현은 위 코드 박스에서</p> <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="p">(</span><span class="n">epsilon</span><span class="o">**</span><span class="mi">2</span><span class="p">).</span><span class="nf">sum</span><span class="p">()</span>
</code></pre></div> </div> <p>에 해당한다.</p> <p>제곱 항을 전개하면</p> \[S=\sum_i^n(y_i-(\tilde ax_i+\tilde b))^2 =\sum_i^n\bigg(y_i^2+(\tilde ax_i-2y_i(\tilde ax_i+\tilde b)+\tilde b)^2\bigg)\] <p>가 된다. 이때</p> \[\frac{\partial S}{\partial \tilde a}=0\] <p>그리고</p> \[\frac{\partial S}{\partial \tilde b}=0\] <p>를 만족하는 \(\tilde a, \tilde b\) 값이 최소자승법에 의해 구해진다. 따라서 각 미분 값을 구해보면</p> \[\frac{\partial S}{\partial \tilde a} =\sum_i^n\frac{\partial \bigg((y_i-(\tilde ax_i+\tilde b))^2\bigg) }{\partial \tilde a} =\sum_i^n{\bigg(2(y_i-(\tilde ax_i+\tilde b))(-x_i)\bigg)}\] <p>위 미분값이 0이 되는 조건을 더욱 정리해보면</p> \[\frac{\partial S}{\partial \tilde a} =-2\sum_i^n{\bigg((x_iy_i-\tilde ax_ix_i-\tilde bx_i)\bigg)}=0\] <p>따라서</p> \[\frac{\partial S}{\partial \tilde a} =-2\sum_i^n{\bigg((x_iy_i-\tilde ax_i^2-\tilde bx_i)\bigg)}=0 \newline \rightarrow \bigg(\sum_i^nx_iy_i\bigg)-\tilde a\bigg(\sum_i^nx_i^2\bigg)-\tilde b\bigg(\sum_i^nx_i\bigg)=0\] <p>마찬가지로</p> \[\frac{\partial S}{\partial\tilde b}=\sum_i^n\bigg(2(y_i-\tilde a x_i-\tilde b)\bigg)\] <p>가 되며, 최적 조건은</p> \[\bigg(\sum_i^ny_i\bigg)-\tilde a\bigg(\sum_i^nx_i\bigg)-n\tilde b=0\] <p>으로 표현된다. 두 최적 조건을 나타내는 식을 ‘연립 방정식’으로 표현할 수 있으며, 이는</p> \[\begin{bmatrix} \sum_i^nx_i^2 &amp; \sum_i^nx_i\\ \sum_i^nx_i &amp; n \end{bmatrix} \begin{bmatrix} \tilde a\\ \tilde b \end{bmatrix} = \begin{bmatrix} \sum_i^nx_iy_i\\ \sum_i^ny_i \end{bmatrix}\] <p>따라서, 위 연립 방정식을 풀이하면 \(S\)를 최소화하는 \(\tilde a, \tilde b\) 쌍을 구할 수 있다.</p> <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="n">numpy</span> <span class="k">as</span> <span class="n">np</span>
<span class="kn">import</span> <span class="n">matplotlib.pyplot</span> <span class="k">as</span> <span class="n">plt</span>

<span class="c1"># example data with noise
</span><span class="n">xs</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="nf">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
<span class="n">a</span><span class="o">=</span><span class="mf">2.5</span>
<span class="n">b</span><span class="o">=</span><span class="mi">5</span>
<span class="n">y_true</span> <span class="o">=</span> <span class="n">a</span> <span class="o">*</span> <span class="n">xs</span> <span class="o">+</span> <span class="n">b</span>
<span class="c1">## artificial noise added.
</span><span class="n">noise</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="n">random</span><span class="p">.</span><span class="nf">normal</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="n">xs</span><span class="p">.</span><span class="n">shape</span><span class="p">)</span> <span class="c1">## 정규분포 mean:0, std: 3
</span><span class="n">ys</span> <span class="o">=</span> <span class="n">y_true</span> <span class="o">+</span> <span class="n">noise</span>

<span class="n">plt</span><span class="p">.</span><span class="nf">plot</span><span class="p">(</span><span class="n">xs</span><span class="p">,</span><span class="n">ys</span><span class="p">,</span><span class="sh">'</span><span class="s">ro</span><span class="sh">'</span><span class="p">,</span><span class="n">label</span><span class="o">=</span><span class="sh">'</span><span class="s">Data with noise</span><span class="sh">'</span><span class="p">)</span>
<span class="c1">#plt.plot(xs,y_true,'k-',label='True data')
</span>
<span class="n">tilde_a</span><span class="o">=</span><span class="mi">2</span>
<span class="n">tilde_b</span><span class="o">=</span><span class="mi">5</span>

<span class="n">epsilon</span><span class="o">=</span><span class="n">np</span><span class="p">.</span><span class="nf">zeros</span><span class="p">(</span><span class="n">xs</span><span class="p">.</span><span class="n">shape</span><span class="p">)</span>
<span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">x</span> <span class="ow">in</span> <span class="nf">enumerate</span><span class="p">(</span><span class="n">xs</span><span class="p">):</span>
	<span class="n">y</span><span class="o">=</span><span class="n">x</span><span class="o">*</span><span class="n">tilde_a</span><span class="o">+</span><span class="n">tilde_b</span>
	<span class="n">epsilon</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">=</span><span class="n">y</span><span class="o">-</span><span class="n">ys</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
	<span class="n">plt</span><span class="p">.</span><span class="nf">plot</span><span class="p">([</span><span class="n">x</span><span class="p">,</span><span class="n">x</span><span class="p">],[</span><span class="n">ys</span><span class="p">[</span><span class="n">i</span><span class="p">],</span><span class="n">y</span><span class="p">],</span><span class="sh">'</span><span class="s">-</span><span class="sh">'</span><span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="nf">plot</span><span class="p">(</span><span class="n">xs</span><span class="p">,</span><span class="n">tilde_a</span><span class="o">*</span><span class="n">xs</span><span class="o">+</span><span class="n">tilde_b</span><span class="p">,</span><span class="sh">'</span><span class="s">m--</span><span class="sh">'</span><span class="p">,</span><span class="n">label</span><span class="o">=</span><span class="sh">'</span><span class="s">manual fit</span><span class="sh">'</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">'</span><span class="s">residual: </span><span class="si">{</span><span class="p">(</span><span class="n">epsilon</span><span class="o">**</span><span class="mi">2</span><span class="p">).</span><span class="nf">sum</span><span class="p">()</span><span class="si">}</span><span class="sh">'</span><span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="nf">legend</span><span class="p">()</span>

<span class="c1">## least square
# the 2x2 matrix
</span><span class="n">matrix</span><span class="o">=</span><span class="n">np</span><span class="p">.</span><span class="nf">zeros</span><span class="p">((</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">))</span>
<span class="n">matrix</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span><span class="o">=</span><span class="p">(</span><span class="n">xs</span><span class="o">**</span><span class="mi">2</span><span class="p">).</span><span class="nf">sum</span><span class="p">()</span>
<span class="n">matrix</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span><span class="o">=</span><span class="n">xs</span><span class="p">.</span><span class="nf">sum</span><span class="p">()</span>
<span class="n">matrix</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span><span class="o">=</span><span class="n">xs</span><span class="p">.</span><span class="nf">sum</span><span class="p">()</span>
<span class="n">matrix</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span><span class="o">=</span><span class="nf">len</span><span class="p">(</span><span class="n">xs</span><span class="p">)</span>
<span class="c1"># the 2d vector on the right-hand-side.
</span><span class="n">c</span><span class="o">=</span><span class="n">np</span><span class="p">.</span><span class="nf">zeros</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="n">c</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">=</span><span class="p">(</span><span class="n">xs</span><span class="o">*</span><span class="n">ys</span><span class="p">).</span><span class="nf">sum</span><span class="p">()</span>
<span class="n">c</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">=</span><span class="n">ys</span><span class="p">.</span><span class="nf">sum</span><span class="p">()</span>
<span class="c1"># obtain inverse matrix and multiply it with c
</span><span class="n">a_lsq</span><span class="p">,</span><span class="n">b_lsq</span><span class="o">=</span><span class="n">np</span><span class="p">.</span><span class="n">linalg</span><span class="p">.</span><span class="nf">inv</span><span class="p">(</span><span class="n">matrix</span><span class="p">)</span><span class="nd">@c</span> <span class="c1">## m^{-1} . c
</span></code></pre></div> </div> </li> </ul> </li> </ul> </li> </ul> <h1 id="week10-matplotlib--hall-petch-equations-creep-data">Week10 (Matplotlib + Hall-petch equations, Creep data)</h1> <h2 id="수업-10-1-creep-data">수업 10-1 (Creep data)</h2> <ul> <li> <p>SN curve 데이터 파일 <a href="/assets/dat_files/lectures/1_2_data_mse/SN_curve.txt">SN_curve.txt</a>을 다운받아서 아래 예측 모형에 걸맞는 값들을 구해보자.</p> \[N=B/\sigma^m\] <p>위에서 각 기호는 아래와 같이 설명된다.</p> \[N: \text{ number of cycles at failure } \newline \sigma: \text{Stress amplitude}\] \[B, m : \text{material parameters}\] </li> <li> <p>Creep 데이터 파일 <a href="/assets/dat_files/lectures/1_2_data_mse/creep.txt">creep.txt</a>을 다운받아서 아래 예측 모형에 걸맞는 값들을 구해보자.</p> \[\dot\varepsilon=K\sigma^n\] \[\dot\varepsilon : \text{ creep rate}\] \[\sigma : \text{ 응력}\] \[K, n : \text{material parameters}\] </li> <li> <p><a href="https://scipy.org" rel="external nofollow noopener" target="_blank">SciPy</a>의 curve_fit 함수 활용하기</p> <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="n">numpy</span> <span class="k">as</span> <span class="n">np</span>
<span class="kn">import</span> <span class="n">matplotlib.pyplot</span> <span class="k">as</span> <span class="n">plt</span>
<span class="kn">from</span> <span class="n">scipy.optimize</span> <span class="kn">import</span> <span class="n">curve_fit</span>

<span class="k">def</span> <span class="nf">power</span><span class="p">(</span><span class="n">edot</span><span class="p">,</span><span class="n">K</span><span class="p">,</span><span class="n">n</span><span class="p">):</span>
	<span class="nf">return </span><span class="p">(</span><span class="n">edot</span><span class="o">/</span><span class="n">K</span><span class="p">)</span><span class="o">**</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="n">n</span><span class="p">)</span>

<span class="n">dat</span><span class="o">=</span><span class="n">np</span><span class="p">.</span><span class="nf">loadtxt</span><span class="p">(</span><span class="sh">'</span><span class="s">creep.txt</span><span class="sh">'</span><span class="p">,</span><span class="n">skiprows</span><span class="o">=</span><span class="mi">1</span><span class="p">).</span><span class="n">T</span>
<span class="n">x_data</span><span class="p">,</span><span class="n">y_data</span><span class="o">=</span><span class="n">dat</span>

<span class="n">popt</span><span class="p">,</span> <span class="n">pcov</span><span class="o">=</span><span class="nf">curve_fit</span><span class="p">(</span><span class="n">power</span><span class="p">,</span><span class="n">x_data</span><span class="p">,</span><span class="n">y_data</span><span class="p">,</span><span class="n">p0</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span>
<span class="n">args</span><span class="o">=</span><span class="n">popt</span>
<span class="nf">power</span><span class="p">(</span><span class="n">x_data</span><span class="p">,</span><span class="o">*</span><span class="n">args</span><span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="nf">plot</span><span class="p">(</span><span class="n">x_data</span><span class="p">,</span><span class="n">y_data</span><span class="p">,</span><span class="sh">'</span><span class="s">x</span><span class="sh">'</span><span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="nf">plot</span><span class="p">(</span><span class="n">x_data</span><span class="p">,</span><span class="nf">power</span><span class="p">(</span><span class="n">x_data</span><span class="p">,</span><span class="o">*</span><span class="n">args</span><span class="p">))</span>
<span class="n">plt</span><span class="p">.</span><span class="nf">xscale</span><span class="p">(</span><span class="sh">'</span><span class="s">log</span><span class="sh">'</span><span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="nf">yscale</span><span class="p">(</span><span class="sh">'</span><span class="s">log</span><span class="sh">'</span><span class="p">)</span>
</code></pre></div> </div> </li> <li> <p>실습: 데이터를 활용해 \(\dot\varepsilon&lt;10^{-2}\) 영역과 \(\dot\varepsilon\geq 10^{-2}\) 에 따로 <code class="language-plaintext highlighter-rouge">curve_fit</code>을 적용시켜서 \(K\) 와 \(n\) 값을 구해보자.</p> </li> </ul> <h2 id="수업-10-2-contouring">수업 10-2 (Contouring)</h2> <ul> <li>등고선 (contour) plot</li> <li> <p>예시</p> <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="o">%</span><span class="n">matplotlib</span> <span class="n">widget</span>
<span class="kn">import</span> <span class="n">numpy</span> <span class="k">as</span> <span class="n">np</span>
<span class="kn">import</span> <span class="n">matplotlib.pyplot</span> <span class="k">as</span> <span class="n">plt</span>
<span class="c1">## number of grid lines
</span><span class="n">xn</span><span class="o">=</span><span class="mi">20</span> <span class="c1">#along horizontal
</span><span class="n">yn</span><span class="o">=</span><span class="mi">20</span> <span class="c1">#along vertical
</span>
<span class="c1">## x,y range
</span><span class="n">xlim</span><span class="o">=</span><span class="n">np</span><span class="p">.</span><span class="nf">array</span><span class="p">([</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">])</span>
<span class="n">ylim</span><span class="o">=</span><span class="n">np</span><span class="p">.</span><span class="nf">array</span><span class="p">([</span><span class="o">-</span><span class="mi">6</span><span class="p">,</span><span class="mi">6</span><span class="p">])</span>
<span class="c1">## actual grids
</span><span class="n">xs</span><span class="o">=</span><span class="n">np</span><span class="p">.</span><span class="nf">linspace</span><span class="p">(</span><span class="o">*</span><span class="n">xlim</span><span class="p">,</span><span class="n">xn</span><span class="p">)</span> <span class="c1">## 4
</span><span class="n">ys</span><span class="o">=</span><span class="n">np</span><span class="p">.</span><span class="nf">linspace</span><span class="p">(</span><span class="o">*</span><span class="n">ylim</span><span class="p">,</span><span class="n">yn</span><span class="p">)</span> <span class="c1">## 11
</span><span class="n">yy</span><span class="p">,</span><span class="n">xx</span><span class="o">=</span><span class="n">np</span><span class="p">.</span><span class="nf">meshgrid</span><span class="p">(</span><span class="n">ys</span><span class="p">,</span><span class="n">xs</span><span class="p">)</span> <span class="c1">##  11 x 4
#xx,yy=np.meshgrid(xs,ys) ##  11 x 4
</span>
<span class="c1">## canvas (two 2D axes, one 3D axis)
</span><span class="n">fig</span><span class="o">=</span><span class="n">plt</span><span class="p">.</span><span class="nf">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">13</span><span class="p">,</span><span class="mi">3</span><span class="p">))</span>
<span class="n">ax1</span><span class="o">=</span><span class="n">fig</span><span class="p">.</span><span class="nf">add_subplot</span><span class="p">(</span><span class="mi">131</span><span class="p">)</span>
<span class="n">ax2</span><span class="o">=</span><span class="n">fig</span><span class="p">.</span><span class="nf">add_subplot</span><span class="p">(</span><span class="mi">132</span><span class="p">)</span>
<span class="n">ax3</span><span class="o">=</span><span class="n">fig</span><span class="p">.</span><span class="nf">add_subplot</span><span class="p">(</span><span class="mi">133</span><span class="p">,</span><span class="n">projection</span><span class="o">=</span><span class="sh">'</span><span class="s">3d</span><span class="sh">'</span><span class="p">)</span>

<span class="c1">## grid points
</span><span class="n">ax1</span><span class="p">.</span><span class="nf">scatter</span><span class="p">(</span><span class="n">xx</span><span class="p">,</span><span class="n">yy</span><span class="p">,</span><span class="n">c</span><span class="o">=</span><span class="sh">'</span><span class="s">k</span><span class="sh">'</span><span class="p">)</span>
<span class="n">mappable</span><span class="o">=</span><span class="n">ax2</span><span class="p">.</span><span class="nf">contourf</span><span class="p">(</span><span class="n">xx</span><span class="p">,</span><span class="n">yy</span><span class="p">,</span><span class="n">z</span><span class="p">,</span><span class="n">cmap</span><span class="o">=</span><span class="sh">'</span><span class="s">jet</span><span class="sh">'</span><span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="nf">colorbar</span><span class="p">(</span><span class="n">mappable</span><span class="p">,</span><span class="n">ax</span><span class="o">=</span><span class="n">ax2</span><span class="p">)</span>
<span class="k">if</span> <span class="bp">True</span><span class="p">:</span>
	<span class="c1">#z=np.sqrt(xx**2+yy**2)
</span>	<span class="n">z</span><span class="o">=</span><span class="n">np</span><span class="p">.</span><span class="nf">cos</span><span class="p">(</span><span class="n">xx</span><span class="p">)</span><span class="o">*</span><span class="n">yy</span><span class="o">+</span><span class="mi">10</span>
	<span class="c1">#z=np.log(np.abs(xx))*np.abs(yy)
</span>
	<span class="c1">## 3D surface
</span>	<span class="n">ax3</span><span class="p">.</span><span class="nf">plot_surface</span><span class="p">(</span><span class="n">xx</span><span class="p">,</span><span class="n">yy</span><span class="p">,</span><span class="n">z</span><span class="p">,</span><span class="n">cmap</span><span class="o">=</span><span class="sh">'</span><span class="s">jet</span><span class="sh">'</span><span class="p">,</span><span class="n">alpha</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>
	<span class="c1">## colored 2D contour
</span>	<span class="n">ax3</span><span class="p">.</span><span class="nf">contour</span><span class="p">(</span><span class="n">xx</span><span class="p">,</span><span class="n">yy</span><span class="p">,</span><span class="n">z</span><span class="p">,</span><span class="n">offset</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="n">cmap</span><span class="o">=</span><span class="sh">'</span><span class="s">jet</span><span class="sh">'</span><span class="p">)</span>

	<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="n">xn</span><span class="p">):</span> <span class="c1">## x
</span>		<span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="n">yn</span><span class="p">):</span> <span class="c1">## y
</span>			<span class="n">ax1</span><span class="p">.</span><span class="nf">text</span><span class="p">(</span><span class="n">xx</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">],</span><span class="n">yy</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">],</span><span class="sa">f</span><span class="sh">"</span><span class="s">z</span><span class="si">{</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="si">}</span><span class="s">=</span><span class="si">{</span><span class="n">z</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">]</span><span class="si">:</span><span class="p">.</span><span class="mi">1</span><span class="n">f</span><span class="si">}</span><span class="sh">"</span><span class="p">,</span><span class="n">size</span><span class="o">=</span><span class="mi">7</span><span class="p">,</span><span class="n">va</span><span class="o">=</span><span class="sh">'</span><span class="s">bottom</span><span class="sh">'</span><span class="p">,</span><span class="n">ha</span><span class="o">=</span><span class="sh">'</span><span class="s">center</span><span class="sh">'</span><span class="p">)</span>

<span class="n">fig</span><span class="p">.</span><span class="nf">tight_layout</span><span class="p">()</span>
<span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">ax</span> <span class="ow">in</span> <span class="nf">enumerate</span><span class="p">([</span><span class="n">ax1</span><span class="p">,</span><span class="n">ax2</span><span class="p">,</span><span class="n">ax3</span><span class="p">]):</span>
	<span class="n">ax</span><span class="p">.</span><span class="nf">set_xlabel</span><span class="p">(</span><span class="sh">'</span><span class="s">X</span><span class="sh">'</span><span class="p">);</span> <span class="n">ax</span><span class="p">.</span><span class="nf">set_ylabel</span><span class="p">(</span><span class="sh">'</span><span class="s">Y</span><span class="sh">'</span><span class="p">)</span>
	<span class="n">ax</span><span class="p">.</span><span class="nf">set_xlim</span><span class="p">(</span><span class="n">xlim</span><span class="o">*</span><span class="mf">1.3</span><span class="p">)</span>
	<span class="n">ax</span><span class="p">.</span><span class="nf">set_ylim</span><span class="p">(</span><span class="n">ylim</span><span class="o">*</span><span class="mf">1.3</span><span class="p">)</span>
<span class="n">ax3</span><span class="p">.</span><span class="nf">set_zlabel</span><span class="p">(</span><span class="sh">'</span><span class="s">Z</span><span class="sh">'</span><span class="p">)</span>
<span class="n">ax3</span><span class="p">.</span><span class="nf">set_zlim</span><span class="p">(</span><span class="mi">0</span><span class="p">,)</span>
</code></pre></div> </div> </li> <li> <p>예시: Schmid law</p> \[\tau=\sigma\cos\phi\cos\lambda\] <p>이 때</p> \[\cos\phi\cos\lambda\] <p>를 Schmid factor라 부른다.</p> <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="o">%</span><span class="n">matplotlib</span> <span class="n">inline</span>
<span class="kn">import</span> <span class="n">numpy</span> <span class="k">as</span> <span class="n">np</span>
<span class="kn">import</span> <span class="n">matplotlib.pyplot</span> <span class="k">as</span> <span class="n">plt</span>
<span class="n">nphi</span><span class="o">=</span><span class="mi">200</span>
<span class="n">nlam</span><span class="o">=</span><span class="mi">100</span>
<span class="n">phi</span><span class="o">=</span><span class="n">np</span><span class="p">.</span><span class="nf">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="o">*</span><span class="n">np</span><span class="p">.</span><span class="n">pi</span><span class="p">,</span><span class="n">nphi</span><span class="p">)</span> <span class="c1">## x
</span><span class="n">lamb</span><span class="o">=</span><span class="n">np</span><span class="p">.</span><span class="nf">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="o">*</span><span class="n">np</span><span class="p">.</span><span class="n">pi</span><span class="p">,</span><span class="n">nlam</span><span class="p">)</span> <span class="c1">## y
</span>
<span class="n">P</span><span class="p">,</span><span class="n">L</span><span class="o">=</span><span class="n">np</span><span class="p">.</span><span class="nf">meshgrid</span><span class="p">(</span><span class="n">phi</span><span class="p">,</span><span class="n">lamb</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="n">L</span><span class="p">.</span><span class="n">shape</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="n">P</span><span class="p">.</span><span class="n">shape</span><span class="p">)</span>

<span class="n">fig</span><span class="o">=</span><span class="n">plt</span><span class="p">.</span><span class="nf">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span><span class="mi">2</span><span class="p">))</span>
<span class="n">ax1</span><span class="o">=</span><span class="n">fig</span><span class="p">.</span><span class="nf">add_subplot</span><span class="p">(</span><span class="mi">121</span><span class="p">)</span>
<span class="n">ax2</span><span class="o">=</span><span class="n">fig</span><span class="p">.</span><span class="nf">add_subplot</span><span class="p">(</span><span class="mi">122</span><span class="p">)</span>
<span class="n">sf</span><span class="o">=</span><span class="n">np</span><span class="p">.</span><span class="nf">cos</span><span class="p">(</span><span class="n">L</span><span class="p">)</span><span class="o">*</span><span class="n">np</span><span class="p">.</span><span class="nf">cos</span><span class="p">(</span><span class="n">P</span><span class="p">)</span> <span class="c1"># schmid factor calculation
</span><span class="nb">map</span><span class="o">=</span><span class="n">ax1</span><span class="p">.</span><span class="nf">contourf</span><span class="p">(</span><span class="n">np</span><span class="p">.</span><span class="nf">rad2deg</span><span class="p">(</span><span class="n">P</span><span class="p">),</span><span class="n">np</span><span class="p">.</span><span class="nf">rad2deg</span><span class="p">(</span><span class="n">L</span><span class="p">),</span><span class="n">sf</span><span class="p">)</span> <span class="c1">## radian -&gt; degree로 바꿔서
</span><span class="n">plt</span><span class="p">.</span><span class="nf">colorbar</span><span class="p">(</span><span class="nb">map</span><span class="p">,</span><span class="n">ax</span><span class="o">=</span><span class="n">ax1</span><span class="p">)</span>
<span class="n">ax1</span><span class="p">.</span><span class="nf">set_xlabel</span><span class="p">(</span><span class="sa">r</span><span class="sh">'</span><span class="s">$\phi ^\circ{}$</span><span class="sh">'</span><span class="p">)</span>
<span class="n">ax1</span><span class="p">.</span><span class="nf">set_ylabel</span><span class="p">(</span><span class="sa">r</span><span class="sh">'</span><span class="s">$\lambda ^\circ{}$</span><span class="sh">'</span><span class="p">)</span>
</code></pre></div> </div> </li> <li> <p>예시, FCC 단결정의 슬립계 면방향 지수</p> \[(h,k,l)\] <p>그리고 슬립 방향</p> \[[u,v,w]\] <p>이 주어지고, 일축 인장 방향이 벡터</p> \[(x_1,x_2,x_3)\] <p>로 주어졌을 때,</p> \[\phi,\lambda\] <p>를 계산하고, 이를 활용해 인장 응력 방향에 따라서 달라지는 Schmid factor 값을 살펴보시오.</p> </li> <li>인장 응력 방향을 polar coordinate로 표현해서 살펴봅시다.</li> </ul> <h1 id="week11">Week11</h1> <ul> <li>무게비 원자비</li> </ul> <h2 id="수업-11-1-무게비-원자비-변환">수업 11-1 (무게비 원자비 변환)</h2> <ul> <li> <p>무게비 (weight fraction)</p> \[w_a=\frac{W_a}{W_a+W_b}\times 100 (wt.\%)\] \[W_a, W_b\] <p>는 각각</p> \[a\] <p>원소와</p> \[b\] <p>원소의 질량 (혹은 무게). 마찬가지로, 부피비는 다음과 같이 표현이 가능하겠다.</p> \[f_a=\frac{V_a}{V_a+V_b}\times 100 (vol.\%)\] \[V_a, V_b\] <p>는 각각</p> <p>\(a\)원소와 \(b\) 원소의 부피</p> </li> <li> <p>무게비 &lt;-&gt; 변환?</p> <ul> <li> <p>원소 \(a\)의 무게는 밀도 \(\rho_a\) 와 부피 \(V_a\)의 관계로 설명가능하다.</p> \[\rho_a=\frac{W_a}{V_a}\] \[w_a=\frac{W_a}{W_a+W_b}\times 100 =\frac{\rho_aV_a}{\rho_aV_a+\rho_bV_b}\times 100\] \[\rightarrow w_a=\frac{1}{1+\frac{\rho_bV_b}{\rho_aV_a}}\times 100\] \[\rightarrow 1+\frac{\rho_bV_b}{\rho_aV_a}=\frac{100}{w_a} \rightarrow \frac{\rho_bV_b}{\rho_aV_a}=\frac{100}{w_a} -1\] \[\therefore \frac{V_b}{V_a}=(\frac{100}{w_a} -1)\frac{\rho_a}{\rho_b}\] <p>마지막 관계식을 활용하여 부피비를 다시 표현하면</p> \[f_a=\frac{V_a}{V_a+V_b}\times 100=\frac{1}{1+V_b/V_a}\times 100=\frac{1}{1+(\frac{100}{w_a} -1)\frac{\rho_a}{\rho_b}}\times 100\] <p>따라서 각 원소의 밀도</p> \[\rho_a,\rho_b\] <p>그리고 무게비</p> \[w_a [\%]\] <p>를 알면 백분율 부피비를 구할 수 있다.</p> \[a\] <p>원소와</p> \[b\] <p>원소의 자리르 바꾸면</p> \[f_b=\frac{1}{1+(\frac{100}{w_b} -1)\frac{\rho_b}{\rho_a}}\times 100\] <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">convert_a</span><span class="p">(</span><span class="n">wa</span><span class="p">,</span><span class="n">rhoa</span><span class="p">,</span><span class="n">rhob</span><span class="p">):</span> <span class="c1">## get f_a
</span>	<span class="k">return</span> <span class="mi">1</span><span class="o">/</span><span class="p">(</span><span class="mi">1</span><span class="o">+</span><span class="p">(</span><span class="mi">100</span><span class="o">/</span><span class="n">w_a</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">*</span><span class="p">(</span><span class="n">rhoa</span><span class="o">/</span><span class="n">rhob</span><span class="p">))</span><span class="o">*</span><span class="mi">100</span>
<span class="k">def</span> <span class="nf">convert_b</span><span class="p">(</span><span class="n">wb</span><span class="p">,</span><span class="n">rhoa</span><span class="p">,</span><span class="n">rhob</span><span class="p">):</span> <span class="c1">## get f_a
</span>	<span class="k">return</span> <span class="mi">1</span><span class="o">/</span><span class="p">(</span><span class="mi">1</span><span class="o">+</span><span class="p">(</span><span class="mi">100</span><span class="o">/</span><span class="n">w_b</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">*</span><span class="p">(</span><span class="n">rhob</span><span class="o">/</span><span class="n">rhoa</span><span class="p">))</span><span class="o">*</span><span class="mi">100</span>
</code></pre></div> </div> </li> </ul> </li> <li> <p>유용한 패키지 <a href="https://pypi.org/project/periodictable/" rel="external nofollow noopener" target="_blank">periodic table</a>, <a href="https://github.com/python-periodictable/periodictable" rel="external nofollow noopener" target="_blank">Github page</a> <a href="https://periodictable.readthedocs.io/en/latest/" rel="external nofollow noopener" target="_blank">Documentation</a></p> <div class="language-bash highlighter-rouge"> <div class="highlight"><pre class="highlight"><code>c:<span class="se">\u</span>sers<span class="se">\u</span>ser&gt; pip <span class="nb">install </span>periodictable
</code></pre></div> </div> </li> <li> <p>예제 한 철강 제품의 무게비가 다음과 같았다.</p> \[Fe:C = 0.99: 0.01\] <p>철의 부피비,</p> \[v_{Fe}\] <p>는 얼마인가?</p> <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code>
</code></pre></div> </div> </li> </ul> <h2 id="수업-11-2">수업 11-2</h2> <h1 id="week12">Week12</h1> <ul> <li> <p>Matplotlib imaging, color-coding, EBSD 데이터 분석</p> </li> <li> <p>목표</p> <ul> <li>SEM 데이터를 소개하고, Ferrite와 Martensite로 분류</li> </ul> </li> </ul> <h2 id="수업-12-1">수업 12-1</h2> <ul> <li> <p>색표현을 설명</p> <ul> <li>Gray scale (0~255)</li> <li>RGB R(0~255), G(0~255), B(0~255)</li> <li>RGBA R(0~2550), G(0~255), B(0~255), alpha(0~1)</li> <li><a href="https://www.w3schools.com/colors/colors_rgb.asp?color=rgb(102,%20255,%20255)" rel="external nofollow noopener" target="_blank">참고</a></li> </ul> </li> <li> <p><a href="https://matplotlib.org/stable/api/_as_gen/matplotlib.pyplot.imshow.html" rel="external nofollow noopener" target="_blank">imshow</a> 함수</p> <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="n">matplotlib.pyplot</span> <span class="k">as</span> <span class="n">plt</span>
<span class="kn">import</span> <span class="n">numpy</span> <span class="k">as</span> <span class="n">np</span>

<span class="c1"># 5x5 랜덤 배열
</span><span class="n">data</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="n">random</span><span class="p">.</span><span class="nf">rand</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>

<span class="n">plt</span><span class="p">.</span><span class="nf">imshow</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="sh">'</span><span class="s">viridis</span><span class="sh">'</span><span class="p">,</span> <span class="n">interpolation</span><span class="o">=</span><span class="sh">'</span><span class="s">nearest</span><span class="sh">'</span><span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="nf">colorbar</span><span class="p">()</span>  <span class="c1"># 값과 색의 대응 막대 추가
</span><span class="n">plt</span><span class="p">.</span><span class="nf">show</span><span class="p">()</span>
</code></pre></div> </div> </li> <li> <p>Color map (<code class="language-plaintext highlighter-rouge">cmap</code>) 옵션</p> <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="n">matplotlib.pyplot</span> <span class="k">as</span> <span class="n">plt</span>
<span class="kn">import</span> <span class="n">numpy</span> <span class="k">as</span> <span class="n">np</span>

<span class="c1"># 100x100 배열: 0~255 값 (가상의 화상)
</span><span class="n">grain_map</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="n">random</span><span class="p">.</span><span class="nf">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span> <span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">100</span><span class="p">))</span>

<span class="n">fig</span><span class="o">=</span><span class="n">plt</span><span class="p">.</span><span class="nf">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span><span class="mi">2</span><span class="p">))</span>
<span class="c1"># 1x3 axes 생성
</span><span class="n">ax1</span><span class="o">=</span><span class="n">fig</span><span class="p">.</span><span class="nf">add_subplot</span><span class="p">(</span><span class="mi">131</span><span class="p">)</span>
<span class="n">ax2</span><span class="o">=</span><span class="n">fig</span><span class="p">.</span><span class="nf">add_subplot</span><span class="p">(</span><span class="mi">132</span><span class="p">)</span>
<span class="n">ax3</span><span class="o">=</span><span class="n">fig</span><span class="p">.</span><span class="nf">add_subplot</span><span class="p">(</span><span class="mi">133</span><span class="p">)</span>
<span class="c1">#--
# random하게 만들어진 0~255 사이의 값 확인
</span><span class="n">ax1</span><span class="p">.</span><span class="nf">hist</span><span class="p">(</span><span class="n">grain_map</span><span class="p">.</span><span class="nf">flatten</span><span class="p">())</span><span class="c1"># histogram
##
</span><span class="n">cmaps</span><span class="o">=</span><span class="p">[</span><span class="sh">'</span><span class="s">jet</span><span class="sh">'</span><span class="p">,</span><span class="sh">'</span><span class="s">gray</span><span class="sh">'</span><span class="p">]</span>
<span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">ax</span> <span class="ow">in</span> <span class="nf">enumerate</span><span class="p">([</span><span class="n">ax2</span><span class="p">,</span><span class="n">ax3</span><span class="p">]):</span>
	<span class="n">ax</span><span class="p">.</span><span class="nf">imshow</span><span class="p">(</span><span class="n">grain_map</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="n">cmaps</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
	<span class="n">ax</span><span class="p">.</span><span class="nf">set_title</span><span class="p">(</span><span class="sa">f</span><span class="sh">'</span><span class="s">color map: </span><span class="si">{</span><span class="n">cmaps</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="si">}</span><span class="sh">'</span><span class="p">)</span>
</code></pre></div> </div> </li> <li> <p>실제 미세조직 사진 활용 실습</p> <ul> <li>아래 사진을 <a href="/assets/dat_files/lectures/1_2_data_mse/dualphase_sem.png">여기</a> 눌러서 다운 받자</li> </ul> <p><img src="/assets/dat_files/lectures/1_2_data_mse/dualphase_sem.png" alt="imag"></p> <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="n">PIL</span> <span class="kn">import</span> <span class="n">Image</span>
<span class="kn">import</span> <span class="n">numpy</span> <span class="k">as</span> <span class="n">np</span>
<span class="kn">import</span> <span class="n">matplotlib.pyplot</span> <span class="k">as</span> <span class="n">plt</span>

<span class="n">fn</span><span class="o">=</span><span class="sh">'</span><span class="s">../data/dualphase_sem.png</span><span class="sh">'</span> <span class="c1">## file name을 경로를 포함하여 정확하게 기입해야 한다.
</span><span class="n">img_rgba</span> <span class="o">=</span> <span class="n">Image</span><span class="p">.</span><span class="nf">open</span><span class="p">(</span><span class="n">fn</span><span class="p">)</span> <span class="c1">## PIL, RGBA
</span><span class="n">img_gray</span><span class="o">=</span><span class="n">img_rgba</span><span class="p">.</span><span class="nf">convert</span><span class="p">(</span><span class="sh">'</span><span class="s">L</span><span class="sh">'</span><span class="p">)</span> <span class="c1">## convert image into gray scale
</span><span class="n">img_gray</span><span class="o">=</span><span class="n">np</span><span class="p">.</span><span class="nf">asarray</span><span class="p">(</span><span class="n">img_gray</span><span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="nf">imshow</span><span class="p">(</span><span class="n">img_gray</span><span class="p">,</span><span class="n">cmap</span><span class="o">=</span><span class="sh">'</span><span class="s">gray</span><span class="sh">'</span><span class="p">)</span>
</code></pre></div> </div> <p>위 사진은 ferrite와 martensite가 같이 존재하는 dual-phase 철강 제품의 주사 전자 현미경 사진이다. 이 사진에서 밝은 부분은 ferrite, 어두운 부분은 martensite 상이다. 이를 구분하여 두 상의 ‘분율’을 구해보자.</p> <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="n">PIL</span> <span class="kn">import</span> <span class="n">Image</span>
<span class="kn">import</span> <span class="n">numpy</span> <span class="k">as</span> <span class="n">np</span>
<span class="kn">import</span> <span class="n">matplotlib.pyplot</span> <span class="k">as</span> <span class="n">plt</span>
<span class="n">img</span><span class="o">=</span><span class="n">Image</span><span class="p">.</span><span class="nf">open</span><span class="p">(</span><span class="sh">'</span><span class="s">../data/dualphase_sem.png</span><span class="sh">'</span><span class="p">)</span>
<span class="n">img</span><span class="o">=</span><span class="n">np</span><span class="p">.</span><span class="nf">asarray</span><span class="p">(</span><span class="n">img</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="n">img</span><span class="p">.</span><span class="n">shape</span><span class="p">)</span>

<span class="c1">## Canvas와 사용할 축을 2x2 grid의 형태로 만들자.
</span><span class="n">fig</span><span class="o">=</span><span class="n">plt</span><span class="p">.</span><span class="nf">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span><span class="mi">4</span><span class="p">))</span>
<span class="n">ax1</span><span class="o">=</span><span class="n">fig</span><span class="p">.</span><span class="nf">add_subplot</span><span class="p">(</span><span class="mi">221</span><span class="p">)</span>
<span class="n">ax2</span><span class="o">=</span><span class="n">fig</span><span class="p">.</span><span class="nf">add_subplot</span><span class="p">(</span><span class="mi">222</span><span class="p">)</span>
<span class="n">ax3</span><span class="o">=</span><span class="n">fig</span><span class="p">.</span><span class="nf">add_subplot</span><span class="p">(</span><span class="mi">223</span><span class="p">)</span>
<span class="n">ax4</span><span class="o">=</span><span class="n">fig</span><span class="p">.</span><span class="nf">add_subplot</span><span class="p">(</span><span class="mi">224</span><span class="p">)</span>

<span class="c1">## 첫번째 axis에는 각 화상(pixel)에서 0~255사이의
# 값들이 어떻게 분포하는지 histogram으로 그리자.
</span><span class="n">ax1</span><span class="p">.</span><span class="nf">hist</span><span class="p">(</span><span class="n">img</span><span class="p">.</span><span class="nf">flatten</span><span class="p">())</span>
<span class="c1"># 그리고 그 옆에 불러온 SEM 이미지를 그려보자.
</span><span class="n">ax2</span><span class="p">.</span><span class="nf">imshow</span><span class="p">(</span><span class="n">img</span><span class="p">,</span><span class="n">cmap</span><span class="o">=</span><span class="sh">'</span><span class="s">gray</span><span class="sh">'</span><span class="p">)</span>

<span class="c1">## 아래는 ferrite상과 martensite 상을 구분하는 간단한 예시를 살펴보자.
</span>
<span class="c1">#newimg=img.copy()
#flg=img&gt;img.mean()
#newimg[flg]=255
#newimg[~flg]=0
#h=ax3.hist(newimg.flatten())
#ax4.imshow(newimg,cmap='gray')
#for i, ax in enumerate([ax1,ax3]):
#    ax.set_ylim(0,300000)
</span>
<span class="c1">#white,black=h[0][0],h[0][-1]
#ferrite=white/(white+black)
#martensite=black/(white+black)
#print(ferrite,martensite)
</span></code></pre></div> </div> </li> <li> <p>아래 세 이미지는 한 dual-phase 시편 내의 각기 다른 3 위치에서 촬영한 SEM image이다. 위에서 다뤘던 내용을 익혀 적용하고, 이를 바탕으로 이 시편에서의 ferrite와 martensite 분율을 고르시오.</p> <p><img src="/assets/dat_files/lectures/1_2_data_mse/centercenter.png" alt="imag"> <img src="/assets/dat_files/lectures/1_2_data_mse/edgecenter.png" alt="imag"> <img src="/assets/dat_files/lectures/1_2_data_mse/edgeedge.png" alt="imag"></p> <ul> <li>위 SEM 사진을 다음 링크를 활용해 다운 받자:</li> </ul> <p><a href="/assets/dat_files/lectures/1_2_data_mse/centercenter.png">imag1</a> <a href="/assets/dat_files/lectures/1_2_data_mse/edgecenter.png">imag2</a> <a href="/assets/dat_files/lectures/1_2_data_mse/edgeedge.png">imag3</a></p> </li> </ul> <h2 id="수업-12-2">수업 12-2</h2> <ul> <li>수업 12-1 내용을 Argparse를 활용해 CLI 프로그램으로 작성해보자.</li> <li>EBSD data 분석</li> </ul> <h1 id="week13">Week13</h1> <ul> <li>내삽과 외삽, 선형회귀</li> </ul> <h2 id="수업-13-1">수업 13-1</h2> <h2 id="수업-13-2">수업 13-2</h2> <h1 id="week14">Week14</h1> <h2 id="수업-14-1">수업 14-1</h2> <ul> <li>실습 예시 <ul> <li>금속 합금 조성 (Cu %) vs 전기 전도도</li> </ul> </li> </ul> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="n">numpy</span> <span class="k">as</span> <span class="n">np</span>
<span class="kn">import</span> <span class="n">matplotlib.pyplot</span> <span class="k">as</span> <span class="n">plt</span>

<span class="c1"># 예제: 금속 합금 조성(Cu %) vs 전기 전도도
</span><span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="nf">array</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">15</span><span class="p">,</span> <span class="mi">20</span><span class="p">])</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="nf">array</span><span class="p">([</span><span class="mi">58</span><span class="p">,</span> <span class="mi">55</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="mi">45</span><span class="p">,</span> <span class="mi">42</span><span class="p">])</span>  <span class="c1"># 전도도 W/mK
</span>
<span class="n">plt</span><span class="p">.</span><span class="nf">scatter</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="sh">'</span><span class="s">b</span><span class="sh">'</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="sh">'</span><span class="s">Data</span><span class="sh">'</span><span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="nf">xlabel</span><span class="p">(</span><span class="sh">"</span><span class="s">Cu content [%]</span><span class="sh">"</span><span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="nf">ylabel</span><span class="p">(</span><span class="sh">"</span><span class="s">Electrical Conductivity [W/mK]</span><span class="sh">"</span><span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="nf">title</span><span class="p">(</span><span class="sh">"</span><span class="s">Conductivity vs Cu content</span><span class="sh">"</span><span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="nf">grid</span><span class="p">(</span><span class="bp">True</span><span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="nf">legend</span><span class="p">()</span>
<span class="n">plt</span><span class="p">.</span><span class="nf">show</span><span class="p">()</span>
</code></pre></div></div> <h2 id="수업-14-2">수업 14-2</h2> <h1 id="week15-기말고사">Week15 (기말고사)</h1> <h2 id="수업-15-1">수업 15-1</h2> <h2 id="수업-15-2">수업 15-2</h2> </d-article> <d-appendix> <d-footnote-list></d-footnote-list> <d-citation-list></d-citation-list> </d-appendix> <d-bibliography src="/assets/bibliography/"></d-bibliography> <d-article> <h2 class="text-3xl font-semibold mb-4 mt-12">Enjoy Reading This Article?</h2> <p class="mb-2">Here are some more articles you might like to read next:</p> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2025/NIST_JSL/">NIST 교환 학생 소식</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2025/numisheet/">2025 July, NUMISHEET 학회 참석 및 발표</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2024/LANL-visit/">2024 July, LANL 방문</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2024/tabs/">a post with tabs</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2024/typograms/">a post with typograms</a> </li> <br> <br> </d-article> </div> <footer class="fixed-bottom" role="contentinfo"> <div class="container mt-0"> © Copyright 2025 . Powered by <a href="https://jekyllrb.com/" target="_blank" rel="external nofollow noopener">Jekyll</a> with <a href="https://github.com/alshedivat/al-folio" rel="external nofollow noopener" target="_blank">al-folio</a> theme. Hosted by <a href="https://pages.github.com/" target="_blank" rel="external nofollow noopener">GitHub Pages</a>. Photos from <a href="https://unsplash.com" target="_blank" rel="external nofollow noopener">Unsplash</a>. Last updated: September 19, 2025. </div> </footer> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script src="/assets/js/bootstrap.bundle.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script src="/assets/js/distillpub/overrides.js"></script> <script defer src="https://cdn.jsdelivr.net/npm/mermaid@10.7.0/dist/mermaid.min.js" integrity="sha256-TtLOdUA8mstPoO6sGvHIGx2ceXrrX4KgIItO06XOn8A=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/d3@7.8.5/dist/d3.min.js" integrity="sha256-1rA678n2xEx7x4cTZ5x4wpUCj6kUMZEZ5cxLSVSFWxw=" crossorigin="anonymous"></script> <script defer src="/assets/js/mermaid-setup.js?38ca0a0126f7328d2d9a46bad640931f" type="text/javascript"></script> <script defer src="https://tikzjax.com/v1/tikzjax.js" integrity="sha256-+1qyucCXRZJrCg3lm3KxRt/7WXaYhBid4/1XJRHGB1E=" crossorigin="anonymous"></script> <script src="/assets/js/typograms.js?062e75bede72543443762dc3fe36c7a5"></script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.1.0/dist/medium-zoom.min.js" integrity="sha256-ZgMyDAIYDYGxbcpJcfUnYwNevG/xi9OHKaR/8GK+jWc=" crossorigin="anonymous"></script> <script defer src="/assets/js/zoom.js?85ddb88934d28b74e78031fd54cf8308"></script> <script src="/assets/js/no_defer.js?2781658a0a2b13ed609542042a859126"></script> <script defer src="/assets/js/common.js?e0514a05c5c95ac1a93a8dfd5249b92e"></script> <script defer src="/assets/js/copy_code.js?c8a01c11a92744d44b093fc3bda915df" type="text/javascript"></script> <script defer src="/assets/js/jupyter_new_tab.js?d9f17b6adc2311cbabd747f4538bb15f"></script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-mml-chtml.js" integrity="sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI=" crossorigin="anonymous"></script> <script src="/assets/js/mathjax-setup.js?a5bb4e6a542c546dd929b24b8b236dfd"></script> <script defer src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6" crossorigin="anonymous"></script> <script async src="https://www.googletagmanager.com/gtag/js?id=G-3ZBKY64YVH"></script> <script defer src="/assets/js/google-analytics-setup.js"></script> <script defer src="/assets/js/progress-bar.js?2f30e0e6801ea8f5036fa66e1ab0a71a" type="text/javascript"></script> <script src="/assets/js/tabs.min.js?b8748955e1076bbe0dabcf28f2549fdc"></script> <script src="/assets/js/vanilla-back-to-top.min.js?f40d453793ff4f64e238e420181a1d17"></script> <script>
    addBackToTop();
  </script> <script type="module" src="/assets/js/search/ninja-keys.min.js?a3446f084dcaecc5f75aa1757d087dcf"></script> <ninja-keys hidebreadcrumbs noautoloadmdicons placeholder="Type to start searching"></ninja-keys> <script src="/assets/js/search-setup.js?6c304f7b1992d4b60f7a07956e52f04a"></script> <script src="/assets/js/search-data.js"></script> <script src="/assets/js/shortcut-key.js?6f508d74becd347268a7f822bca7309d"></script> </body> </html>