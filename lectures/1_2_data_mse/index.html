<!DOCTYPE html> <html lang="en"> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title> 데이터 재료과학 | 국립창원대학교 재료역학 연구실 </title> <meta name="author" content=" "> <meta name="description" content="데이터 분석/해석 및 시각화(그래프) 등 기초 컴퓨터 활용 능력"> <meta name="keywords" content="jekyll, jekyll-theme, academic-website"> <link rel="stylesheet" href="/assets/css/bootstrap.min.css?a4b3f509e79c54a512b890d73235ef04"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"> <link defer rel="stylesheet" href="/assets/css/academicons.min.css?f0b7046b84e425c55f3463ac249818f5"> <link defer rel="stylesheet" href="/assets/css/scholar-icons.css?62b2ac103a88034e6882a5be5f3e2772"> <link defer rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons&amp;display=swap"> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-github.css?591dab5a4e56573bf4ef7fd332894c99" media="" id="highlight_theme_light"> <link defer href="/assets/css/bootstrap-toc.min.css?6f5af0bb9aab25d79b2448143cbeaa88" rel="stylesheet"> <link rel="shortcut icon" href="data:image/svg+xml,&lt;svg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20100%20100%22&gt;&lt;text%20y=%22.9em%22%20font-size=%2290%22&gt;%E2%9A%9B%EF%B8%8F&lt;/text&gt;&lt;/svg&gt;"> <link rel="stylesheet" href="/assets/css/main.css?d41d8cd98f00b204e9800998ecf8427e"> <link rel="canonical" href="https://youngung.github.io/lectures/1_2_data_mse/"> <script src="/assets/js/theme.js?a81d82887dd692e91686b43de4542f18"></script> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-native.css?5847e5ed4a4568527aa6cfab446049ca" media="none" id="highlight_theme_dark"> <script>
    initTheme();
  </script> </head> <body class="fixed-top-nav "> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top" role="navigation"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/"> 국립창원대학교 재료역학 연구실 </a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/">about </a> </li> <li class="nav-item "> <a class="nav-link" href="/blog/">blog </a> </li> <li class="nav-item "> <a class="nav-link" href="/publications/">publications </a> </li> <li class="nav-item active"> <a class="nav-link" href="/lectures/">lectures <span class="sr-only">(current)</span> </a> </li> <li class="nav-item "> <a class="nav-link" href="/projects/">projects </a> </li> <li class="nav-item "> <a class="nav-link" href="/repositories/">repositories </a> </li> <li class="nav-item "> <a class="nav-link" href="/cv/">cv </a> </li> <li class="nav-item "> <a class="nav-link" href="/people/">people </a> </li> <li class="nav-item dropdown "> <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">submenus </a> <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdown"> <a class="dropdown-item " href="/books/">bookshelf</a> <div class="dropdown-divider"></div> <a class="dropdown-item " href="/blog/">blog</a> </div> </li> <li class="nav-item"> <button id="search-toggle" title="Search" onclick="openSearchModal()"> <span class="nav-link">ctrl k <i class="ti ti-search"></i></span> </button> </li> <li class="toggle-container"> <button id="light-toggle" title="Change theme"> <i class="ti ti-sun-moon" id="light-toggle-system"></i> <i class="ti ti-moon-filled" id="light-toggle-dark"></i> <i class="ti ti-sun-filled" id="light-toggle-light"></i> </button> </li> </ul> </div> </div> </nav> <progress id="progress" value="0"> <div class="progress-container"> <span class="progress-bar"></span> </div> </progress> </header> <div class="container mt-5" role="main"> <div class="row"> <div class="col-sm-3"> <nav id="toc-sidebar" class="sticky-top"></nav> </div> <div class="col-sm-9"> <div class="post"> <header class="post-header"> <h1 class="post-title">데이터 재료과학</h1> <p class="post-description">데이터 분석/해석 및 시각화(그래프) 등 기초 컴퓨터 활용 능력</p> </header> <article> <div class="language-yml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">toc</span><span class="pi">:</span>
  <span class="na">beginning</span><span class="pi">:</span> <span class="kc">true</span>
  <span class="na">sidebar</span><span class="pi">:</span> <span class="s">left</span>
</code></pre></div></div> <h1 id="orientation">Orientation</h1> <ul> <li>국립창원대학교 재료금속공학과 <ul> <li><a href="mailto:yjeong@changwon.ac.kr">이메일</a></li> <li><a href="https://youngung.github.io">웹페이지</a></li> </ul> </li> <li>재료공학 전공자에게 필요한 데이터 분석/해석 및 시각화(그래프) 등 기초 컴퓨터 활용 능력을 길러주기 위한 교과목.</li> <li> <a href="www.python.org">Python</a> 언어를 활용하고, <a href="www.jupyter.org">Jupyter</a> </li> <li>실습 환경 <ul> <li> <a href="https://code.visualstudio.com" rel="external nofollow noopener" target="_blank">VScode</a> + <a href="www.jupyter.org">Jupyter</a> </li> <li> <a href="www.github.com">GitHub</a> 계정을 만들고 결합하길 권함.</li> <li>Windows, MacOS, Linux 등 다양한 컴퓨터 환경에서 실습 가능함.</li> <li>구글 계정을 활용해서 <a href="https://colab.google" rel="external nofollow noopener" target="_blank">Google Colab</a>과 <a href="https://drive.google.com/" rel="external nofollow noopener" target="_blank">Google Drive</a>을 결함한 형태로 Cloud service를 활용해서, 인터넷 연결된 웹브라우저를 활용해서 실습 가능하나 추천하진 않음.</li> </ul> </li> </ul> <h1 id="수업-목표">수업 목표</h1> <ul> <li>최신 데이터 기반의 툴의 기초적 활용을 익힘 (<a href="www.python.org">Python</a>, <a href="www.jupyter.org">Jupyter</a> 등)</li> <li>이를 활용해 재료공학 기초 문제 해결을 위해 활용 경험</li> <li>기초적 이해를 바탕으로, 재료공학 실전 문제 해결에 응용 경험</li> <li>나아가 더욱 어려운 문제 해결을 위한 필요 지식 습득</li> </ul> <h1 id="week1-수업-소개-규칙-평가-방법-실습-환경-소개">Week1 (수업 소개, 규칙, 평가 방법, 실습 환경 소개)</h1> <h2 id="수업-01-1">수업 01-1</h2> <h3 id="01-1-1-목표">01-1-1 목표</h3> <ul> <li>수업 개요 소개</li> <li>수업 진행 방식 및 규칙 설명</li> <li>수업 평가 소개</li> </ul> <h3 id="01-1-2-orientation">01-1-2 Orientation</h3> <ul> <li>재료공학 전공자에게 필요한 데이터 분석, IO, 해석 및 시각화 (그래프) 등 기초 컴퓨터 활용 능력을 길러주기 위한 강의</li> <li> <strong>전공 선택</strong>이나, 이후 개설될 <strong>수치해석</strong>, <strong>이동현상</strong>, <strong>기초 전산역학</strong> 등의 교과과정의 이해를 위해서 선수강하길 권함.</li> </ul> <h3 id="01-1-3-수업-내용-소개">01-1-3 수업 내용 소개</h3> <h4 id="강의-자료">강의 자료</h4> <ol> <li>강의 자료는 <a href="https://ko.wikipedia.org/wiki/%EB%A7%88%ED%81%AC%EB%8B%A4%EC%9A%B4" rel="external nofollow noopener" target="_blank">markdown</a> 파일로 작성되어, 교수자 홈페이지에 게시됨</li> <li>강의 자료를 <a href="https://code.visualstudio.com" rel="external nofollow noopener" target="_blank">VScode</a>의 <code class="language-plaintext highlighter-rouge">미리보기</code>(preview) 기능을 이용해 깔끔하게 살펴볼 수 있음</li> <li>설명, 교수자가 혼자 혹은 학생과 같이 실습 / 학생 혼자서 실습 / 스스로 예제 복습</li> <li>강의 자료에 실습 가능한 <strong>Python</strong> 코드 snippet은 아래와 같은 박스로 표기됨.</li> </ol> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="nf">print</span><span class="p">(</span><span class="sh">'</span><span class="s">Hello, world</span><span class="sh">'</span><span class="p">)</span>
</code></pre></div></div> <h4 id="실습--코딩">실습 / 코딩</h4> <ul> <li>궁극적으로 적절한 ‘툴’ 활용을 익히는 것이 목표이기 때문에, <strong>코딩</strong>이 필요합니다.</li> <li>코딩은 자전거 타기, 수영하기, 축구하기, 등과 비슷. 반드시 <strong>몸</strong>으로 익혀야 합니다. <ul> <li><code class="language-plaintext highlighter-rouge">물에 몸을 담그지 않고 수영을 배울 수 없다.</code></li> <li><code class="language-plaintext highlighter-rouge">자전거 없이 자전거를 배울 수 있나요?</code></li> <li>개인이 계속해서 쓸 컴퓨터가 없이 코딩을 배우는 건 매우 어렵습니다.</li> <li>할때마다 실습환경에 맞는 컴퓨터 환경을 맞추는 건 어려운 일입니다.</li> <li>따라서 실습에 맞는 개인용 컴퓨터를 <strong>필수</strong>적으로 가지고 있어야 합니다.</li> <li>cloud service나, 학교 전산실습실 이용을 추천하지 않는 이유입니다.</li> </ul> </li> <li>어려운 개념은 반복해서 예습을 풀어보며 <strong>머리</strong> 뿐만 아니라 <strong>몸</strong>(muscle memory)으로 익히기! <ul> <li>원활한 실습/코딩을 위한 조언 <ul> <li>반드시 스스로 실습하기 <ul> <li>예제를 일일이 다 쳐보기</li> <li>결과를 스스로 살펴봐야 합니다.</li> <li>예제를 바꿔서 적용하고 그 변화를 살펴보기.</li> <li>예시로 주어진 프로그램을 ‘한줄씩’, 한 명령어씩 다 뜯어서 살펴보기 (hacking)</li> </ul> </li> <li>반드시 개인용 컴퓨터 필요 - 실습</li> <li>친구/가족에게 빌리세요. 없다면 학교에서 대여도 합니다 - <a href="https://chains.changwon.ac.kr/nonstop/lend/sub.php?group_code=e0000010&amp;subgroup_code=es000043" rel="external nofollow noopener" target="_blank">링크</a> <ul> <li>그외 기타 사정으로 수업을 듣고 싶으나 노트북 준비가 어렵다면 교수에게 상담 요청하시오.</li> </ul> </li> </ul> </li> </ul> </li> <li>영문 키보드 반드시 숙지 필요 (영타가 느리면 그만큼 학습이 느려집니다.)</li> <li>각종 기호들 위치 익히기! 평소에 쓰지 않은 다양한 부호가 컴퓨터에 있습니다. 위치와 생김새, 이름을 익혀야 하겠습니다. <ul> <li>`: accent</li> <li>’: single quotation mark</li> <li>”: double quotation mark</li> <li>!: exclamation mark</li> <li>@: ‘at’</li> <li>#: number sign (sharp)</li> <li>$: dollar sign</li> <li>%: percent</li> <li>^: caret</li> <li>&amp;: ampersand</li> <li>*: asterisk</li> <li>(: left parenthesis</li> <li>): right parenthesis</li> <li>-: dash</li> <li>=: equal sign</li> <li>,: comma</li> <li>_: underscore</li> <li>+: plus</li> <li>[: left square bracket</li> <li>]: right square bracket</li> <li>/: slash</li> <li>\: blackslash</li> <li>&lt;: left bracket</li> <li>&gt;: right bracket</li> </ul> </li> <li>수업 시간 예제 반드시 스스로 해보기 <ul> <li>스스로 공부할 때, 혹은 예제를 풀 때 <a href="chatgpt.com">ChatGPT</a>에 도움을 받는 건 좋으나 시험에서는 활용 불가!</li> <li>왜 ChatGPT를 시험에 못 쓰게 하냐면, ChatGPT가 실수하는 것을 알아내고 고칠 수 있는 능력 을 갖추지 못하면…</li> </ul> </li> <li>교수자가 사용하는 도구들: MacOS, MS VScode, 기본 terminal, Jupyter notebook … <ul> <li>하지만, 실습은 Windows, MacOS, Linux .. 등 어디서든 가능합니다.</li> <li> <a href="https://colab.google" rel="external nofollow noopener" target="_blank">Google colab</a>에서는 인터넷 연결만 되어 있다면 Jupyter notebook 실습 가능합니다.</li> <li>수업 중간에 인터넷을 통해 몇몇 Python 패키지를 설치해야 할 수도 있으므로, 교내 와이파이 접속 가능해야 함.</li> </ul> </li> </ul> <h3 id="01-1-4-평가-방법">01-1-4 평가 방법</h3> <ul> <li> <p>출석과 결석 (출석 부를 때 없으면 결석, 수업 시작 30 분 이내 도착하면 이후 <strong>지각</strong>처리)</p> </li> <li> <p>중간/기말 평가</p> <ul> <li>중요한 원리 이해 필요.</li> <li>수업시간 다룬 예제들 중심으로 이해 필요.</li> <li>고득점을 원한다면 변형된 예제들까지 이해하고 적용/응용 가능해야함.</li> </ul> </li> <li> <p>오늘의 과제</p> <ul> <li>파이썬 설치 및 환경 설정 완성 (Python 3.12, JuPyter, VS code, pip)</li> <li> <a href="www.youtube.com">YouTube</a>에서 간단한 Python tutorial 영상 찾아서 보고 따라해보기.</li> <li>영문타자 익히기 - <a href="http://typing.works" rel="external nofollow noopener" target="_blank">여기</a>서 연습해보세요.</li> <li>키보드 기호들의 위치 숙지 필요.</li> <li>교내 인터넷 접속 사전에 해보기.</li> <li> <a href="https://colab.google" rel="external nofollow noopener" target="_blank">Google colab</a>에서 Notebook 만들어 실습해보기.</li> <li> <a href="https://colab.google" rel="external nofollow noopener" target="_blank">Google colab</a>활용한다면 ipad나 갤럭시 탭으로도 실습 가능할 법 합니다. 하지만 여러 이유로 추천하지 않으며, 컴퓨터 활용을 추천합니다.</li> </ul> </li> </ul> <h2 id="수업-01-2">수업 01-2</h2> <h3 id="01-2-1-목표">01-2-1 목표</h3> <ul> <li>파이썬 설치 및 환경 설정 완성 (Python 3.12, JuPyter, VS code, pip)</li> <li>VS code에서 JuPyter 셋업 &amp; 구동할 수 있다.</li> <li>Hello, world</li> <li>실습 예시를 모두 이해하고 풀 수 있다.</li> <li>‘Traceback’이해하고 대처할 수 있다.</li> </ul> <h3 id="01-2-2-내용">01-2-2 내용</h3> <ul> <li>Jupyter notebook 간단한 키조작 가능</li> <li>셀(cell) 만들기, 지우기, 입력, 이동(navigation) <ul> <li>코드 셀</li> <li>Markdown 셀</li> </ul> </li> <li>주석(comment)과 명령문(statement) 구분하기</li> <li>변수 선언과 자료형 (<code class="language-plaintext highlighter-rouge">int</code>, <code class="language-plaintext highlighter-rouge">float</code>, <code class="language-plaintext highlighter-rouge">str</code>, <code class="language-plaintext highlighter-rouge">bool</code>) 이해하기</li> <li>연산자 이해하기 <ul> <li>산술 연산자 (더하기, 빼기, 곱하기, 나누기, 지수, 나머지, 몫 … )</li> <li>비교 연산자 (==, !=, &lt;, &gt;, &gt;=, &lt;=, is, is not, in, not in)</li> <li> <p>논리 연산자 (and or)</p> <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="c1"># 1. 값 비교
</span><span class="nf">print</span><span class="p">(</span><span class="mi">5</span> <span class="o">==</span> <span class="mi">5</span><span class="p">)</span>       <span class="c1"># True (값이 같음)
</span><span class="nf">print</span><span class="p">(</span><span class="mi">5</span> <span class="o">!=</span> <span class="mi">3</span><span class="p">)</span>       <span class="c1"># True (값이 다름)
</span><span class="nf">print</span><span class="p">(</span><span class="mi">7</span> <span class="o">&gt;</span> <span class="mi">2</span><span class="p">)</span>        <span class="c1"># True (7이 2보다 큼)
</span><span class="nf">print</span><span class="p">(</span><span class="mi">3</span> <span class="o">&lt;</span> <span class="mi">7</span><span class="p">)</span>        <span class="c1"># True (3이 7보다 작음)
</span><span class="nf">print</span><span class="p">(</span><span class="mi">5</span> <span class="o">&gt;=</span> <span class="mi">5</span><span class="p">)</span>       <span class="c1"># True (5가 5보다 크거나 같음)
</span><span class="nf">print</span><span class="p">(</span><span class="mi">4</span> <span class="o">&lt;=</span> <span class="mi">6</span><span class="p">)</span>       <span class="c1"># True (4가 6보다 작거나 같음)
</span>
<span class="c1"># 2. 객체 동일성 비교
</span><span class="n">a</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<span class="n">b</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<span class="n">c</span> <span class="o">=</span> <span class="n">a</span>

<span class="nf">print</span><span class="p">(</span><span class="n">a</span> <span class="o">==</span> <span class="n">b</span><span class="p">)</span>       <span class="c1"># True  (값이 같음)
</span><span class="nf">print</span><span class="p">(</span><span class="n">a</span> <span class="ow">is</span> <span class="n">b</span><span class="p">)</span>       <span class="c1"># False (메모리 주소 다름)
</span><span class="nf">print</span><span class="p">(</span><span class="n">a</span> <span class="ow">is</span> <span class="n">c</span><span class="p">)</span>       <span class="c1"># True  (같은 객체)
</span><span class="nf">print</span><span class="p">(</span><span class="n">a</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">b</span><span class="p">)</span>   <span class="c1"># True  (다른 객체)
</span>
<span class="c1"># 3. 포함 여부
</span><span class="n">text</span> <span class="o">=</span> <span class="sh">"</span><span class="s">Fe2O3</span><span class="sh">"</span>
<span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">F</span><span class="sh">"</span> <span class="ow">in</span> <span class="n">text</span><span class="p">)</span>      <span class="c1"># True  ('F'가 문자열에 포함됨)
</span><span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">O</span><span class="sh">"</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">text</span><span class="p">)</span>  <span class="c1"># True  ('O'가 문자열에 없음)
</span>
<span class="n">numbers</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<span class="nf">print</span><span class="p">(</span><span class="mi">2</span> <span class="ow">in</span> <span class="n">numbers</span><span class="p">)</span>     <span class="c1"># True  (리스트에 2가 포함됨)
</span><span class="nf">print</span><span class="p">(</span><span class="mi">5</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">numbers</span><span class="p">)</span> <span class="c1"># True  (리스트에 5가 없음)
</span></code></pre></div> </div> </li> </ul> </li> </ul> <h3 id="01-2-3-실습-예시-1">01-2-3 실습 예시 1</h3> <ul> <li> <a href="https://pypi.org/project/pip/" rel="external nofollow noopener" target="_blank">pip</a> 활용하여 아래 패키지 설치 <ul> <li><a href="https://numpy.org" rel="external nofollow noopener" target="_blank">NumPy</a></li> <li><a href="https://scipy.org" rel="external nofollow noopener" target="_blank">Scipy</a></li> <li><a href="https://matplotlib.org" rel="external nofollow noopener" target="_blank">matplotlib</a></li> <li><a href="https://jupyter.org" rel="external nofollow noopener" target="_blank">Jupyter</a></li> </ul> </li> <li>위 package가 설치된 directory 찾아 보기</li> <li>Windows 환경변수 살펴보기, Zsh, Bash 등 dotfile 살펴보기</li> </ul> <h3 id="01-2-5-실습-예시-2">01-2-5 실습 예시 2</h3> <ul> <li> <p>인치(inch_leng) 길이를 센치미터(cmeter_leng)로 바꿔서 계산. 센치 미터를 인치로 계산해보기.</p> <ul> <li> <p>25 cm는 몇 inch인가?</p> \[25 \text{ cm} \times \frac{0.393 \text{ inch}}{1 \text{ cm}}=25 \text{ cm} \times \frac{0.393 \bcancel{\text{ inch}}}{1 \bcancel{\text{cm}}} \newline =25 \text{ cm} \times 0.393= 9.825 \text{ cm}.\] </li> <li> <p>170 cm는 몇 inch인가?</p> </li> <li> <p>15 inch에다가 50 cm를 더하면 총 길이가 얼마인가?</p> </li> <li> <p>한쪽이 30 cm 다른 한변이 40 inch라면 총 면적은 어떻게 되나?</p> </li> </ul> </li> </ul> <h3 id="01-2-6-실습-예시-3">01-2-6 실습 예시 3</h3> <ul> <li> <p>각도 degree 를 radian으로 바꾸기</p> </li> <li> <p>섭씨(cent_deg)를 화씨(fahr_deg)로, 그리고 화씨(fahr_deg)를 섭씨(cent_deg)로 계산해보기.</p> <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code>   <span class="c1">## 예시
</span>   <span class="n">c</span> <span class="o">=</span> <span class="nf">float</span><span class="p">(</span><span class="nf">input</span><span class="p">(</span><span class="sh">"</span><span class="s">섭씨 온도: </span><span class="sh">"</span><span class="p">))</span>
   <span class="n">f</span> <span class="o">=</span> <span class="n">c</span> <span class="o">*</span> <span class="mi">9</span><span class="o">/</span><span class="mi">5</span> <span class="o">+</span> <span class="mi">32</span>
   <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="si">{</span><span class="n">c</span><span class="si">:</span><span class="p">.</span><span class="mi">2</span><span class="n">f</span><span class="si">}</span><span class="s">C= </span><span class="si">{</span><span class="n">f</span><span class="si">:</span><span class="p">.</span><span class="mi">2</span><span class="n">f</span><span class="si">}</span><span class="s">F</span><span class="sh">"</span><span class="p">)</span>
</code></pre></div> </div> <ul> <li> <p>섭씨 25도는 화씨로 몇도인가?</p> </li> <li> <p>화씨 35도는 섭씨 몇도인가?</p> </li> <li> <p>화씨 20도에 섭씨 -5도를 더하면 화씨와 섭씨로 각각 몇도인가?</p> </li> </ul> </li> </ul> <h3 id="01-2-7-실습-예시-4">01-2-7 실습 예시 4</h3> <ul> <li> <p>세륨의 평균 원자량 계산 (Fundamentals of Materials Science and Engineering, Calister 예제 2.1)</p> <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="c1">#세륨의 동위원소는 4가지 존재한다:
# 각 동위원소의 분율은 아래와 같다.
</span><span class="n">Ce136_f</span> <span class="o">=</span>  <span class="mf">0.185</span>  <span class="c1">#[%]
</span><span class="n">Ce138_f</span> <span class="o">=</span>  <span class="mf">0.251</span>  <span class="c1">#[%]
</span><span class="n">Ce140_f</span> <span class="o">=</span> <span class="mf">88.450</span>  <span class="c1">#[%]
</span><span class="n">Ce142_f</span> <span class="o">=</span> <span class="mf">11.114</span>  <span class="c1">#[%]
# 각 동위원소의 원자량은 아래와 같다.
</span><span class="n">Ce136_w</span> <span class="o">=</span> <span class="mf">135.907</span> <span class="c1">#[amu.]
</span><span class="n">Ce138_w</span> <span class="o">=</span> <span class="mf">137.906</span> <span class="c1">#[amu.]
</span><span class="n">Ce140_w</span> <span class="o">=</span> <span class="mf">139.905</span> <span class="c1">#[amu.]
</span><span class="n">Ce142_w</span> <span class="o">=</span> <span class="mf">141.909</span> <span class="c1">#[amu.]
</span>
<span class="c1"># 세륨의 평균 원자량은 얼마인가?
</span>
</code></pre></div> </div> <p>가상의 원소 M의 평균 원자량 구하는 방법</p> \[\bar{A}_M=\sum_if_{i_M}A_{i_M}\] <p>단순 평균이라면…</p> \[\frac{w^{^{136}Ce}+w^{^{138}Ce}+w^{^{140}Ce}+w^{^{142}Ce}}{4}\] <p>로 구했겠지만, 서로 다른량이 존재하므로 주어진 분율을 활용해야겠다. 즉</p> \[\frac{w^{^{136}Ce}f^{^{136}Ce}+w^{^{138}Ce}f^{^{138}Ce}+w^{^{140}Ce}f^{^{140}Ce}+w^{^{142}Ce}f^{^{142}Ce}}{f^{^{136}Ce}+f^{^{138}Ce}+f^{^{140}Ce}+f^{^{142}Ce}}\] </li> </ul> <h1 id="week2-자료구조-제어-반복">Week2 (자료구조, 제어, 반복)</h1> <ul> <li>목표 <ul> <li>List, Tuple, Dictionary, set</li> <li>조건문과 (conditions), 반복문 (loop) 이해</li> </ul> </li> </ul> <h2 id="수업-02-1">수업 02-1</h2> <h3 id="02-1-1-list-tuple-dictionary-생성수정조회">02-1-1. list, tuple, dictionary 생성/수정/조회</h3> <h4 id="02-1-2-list">02-1-2. List</h4> <ul> <li>특징: <ul> <li>수정 가능(mutable): 추가, 삭제, 변경 가능</li> <li>중복 허용</li> <li>순서 있음 (ordered)</li> <li>여러 자료형 혼합해서 저장 가능</li> </ul> </li> <li> <p>리스트 생성 - 대괄호 사용 <code class="language-plaintext highlighter-rouge">[]</code></p> <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="n">elements</span> <span class="o">=</span> <span class="p">[</span><span class="sh">"</span><span class="s">H</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">He</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">Li</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">Be</span><span class="sh">"</span><span class="p">]</span>
</code></pre></div> </div> </li> <li> <p>요소 접근 (인덱싱; indexing); 0에서 부터 시작</p> <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="nf">print</span><span class="p">(</span><span class="n">elements</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>   <span class="c1"># H
</span></code></pre></div> </div> </li> <li> <p>요소 변경</p> <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="n">elements</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="sh">"</span><span class="s">Helium</span><span class="sh">"</span>
<span class="nf">print</span><span class="p">(</span><span class="n">elements</span><span class="p">)</span>     <span class="c1">#elements = ["H", "Helium", "Li", "Be"]
</span></code></pre></div> </div> </li> <li> <p>요소 추가 / 삭제</p> <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="n">elements</span><span class="p">.</span><span class="nf">append</span><span class="p">(</span><span class="sh">"</span><span class="s">B</span><span class="sh">"</span><span class="p">)</span>   <span class="c1">#elements = ["H", "Helium", "Li", "Be", "B"]
</span><span class="n">elements</span><span class="p">.</span><span class="nf">remove</span><span class="p">(</span><span class="sh">"</span><span class="s">Li</span><span class="sh">"</span><span class="p">)</span>  <span class="c1">#elements = ["H", "Helium", "Be", "B"]
</span></code></pre></div> </div> </li> <li> <p>중복 허용</p> <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="n">elements</span> <span class="o">=</span> <span class="p">[</span><span class="sh">'</span><span class="s">H</span><span class="sh">'</span><span class="p">,</span><span class="sh">'</span><span class="s">He</span><span class="sh">'</span><span class="p">,</span><span class="sh">'</span><span class="s">H</span><span class="sh">'</span><span class="p">]</span>
<span class="nf">print</span><span class="p">(</span><span class="n">elements</span><span class="p">)</span>
</code></pre></div> </div> </li> <li> <p>여러 자료형 혼합</p> <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="n">myList</span><span class="o">=</span><span class="p">[</span><span class="sh">'</span><span class="s">H</span><span class="sh">'</span><span class="p">,</span><span class="mi">203</span><span class="p">,</span><span class="mf">2.3</span><span class="p">,[</span><span class="sh">'</span><span class="s">H</span><span class="sh">'</span><span class="p">,</span><span class="sh">'</span><span class="s">He</span><span class="sh">'</span><span class="p">]]</span>
<span class="n">myMatrix</span><span class="o">=</span><span class="p">[[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],[</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">],[</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">9</span><span class="p">]]</span> <span class="c1">##중첩된 리스트
</span></code></pre></div> </div> </li> <li> <p>언패킹 (unpacking)</p> <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">,</span><span class="n">c</span><span class="p">,</span><span class="n">d</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">]</span>
</code></pre></div> </div> </li> </ul> <h4 id="02-1-3-tuple">02-1-3. tuple</h4> <ul> <li>특징 <ul> <li>수정 불가능 (immutable); 한번 만들어지면 이후 변경 불가능</li> <li>중복 허용</li> <li>순서 있음</li> <li>여러 자료형 혼합해서 저장 가능</li> </ul> </li> <li> <p>튜플 생성 - 소괄호 <code class="language-plaintext highlighter-rouge">()</code> 사용</p> <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code>  <span class="n">colors</span> <span class="o">=</span> <span class="p">(</span><span class="sh">"</span><span class="s">red</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">green</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">blue</span><span class="sh">"</span><span class="p">)</span>
  <span class="c1"># 요소 접근
</span>  <span class="nf">print</span><span class="p">(</span><span class="n">colors</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>   <span class="c1"># green
</span>
  <span class="c1"># 변경 불가 → 아래 코드는 오류 발생
</span>  <span class="c1"># colors[1] = "yellow"
</span>
  <span class="c1"># 튜플 언패킹
</span>  <span class="n">r</span><span class="p">,</span> <span class="n">g</span><span class="p">,</span> <span class="n">b</span> <span class="o">=</span> <span class="n">colors</span>
  <span class="nf">print</span><span class="p">(</span><span class="n">r</span><span class="p">,</span> <span class="n">g</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span>     <span class="c1"># red green blue
</span></code></pre></div> </div> </li> </ul> <h4 id="02-1-4-set">02-1-4. set</h4> <ul> <li>특징 <ul> <li>중복제거: 같은 값이 입력되어도 하나만 남게 됨</li> <li>순서없음</li> <li>인덱싱 불가: list나 tuple과 다름</li> <li>수정 가능 (mutable)</li> <li>원소의 타입에 제한 <strong>있음</strong>:</li> </ul> </li> <li> <p>실습</p> <ul> <li> <p>실습1: 생성</p> <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="c1"># 중괄호 {} 사용
</span><span class="n">s1</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">}</span>
<span class="nf">print</span><span class="p">(</span><span class="n">s1</span><span class="p">)</span>  <span class="c1"># {1, 2, 3}
</span>
<span class="c1"># set() 함수 사용
</span><span class="n">s2</span> <span class="o">=</span> <span class="nf">set</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>
<span class="nf">print</span><span class="p">(</span><span class="n">s2</span><span class="p">)</span>  <span class="c1"># {1, 2, 3} (중복 제거)
</span>
<span class="c1"># 빈 set 생성 시는 set()만 가능
</span><span class="n">empty_set</span> <span class="o">=</span> <span class="nf">set</span><span class="p">()</span>
<span class="nf">print</span><span class="p">(</span><span class="n">empty_set</span><span class="p">)</span>  <span class="c1"># set()
</span></code></pre></div> </div> </li> <li> <p>실습2: 변경</p> <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="n">s</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">}</span>

<span class="c1"># 추가
</span><span class="n">s</span><span class="p">.</span><span class="nf">add</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>           <span class="c1"># {1, 2, 3, 4}
</span><span class="n">s</span><span class="p">.</span><span class="nf">update</span><span class="p">([</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">])</span>   <span class="c1"># {1, 2, 3, 4, 5, 6} (여러 개 추가)
</span>
<span class="c1"># 삭제
</span><span class="n">s</span><span class="p">.</span><span class="nf">remove</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>        <span class="c1"># {1, 2, 4, 5, 6} (없는 값 제거 시 오류 발생)
</span><span class="n">s</span><span class="p">.</span><span class="nf">discard</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>      <span class="c1"># 없는 값 제거해도 오류 없음
</span><span class="n">s</span><span class="p">.</span><span class="nf">pop</span><span class="p">()</span>            <span class="c1"># 임의의 값 제거 후 반환 (순서 없으니 랜덤)
</span></code></pre></div> </div> </li> </ul> </li> </ul> <h4 id="02-1-5-dictionary">02-1-5. Dictionary</h4> <ul> <li>특징 <ul> <li>키(key)와 값(value)을 짝지어(패어) 저장하는 자료구조.</li> <li>순서 있음</li> <li>값 중복 가능</li> <li>키는 변경 불가능(immutable)</li> </ul> </li> <li> <p>실습</p> <ul> <li> <p>실습1: 생성</p> <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="c1"># - 딕셔너리 생성
</span><span class="n">Fe</span> <span class="o">=</span> <span class="p">{</span>
    <span class="sh">"</span><span class="s">name</span><span class="sh">"</span><span class="p">:</span> <span class="sh">"</span><span class="s">iron</span><span class="sh">"</span><span class="p">,</span>
    <span class="sh">"</span><span class="s">structure</span><span class="sh">"</span><span class="p">:</span> <span class="sh">'</span><span class="s">fcc</span><span class="sh">'</span><span class="p">,</span>
    <span class="sh">"</span><span class="s">density</span><span class="sh">"</span><span class="p">:</span> <span class="sh">"</span><span class="s">7.874</span><span class="sh">"</span><span class="p">,</span>
    <span class="sh">"</span><span class="s">density_unit</span><span class="sh">"</span><span class="p">:</span> <span class="sh">'</span><span class="s">g/cm^3</span><span class="sh">'</span>
<span class="p">}</span>
</code></pre></div> </div> </li> <li> <p>실습2: 값 접근(access)</p> <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="nf">print</span><span class="p">(</span><span class="n">Fe</span><span class="p">)</span> <span class="c1"># 전체 키/값 짝 출력
</span><span class="nf">print</span><span class="p">(</span><span class="n">Fe</span><span class="p">.</span><span class="nf">keys</span><span class="p">())</span> <span class="c1"># 키들만 출력
</span><span class="nf">print</span><span class="p">(</span><span class="n">Fe</span><span class="p">[</span><span class="sh">'</span><span class="s">name</span><span class="sh">'</span><span class="p">])</span> <span class="c1"># 'name'키의 값
</span><span class="nf">print</span><span class="p">(</span><span class="n">Fe</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="sh">'</span><span class="s">name</span><span class="sh">'</span><span class="p">))</span> <span class="c1"># 'name'키에 해당하는 값
</span></code></pre></div> </div> </li> <li> <p>실습3: 값 변경</p> <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="n">Fe</span><span class="p">.</span><span class="nf">update</span><span class="p">(</span><span class="n">CTE</span><span class="o">=</span><span class="mf">12e-6</span><span class="p">)</span>
</code></pre></div> </div> </li> </ul> </li> </ul> <h4 id="02-1-6--misc">02-1-6. Misc.</h4> <ul> <li> <code class="language-plaintext highlighter-rouge">len</code> built-in function중 하나 <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="n">a</span><span class="o">=</span><span class="p">[</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="sh">'</span><span class="s">a</span><span class="sh">'</span><span class="p">,</span><span class="sh">'</span><span class="s">b</span><span class="sh">'</span><span class="p">]</span>
<span class="nf">len</span><span class="p">(</span><span class="n">a</span><span class="p">)</span> <span class="c1"># 정수 5
</span></code></pre></div> </div> </li> <li>List slicing <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="n">a</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">]</span>
<span class="c1"># format
# a[begin:end:step]; end-begin = len(a)
</span><span class="n">a</span><span class="p">[::]</span> <span class="c1"># == a[0:6:1] ## default
</span><span class="n">a</span><span class="p">[</span><span class="mi">1</span><span class="p">::</span><span class="mi">2</span><span class="p">]</span> <span class="c1"># == a[1:6:2]
</span></code></pre></div> </div> </li> </ul> <h4 id="02-1-7-실습">02-1-7 실습.</h4> <ul> <li>1족 원소 기호를 순서대로 포함한 리스트 만들기 (수소, 리튬, 나트륨, 칼륨, 루비듐, 세슘, 프랑슘)</li> <li>Calister 예제 2.1) <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code>  <span class="c1">#세륨의 동위원소는 4가지 존재한다:
</span>  <span class="c1"># 각 동위원소의 분율은 아래와 같다.
</span>  <span class="n">Ce_f</span><span class="o">=</span> <span class="p">[</span><span class="mf">0.185</span><span class="p">,</span> <span class="mf">0.251</span><span class="p">,</span> <span class="mf">88.450</span><span class="p">,</span> <span class="mf">11.114</span><span class="p">]</span>  <span class="c1">#[%]
</span>  <span class="c1"># 각 동위원소의 원자량은 아래와 같다.
</span>  <span class="n">Ce_w</span> <span class="o">=</span> <span class="p">[</span><span class="mf">135.907</span><span class="p">,</span> <span class="mf">137.906</span><span class="p">,</span> <span class="mf">139.905</span><span class="p">,</span> <span class="mf">141.909</span><span class="p">]</span>
  <span class="c1"># 세륨의 평균 원자량은 얼마인가?
</span>  <span class="n">avg</span><span class="o">=</span><span class="p">(</span><span class="n">Ce_f</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">*</span><span class="n">Ce_w</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">+</span> <span class="n">Ce_f</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">*</span><span class="n">Ce_w</span><span class="o">+</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">+</span> <span class="n">Ce_f</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">*</span><span class="n">Ce_w</span><span class="o">+</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">+</span> <span class="n">Ce_f</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="o">*</span><span class="n">Ce_w</span><span class="o">+</span><span class="p">[</span><span class="mi">3</span><span class="p">])</span><span class="o">/</span><span class="p">(</span><span class="n">Ce_f</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">+</span><span class="n">Ce_f</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">+</span><span class="n">Ce_f</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">+</span><span class="n">Ce_f</span><span class="p">[</span><span class="mi">3</span><span class="p">])</span>
  <span class="c1">## average
</span>  <span class="nf">print</span><span class="p">(</span><span class="n">avg</span><span class="p">)</span>
</code></pre></div> </div> </li> </ul> <h2 id="수업-02-2">수업 02-2</h2> <h3 id="02-2-1-if-elif-else-조건문-이해">02-2-1. <code class="language-plaintext highlighter-rouge">if</code>, <code class="language-plaintext highlighter-rouge">elif</code>, <code class="language-plaintext highlighter-rouge">else</code> 조건문 이해</h3> <ul> <li>기본 구조 / 형식</li> </ul> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="k">if</span> <span class="n">조건식</span><span class="p">:</span>
	  <span class="o">&lt;</span><span class="n">실행할</span> <span class="n">명령문1</span><span class="o">&gt;</span>
	  <span class="o">&lt;</span><span class="n">실행할</span> <span class="n">명령문2</span><span class="o">&gt;</span>
	  <span class="o">&lt;</span><span class="p">...</span><span class="o">&gt;</span>
  <span class="k">elif</span> <span class="n">다른조건식</span><span class="p">:</span>
	  <span class="o">&lt;</span><span class="n">실행할</span> <span class="n">명령문1</span><span class="o">&gt;</span>
	  <span class="o">&lt;</span><span class="n">실행할</span> <span class="n">명령문2</span><span class="o">&gt;</span>
	  <span class="o">&lt;</span><span class="p">...</span><span class="o">&gt;</span>
  <span class="k">else</span><span class="p">:</span>
	  <span class="o">&lt;</span><span class="n">실행할</span> <span class="n">명령문1</span><span class="o">&gt;</span>
	  <span class="o">&lt;</span><span class="n">실행할</span> <span class="n">명령문2</span><span class="o">&gt;</span>
	  <span class="o">&lt;</span><span class="p">...</span><span class="o">&gt;</span>
</code></pre></div></div> <ul> <li>주의 <ul> <li>indent, dedent 에 주의!!</li> <li>콜론 기호 ‘:’ 빼먹지 말 것!</li> </ul> </li> <li> <p>예시</p> <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="c1"># 예: 순수 알루미늄의 녹는점
</span><span class="n">melting_point</span> <span class="o">=</span> <span class="mi">660</span>  <span class="c1">#Celcius degree
</span><span class="n">temperature</span> <span class="o">=</span> <span class="mi">700</span>    <span class="c1">#Celcius degree
</span>
<span class="k">if</span> <span class="n">temperature</span> <span class="o">&lt;</span> <span class="n">melting_point</span><span class="p">:</span>
    <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">Solid state</span><span class="sh">"</span><span class="p">)</span>
<span class="k">elif</span> <span class="n">temperature</span> <span class="o">==</span> <span class="n">melting_point</span><span class="p">:</span>
    <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">Solid and liquid co-exist</span><span class="sh">"</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
    <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">Liquid state</span><span class="sh">"</span><span class="p">)</span>
</code></pre></div> </div> </li> </ul> <h3 id="02-2-2-for-반복문">02-2-2. <code class="language-plaintext highlighter-rouge">for</code> 반복문</h3> <ul> <li>기초 설명 <ul> <li>파이썬의 for 반복문은 <strong>순서가 있는 데이터(시퀀스)</strong>나 <strong>반복 가능한 객체(iterable)</strong>를 순차적으로 꺼내면서 코드를 실행하는 구문.</li> </ul> </li> <li> <p>기본 구조</p> <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code>  <span class="k">for</span> <span class="o">&lt;</span><span class="n">변수</span><span class="o">&gt;</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">반복가능객체</span><span class="o">&gt;</span><span class="p">:</span>
      <span class="o">&lt;</span><span class="n">실행할</span> <span class="n">명령문1</span><span class="o">&gt;</span>
      <span class="o">&lt;</span><span class="n">실행할</span> <span class="n">명령문2</span><span class="o">&gt;</span>
      <span class="o">&lt;</span><span class="p">...</span><span class="o">&gt;</span>
</code></pre></div> </div> </li> <li> <p>대표적으로 <strong>순서가 있는 데이터 시쿼스</strong>로는 List, Tuple, Dictionary 타입의 변수가 있다.</p> <ul> <li> <p>예1</p> <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="n">a</span><span class="o">=</span><span class="p">[</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">]</span> <span class="c1">#list type
</span><span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">a</span><span class="p">:</span>
    <span class="nf">print</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
</code></pre></div> </div> </li> <li> <p>예1</p> <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="n">a</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">]</span> <span class="c1">#list type
</span><span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">a</span><span class="p">[::</span><span class="mi">2</span><span class="p">]:</span> <span class="c1">## 0, 2, 4, 6
</span>    <span class="nf">print</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
</code></pre></div> </div> </li> <li> <p>예2</p> <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="n">a</span><span class="o">=</span><span class="p">(</span><span class="sh">'</span><span class="s">3</span><span class="sh">'</span><span class="p">,[</span><span class="mi">34343</span><span class="p">],</span><span class="mi">5</span><span class="p">)</span> <span class="c1"># tuple type
</span><span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">a</span><span class="p">:</span>
    <span class="nf">print</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
</code></pre></div> </div> </li> <li> <p>예3</p> <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="n">a</span><span class="o">=</span><span class="nf">dict</span><span class="p">(</span><span class="n">a</span><span class="o">=</span><span class="sh">'</span><span class="s">b</span><span class="sh">'</span><span class="p">,</span><span class="n">b</span><span class="o">=</span><span class="sh">'</span><span class="s">1</span><span class="sh">'</span><span class="p">,</span><span class="n">d</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span><span class="n">z</span><span class="o">=</span><span class="p">[])</span> <span class="c1"># (Python 3.7&gt;)
</span><span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">a</span><span class="p">:</span>
    <span class="nf">print</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
</code></pre></div> </div> </li> </ul> </li> <li> <p>주의</p> <ul> <li> <p>indent, dedent 에 주의!!</p> </li> <li> <p>콜론 기호 ‘:’ 빼먹지 말 것!</p> </li> </ul> </li> </ul> <h3 id="02-2-3-built-in-function인-range-len-enumerate를-for와-함께-조합">02-2-3. Built-in function인 <code class="language-plaintext highlighter-rouge">range</code>, <code class="language-plaintext highlighter-rouge">len</code>, <code class="language-plaintext highlighter-rouge">enumerate</code>를 <code class="language-plaintext highlighter-rouge">for</code>와 함께 조합!</h3> <ul> <li> <p>개념</p> <ul> <li> <code class="language-plaintext highlighter-rouge">len()</code> -&gt; 시퀀스 (List, 문자열, 튜플 등)의 <strong>길이(요소 개수)</strong>를 반환</li> <li> <code class="language-plaintext highlighter-rouge">range()</code> → 지정한 범위의 숫자 시퀀스를 생성 (반복문에서 자주 사용)</li> <li> <code class="language-plaintext highlighter-rouge">range</code> 와 <code class="language-plaintext highlighter-rouge">len</code> 함께 활용하여, 인덱스 기반 반복</li> <li> <p><code class="language-plaintext highlighter-rouge">enumerate()</code>로 인덱스와 요소 함께 활용 용이</p> </li> <li> <p>예시</p> <ul> <li> <p>예시1</p> <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="n">fruits</span> <span class="o">=</span> <span class="p">[</span><span class="sh">"</span><span class="s">apple</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">banana</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">cherry</span><span class="sh">"</span><span class="p">]</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="nf">len</span><span class="p">(</span><span class="n">fruits</span><span class="p">)):</span>  <span class="c1"># 0 ~ len(fruits)-1
</span>    <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">Index </span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s">: </span><span class="si">{</span><span class="n">fruits</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
</code></pre></div> </div> </li> <li> <p>예시 2</p> <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="n">specimen_lengths</span> <span class="o">=</span> <span class="p">[</span><span class="mf">10.0</span><span class="p">,</span> <span class="mf">12.3</span><span class="p">,</span> <span class="mf">9.8</span><span class="p">,</span> <span class="mf">11.5</span><span class="p">]</span>  <span class="c1"># cm
</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="nf">len</span><span class="p">(</span><span class="n">specimen_lengths</span><span class="p">)):</span>
    <span class="n">length</span> <span class="o">=</span> <span class="n">specimen_lengths</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
    <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">Specimen </span><span class="si">{</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="si">}</span><span class="s">: </span><span class="si">{</span><span class="n">length</span><span class="si">}</span><span class="s"> cm</span><span class="sh">"</span><span class="p">)</span>
</code></pre></div> </div> </li> <li> <p>예시 3</p> <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="n">word</span> <span class="o">=</span> <span class="sh">"</span><span class="s">steel</span><span class="sh">"</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="nf">len</span><span class="p">(</span><span class="n">word</span><span class="p">)):</span>
    <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">Index </span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s"> → </span><span class="si">{</span><span class="n">word</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
</code></pre></div> </div> </li> <li> <p>예시 4</p> <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="n">fruits</span> <span class="o">=</span> <span class="p">[</span><span class="sh">"</span><span class="s">apple</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">banana</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">cherry</span><span class="sh">"</span><span class="p">]</span>

<span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">fruit</span> <span class="ow">in</span> <span class="nf">enumerate</span><span class="p">(</span><span class="n">fruits</span><span class="p">):</span>
    <span class="nf">print</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">fruit</span><span class="p">)</span>
</code></pre></div> </div> </li> </ul> </li> </ul> </li> </ul> <h3 id="02-2-4-실습-예시">02-2-4. 실습 예시</h3> <ul> <li> <p>예제1: 구구단 출력하기 (x단 입력하면 … )</p> <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="c1">## algorithm
# 1. x단 입력 필요
# 2. 1곱하기부터 9 곱하기까지 '반복'; 예를 들어, y를 1부터 9까지 바꾸며 반복
#    2-1 각 '반복' 마다, x 곱하기 9 출력
</span></code></pre></div> </div> </li> <li> <p>예제2: 1부터 100사이의 정수합 구하기 (loop)</p> </li> <li> <p>예제3: x! 팩토리얼 구하기</p> </li> <li> <p>예제4: 주어진 List에서 최대값과 최소값 찾기 (조건문과 loop 활용)</p> </li> <li> <p>예제5: 2의 제곱근 구하기.</p> <ul> <li> <p>Algorithm</p> \[x_{n+1}=x_n-\frac{(x_n)^2-2}{2x_n}\] </li> <li>파이썬으로 바꾸면 <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="n">x</span><span class="o">=</span><span class="mf">11.</span> <span class="c1">## initial guess
</span><span class="n">x</span><span class="o">=</span><span class="n">x</span><span class="o">-</span><span class="p">(</span><span class="n">x</span><span class="o">**</span><span class="mi">2</span><span class="o">-</span><span class="mi">2</span><span class="p">)</span><span class="o">/</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">x</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="n">x</span><span class="o">=</span><span class="n">x</span><span class="o">-</span><span class="p">(</span><span class="n">x</span><span class="o">**</span><span class="mi">2</span><span class="o">-</span><span class="mi">2</span><span class="p">)</span><span class="o">/</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">x</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="n">x</span><span class="o">=</span><span class="n">x</span><span class="o">-</span><span class="p">(</span><span class="n">x</span><span class="o">**</span><span class="mi">2</span><span class="o">-</span><span class="mi">2</span><span class="p">)</span><span class="o">/</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">x</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="n">x</span><span class="o">=</span><span class="n">x</span><span class="o">-</span><span class="p">(</span><span class="n">x</span><span class="o">**</span><span class="mi">2</span><span class="o">-</span><span class="mi">2</span><span class="p">)</span><span class="o">/</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">x</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
</code></pre></div> </div> </li> <li> <p><code class="language-plaintext highlighter-rouge">for</code> loop를 활용하면 더 근사하게 표현가능하겠다.</p> <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="n">x</span><span class="o">=</span><span class="mf">11.</span> <span class="c1">## initial guess
</span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="mi">5</span><span class="p">):</span>
    <span class="n">x</span><span class="o">=</span><span class="n">x</span><span class="o">-</span><span class="p">(</span><span class="n">x</span><span class="o">**</span><span class="mi">2</span><span class="o">-</span><span class="mi">2</span><span class="p">)</span><span class="o">/</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">x</span><span class="p">)</span>
    <span class="nf">print</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
</code></pre></div> </div> </li> </ul> </li> <li> <p>예제6: (예제5 응용) 3의 제곱근 구하기</p> <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code>  <span class="n">x</span><span class="o">=</span><span class="mf">1.</span> <span class="c1">## initial guess (0이어서는 안된다. 이유는?)
</span>  <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="mi">7</span><span class="p">):</span>
      <span class="n">x</span><span class="o">=</span><span class="n">x</span><span class="o">-</span><span class="p">(</span><span class="n">x</span><span class="o">**</span><span class="mi">2</span><span class="o">-</span><span class="mi">3</span><span class="p">)</span><span class="o">/</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">x</span><span class="p">)</span>
      <span class="nf">print</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
</code></pre></div> </div> </li> <li> <p>예제 7: 4의 제곱근 구하기</p> <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code>  <span class="n">x</span><span class="o">=</span><span class="mf">1.</span> <span class="c1">## initial guess (0이어서는 안된다. 이유는?)
</span>  <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="mi">7</span><span class="p">):</span>
      <span class="n">x</span><span class="o">=</span><span class="n">x</span><span class="o">-</span><span class="p">(</span><span class="n">x</span><span class="o">**</span><span class="mi">2</span><span class="o">-</span><span class="mi">4</span><span class="p">)</span><span class="o">/</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">x</span><span class="p">)</span>
      <span class="nf">print</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
</code></pre></div> </div> </li> <li> <p>예제 8(제곱근 구하기 일반화): a의 제곱근 구하기</p> <ul> <li> <p>Algorithm</p> \[x_{n+1}=x_n-\frac{(x_n)^2-a}{2x_n}\] <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="n">a</span><span class="o">=</span><span class="mi">30</span> <span class="c1"># a에 다른 숫자를 넣어서 반복해보자.
</span><span class="n">x</span><span class="o">=</span><span class="mf">1.</span> <span class="c1">## initial guess (0이어서는 안된다. 이유는?)
</span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="mi">7</span><span class="p">):</span>
    <span class="n">x</span><span class="o">=</span><span class="n">x</span><span class="o">-</span><span class="p">(</span><span class="n">x</span><span class="o">**</span><span class="mi">2</span><span class="o">-</span><span class="n">a</span><span class="p">)</span><span class="o">/</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">x</span><span class="p">)</span>
    <span class="nf">print</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">x</span><span class="o">**</span><span class="mi">2</span><span class="o">-</span><span class="n">a</span><span class="p">)</span>
</code></pre></div> </div> </li> <li> <p>initial guess를 -1로 사용해서 되풀이 해보자.</p> </li> </ul> </li> <li> <p>주양자수 \(n\)에 의해 결정되는 부 양자수 \(l,m_l\) 출력하기.</p> <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="c1"># Calister 책의 표 2.1
</span><span class="n">n</span><span class="o">=</span><span class="mi">3</span> <span class="c1">## 주양자수,
</span><span class="nf">print</span><span class="p">(</span><span class="sh">'</span><span class="s">n:</span><span class="sh">'</span><span class="p">,</span><span class="n">n</span><span class="p">)</span>
<span class="n">no_electrons</span><span class="o">=</span><span class="mi">0</span>
<span class="k">for</span> <span class="n">l_value</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">n</span><span class="p">):</span> <span class="c1"># 0, 1, .., (n-1) 까지
</span>    <span class="nf">print</span><span class="p">(</span><span class="sh">'</span><span class="se">\t</span><span class="s">l:</span><span class="sh">'</span><span class="p">,</span><span class="n">l_value</span><span class="p">)</span> <span class="c1">#주의 '\t' string은 키보드의 탭기호를 뜻한다.
</span>    <span class="n">low</span><span class="o">=-</span><span class="n">l_value</span>
    <span class="n">up</span><span class="o">=+</span><span class="n">l_value</span>
    <span class="nf">print</span><span class="p">(</span><span class="sh">'</span><span class="se">\t\t</span><span class="s">ml:</span><span class="sh">'</span><span class="p">,)</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="n">low</span><span class="p">,</span><span class="n">up</span><span class="o">+</span><span class="mi">1</span><span class="p">):</span> <span class="c1"># -l, -l+1, ... 1, 0, 1, ... l-1, l
</span>        <span class="nf">print</span><span class="p">(</span><span class="sh">'</span><span class="se">\t\t\t</span><span class="sh">'</span><span class="p">,</span><span class="n">i</span><span class="p">)</span>
        <span class="n">no_electrons</span><span class="o">=</span><span class="n">no_electrons</span><span class="o">+</span><span class="mi">2</span> <span class="c1"># 각 state마다 up/down spin 전자, 따라서 2개씩.
</span><span class="nf">print</span><span class="p">(</span><span class="sh">'</span><span class="s">total number of electrons:</span><span class="sh">'</span><span class="p">,</span><span class="n">no_electrons</span><span class="p">)</span>
</code></pre></div> </div> </li> <li> <p>예시, 10진법 수를 이진법으로 바꾸는 파이썬 script를 작성해보자.</p> </li> </ul> <h1 id="week3-함수-class-module-import-">Week3 (함수, class, module, <strong>import</strong> )</h1> <ul> <li>목표 <ul> <li>함수와 클래스, 그리고 모듈의 이해</li> <li>함수를 만들어, 모듈화 시키고 CLI에서 실행할 수 있다.</li> </ul> </li> </ul> <h2 id="수업-03-1-함수와-클래스-익히기">수업 03-1 (함수와 클래스 익히기)</h2> <h3 id="03-1-1-함수란">03-1-1 함수란</h3> <ul> <li> <p>특정한 작업(task)를 수행하는 묶음.</p> </li> <li> <p>basics: <code class="language-plaintext highlighter-rouge">def</code>로 정의하며, <strong>재사용</strong> 가능하고(reuseable), 입력(arguments), 출력(return)값을 가질 수 있습니다. 입력과 출력이 없는 함수도 있어요.</p> </li> <li> <p>예시1</p> </li> </ul> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="k">def</span> <span class="nf">add</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span> <span class="c1">#함수의 이름이 'add', 입력은 a와 b
</span>	<span class="k">return</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span> <span class="c1"># 출력은 a+b
</span></code></pre></div></div> <ul> <li>예시2</li> </ul> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">sayhi</span><span class="p">():</span> <span class="c1"># 함수의 이름이 'sayhi', 입력과 출력 없음
</span>	<span class="nf">print</span><span class="p">(</span><span class="sh">'</span><span class="s">Hi</span><span class="sh">'</span><span class="p">)</span>
</code></pre></div></div> <ul> <li>예시3</li> </ul> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">func</span><span class="p">(</span><span class="n">a</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span><span class="n">b</span><span class="o">=</span><span class="mi">5</span><span class="p">):</span> <span class="c1"># 함수의 이름이 'func', 입력 a와 b의 default가 있음.
</span>  <span class="sh">"""</span><span class="s">
  a and b are arguments and this function returs a+b
  </span><span class="sh">"""</span>
  <span class="k">return</span> <span class="n">a</span><span class="o">+</span><span class="n">b</span>

<span class="nf">print</span><span class="p">(</span><span class="n">func</span><span class="p">.</span><span class="n">__doc__</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="nf">help</span><span class="p">(</span><span class="n">func</span><span class="p">))</span>
<span class="nf">print</span><span class="p">(</span><span class="nf">help</span><span class="p">(</span><span class="n">help</span><span class="p">))</span>
</code></pre></div></div> <ul> <li>예시 4: 아래 함수를 정의하면 에러가 발생한다. 에러를 읽어보고 이해해보자.</li> </ul> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="n">a</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span><span class="n">b</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span><span class="n">c</span><span class="p">,</span><span class="n">d</span><span class="p">):</span>
	<span class="nf">print</span><span class="p">(</span><span class="n">a</span><span class="o">+</span><span class="n">b</span><span class="p">)</span>
	<span class="nf">print</span><span class="p">(</span><span class="n">c</span><span class="o">+</span><span class="n">d</span><span class="p">)</span>
	<span class="k">return</span> <span class="n">a</span><span class="o">*</span><span class="n">b</span><span class="o">*</span><span class="n">c</span><span class="o">*</span><span class="n">d</span>
</code></pre></div></div> <h3 id="03-1-2-built-in-functions">03-1-2 built-in functions</h3> <ul> <li>특징 <ul> <li>built-in 함수는 파이썬이 기본적으로 제공하는 함수</li> <li>별도의 <strong>import</strong> 없이 언제든 바로 사용 가능; 예 (print, help, …)</li> <li>약 70여 개의 built-in 함수: A full list of built-in functions: <a href="https://docs.python.org/3/library/functions.html" rel="external nofollow noopener" target="_blank">here</a> </li> </ul> </li> </ul> <h3 id="03-1-3-class">03-1-3 class</h3> <ul> <li>개념 <ul> <li>클래스(class)는 객체(object)를 만드는 틀(설계도)</li> <li>클래스를 활용해 데이터와 기능을 한꺼번에 통합</li> <li>객체지향 프로그래밍(OOP, Object-Oriented Programming)의 핵심 개념</li> <li>클래스 안에는 속성(변수, attribute)과 메서드(함수, method)</li> <li>Creating a new class creates a new type of object, allowing new instances of that type to be made.</li> </ul> </li> <li>예시</li> </ul> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>	<span class="k">class</span> <span class="nc">Atom</span><span class="p">:</span>
		<span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="n">self</span><span class="p">,</span><span class="n">name</span><span class="p">):</span>
			<span class="n">self</span><span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>
		<span class="k">def</span> <span class="nf">add_density</span><span class="p">(</span><span class="n">self</span><span class="p">,</span><span class="n">density</span><span class="p">):</span>
			<span class="n">self</span><span class="p">.</span><span class="n">density</span><span class="o">=</span><span class="n">density</span>
		<span class="k">def</span> <span class="nf">add_structure</span><span class="p">(</span><span class="n">self</span><span class="p">,</span><span class="n">structure</span><span class="p">):</span>
			<span class="n">self</span><span class="p">.</span><span class="n">structure</span><span class="o">=</span><span class="n">structure</span>

	<span class="c1">## usage examples
</span>	<span class="n">myFe</span><span class="o">=</span><span class="nc">Atom</span><span class="p">()</span> <span class="c1"># Atom 클래스를 활용
</span>	<span class="n">myFe</span><span class="p">.</span><span class="nf">add_density</span><span class="p">(</span><span class="mf">7.87</span><span class="p">)</span> <span class="c1">#7.87g/cm^3
</span>	<span class="n">myFe</span><span class="p">.</span><span class="nf">add_structure</span><span class="p">(</span><span class="sh">'</span><span class="s">BCC</span><span class="sh">'</span><span class="p">)</span>

	<span class="n">myAl</span><span class="o">=</span><span class="nc">Atom</span><span class="p">()</span>
	<span class="n">myAl</span><span class="p">.</span><span class="nf">add_density</span><span class="p">(</span><span class="mf">2.70</span><span class="p">)</span>
	<span class="n">myAl</span><span class="p">.</span><span class="nf">add_structure</span><span class="p">(</span><span class="sh">'</span><span class="s">FCC</span><span class="sh">'</span><span class="p">)</span>
</code></pre></div></div> <ul> <li> <p><code class="language-plaintext highlighter-rouge">getattr</code> built-in 함수</p> <ul> <li> <p>기본문법</p> <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="nf">getattr</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="n">name</span><span class="p">[,</span> <span class="n">default</span><span class="p">])</span>
</code></pre></div> </div> <ul> <li>object : 속성을 가져올 대상 객체</li> <li>name : 속성 이름 (문자열로 지정)</li> <li>default (선택적) : 해당 속성이 없을 경우 반환할 기본값 (없으면 AttributeError 발생)</li> </ul> </li> </ul> </li> </ul> <h3 id="03-1-4-클래스-예제">03-1-4 클래스 예제</h3> <ul> <li> <p>합금(Alloy) 클래스 만들기</p> <ul> <li>설계: 공통 속성 나열해보기 <ul> <li>합금은 모두 ‘이름’ 가지고 있음</li> <li>‘인장강도’</li> <li>‘연성’</li> <li>‘밀도’</li> </ul> </li> </ul> </li> </ul> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="k">class</span> <span class="nc">Alloy</span><span class="p">:</span>
	<span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">tensile_strength</span><span class="p">,</span> <span class="n">ductility</span><span class="p">,</span> <span class="n">density</span><span class="p">):</span>
		<span class="n">self</span><span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>
		<span class="n">self</span><span class="p">.</span><span class="n">tensile_strength</span> <span class="o">=</span> <span class="n">tensile_strength</span>  <span class="c1"># MPa
</span>		<span class="n">self</span><span class="p">.</span><span class="n">ductility</span> <span class="o">=</span> <span class="n">ductility</span>                <span class="c1"># %
</span>		<span class="n">self</span><span class="p">.</span><span class="n">density</span> <span class="o">=</span> <span class="n">density</span>                    <span class="c1"># g/cm^3
</span>
  <span class="c1"># 합금 데이터
</span>  <span class="n">a1</span> <span class="o">=</span> <span class="nc">Alloy</span><span class="p">(</span><span class="sh">"</span><span class="s">Ni-Cu</span><span class="sh">"</span><span class="p">,</span> <span class="mi">450</span><span class="p">,</span> <span class="mi">35</span><span class="p">,</span> <span class="mf">8.9</span><span class="p">)</span>
  <span class="n">a2</span> <span class="o">=</span> <span class="nc">Alloy</span><span class="p">(</span><span class="sh">"</span><span class="s">Al-Mg</span><span class="sh">"</span><span class="p">,</span> <span class="mi">320</span><span class="p">,</span> <span class="mi">25</span><span class="p">,</span> <span class="mf">2.7</span><span class="p">)</span>
  <span class="n">a3</span> <span class="o">=</span> <span class="nc">Alloy</span><span class="p">(</span><span class="sh">"</span><span class="s">Ti-6Al-4V</span><span class="sh">"</span><span class="p">,</span> <span class="mi">900</span><span class="p">,</span> <span class="mi">14</span><span class="p">,</span> <span class="mf">4.4</span><span class="p">)</span>

  <span class="n">alloys</span> <span class="o">=</span> <span class="p">[</span><span class="n">a1</span><span class="p">,</span> <span class="n">a2</span><span class="p">,</span> <span class="n">a3</span><span class="p">]</span>

  <span class="c1"># 특정 물성(property) 가져오기
</span>  <span class="n">property_to_check</span> <span class="o">=</span> <span class="sh">"</span><span class="s">tensile_strength</span><span class="sh">"</span>  <span class="c1"># 여기만 바꾸면 됨
</span>
  <span class="k">for</span> <span class="n">alloy</span> <span class="ow">in</span> <span class="n">alloys</span><span class="p">:</span>
	  <span class="n">value</span> <span class="o">=</span> <span class="nf">getattr</span><span class="p">(</span><span class="n">alloy</span><span class="p">,</span> <span class="n">property_to_check</span><span class="p">,</span> <span class="sh">"</span><span class="s">N/A</span><span class="sh">"</span><span class="p">)</span>
	  <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="si">{</span><span class="n">alloy</span><span class="p">.</span><span class="n">name</span><span class="si">}</span><span class="s">: </span><span class="si">{</span><span class="n">property_to_check</span><span class="si">}</span><span class="s"> = </span><span class="si">{</span><span class="n">value</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
</code></pre></div></div> <ul> <li>List type은 클래스다. <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="n">numbers</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>   <span class="c1"># new instance of 'List' object (internal data)
</span>
<span class="n">numbers</span><span class="p">.</span><span class="nf">append</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span> <span class="c1"># append is one of the methods in List class.
</span>                  <span class="c1"># It changes the internal data
</span></code></pre></div> </div> </li> <li> <p>새로운 리스트와 비슷한 타입을 데이터/클래스를 다음과 같이 작성할 수도 있다!</p> <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">MyList</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">items</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">items</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="n">self</span><span class="p">.</span><span class="n">items</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">self</span><span class="p">.</span><span class="n">items</span> <span class="o">=</span> <span class="n">items</span>

    <span class="k">def</span> <span class="nf">append</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="n">self</span><span class="p">.</span><span class="n">items</span> <span class="o">+=</span> <span class="p">[</span><span class="n">value</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">__len__</span><span class="p">(</span><span class="n">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="nf">len</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">items</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__getitem__</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">index</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">self</span><span class="p">.</span><span class="n">items</span><span class="p">[</span><span class="n">index</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">__str__</span><span class="p">(</span><span class="n">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="nf">str</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">items</span><span class="p">)</span>
</code></pre></div> </div> <p>그리고 아래에 괕이 실습해보자.</p> <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="n">mylist</span> <span class="o">=</span> <span class="nc">MyList</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span> <span class="c1">## 앞서 선언된 MyList 클래스.
</span><span class="nf">print</span><span class="p">(</span><span class="n">mylist</span><span class="p">)</span>          <span class="c1"># [1, 2, 3]
</span>
<span class="n">mylist</span><span class="p">.</span><span class="nf">append</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="n">mylist</span><span class="p">)</span>          <span class="c1"># [1, 2, 3, 4]
</span>
<span class="nf">print</span><span class="p">(</span><span class="nf">len</span><span class="p">(</span><span class="n">mylist</span><span class="p">))</span>     <span class="c1"># 4
</span><span class="nf">print</span><span class="p">(</span><span class="n">mylist</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>       <span class="c1"># 3
</span></code></pre></div> </div> </li> </ul> <h3 id="03-1-5-여러-함수-만들어-보기">03-1-5 여러 함수 만들어 보기</h3> <ul> <li> <p>Hooke’s law</p> \[\sigma = E \varepsilon\] <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">hooke</span><span class="p">(</span><span class="n">modulus</span><span class="p">,</span><span class="n">epsilon</span><span class="p">):</span>
  <span class="k">return</span> <span class="n">modulus</span> <span class="o">*</span> <span class="n">epsilon</span>
</code></pre></div> </div> </li> <li> <p>Engineering strain &amp; true strain</p> \[\epsilon=\frac{\Delta l}{l_0}\] <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">calc_engi_strain</span><span class="p">(</span><span class="n">l0</span><span class="p">,</span><span class="n">l1</span><span class="p">):</span>
  <span class="n">delta_l</span><span class="o">=</span><span class="n">l1</span><span class="o">-</span><span class="n">l0</span>
  <span class="k">return</span> <span class="n">delta_l</span><span class="o">/</span><span class="n">l0</span>
</code></pre></div> </div> </li> <li> <p>True strain</p> \[\varepsilon=\ln(\epsilon+1)\] <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">calc_true_strain</span><span class="p">(</span><span class="n">engi_eps</span><span class="p">):</span>
  <span class="kn">import</span> <span class="n">math</span>
  <span class="n">true_eps</span><span class="o">=</span><span class="n">math</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="mi">1</span><span class="o">+</span><span class="n">engi_eps</span><span class="p">)</span> <span class="c1">## log function with base of e.
</span>  <span class="k">return</span> <span class="n">true_eps</span>
</code></pre></div> </div> </li> <li> <p>예시: 길이 변화를 주면 true strain을 계산하는 함수를 작성하시오.</p> </li> <li> <p>Schmid law</p> \[\tau=\sigma \cos\phi \cos\lambda\] <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">schmid</span><span class="p">(</span><span class="n">sigma</span><span class="p">,</span><span class="n">phi</span><span class="p">,</span><span class="n">lamb</span><span class="p">):</span>
  <span class="sh">"""</span><span class="s">
  Arguments
  ---------
  sigma: float
    uniaxial stress
  phi: float (in radian)
    angle between the slip plane normal and the loading direction
  lamb: float (in radian)
    angle between the slip direction and the loading direction

  Returns
  -------
  Schmid factor
  </span><span class="sh">"""</span>
  <span class="kn">import</span> <span class="n">math</span>
  <span class="k">return</span> <span class="n">sigma</span><span class="o">*</span><span class="n">math</span><span class="p">.</span><span class="nf">cos</span><span class="p">(</span><span class="n">phi</span><span class="p">)</span><span class="o">*</span><span class="n">math</span><span class="p">.</span><span class="nf">cos</span><span class="p">(</span><span class="n">lamb</span><span class="p">)</span>
</code></pre></div> </div> </li> <li> <p>위치 인자 (*args); tuple</p> <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">poly</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="o">*</span><span class="n">args</span><span class="p">):</span>
    <span class="sh">"""</span><span class="s">
    polynomial function

    y = a x^n + b x^(n-1) + c x^(n-2) ... z x^0

    Arguments
    ---------
    x,*args

    Returns
    -------
    y
    </span><span class="sh">"""</span>
    <span class="n">n</span><span class="o">=</span><span class="nf">len</span><span class="p">(</span><span class="n">args</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span> <span class="c1"># highest order
</span>    <span class="n">y</span><span class="o">=</span><span class="mf">0.</span>
    <span class="nf">print</span><span class="p">(</span><span class="sh">'</span><span class="s">n,i,arg</span><span class="sh">'</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">arg</span> <span class="ow">in</span> <span class="nf">enumerate</span><span class="p">(</span><span class="n">args</span><span class="p">):</span>
        <span class="c1"># print(n,i,arg)
</span>        <span class="n">y</span><span class="o">+=</span><span class="n">arg</span><span class="o">*</span><span class="p">(</span><span class="n">x</span><span class="o">**</span><span class="n">n</span><span class="p">)</span> <span class="c1">#
</span>        <span class="n">n</span><span class="o">-=</span><span class="mi">1</span>          <span class="c1"># in descending order
</span>    <span class="k">return</span> <span class="n">y</span>
</code></pre></div> </div> </li> <li> <p>키워드 인자 (keyword arguments; **kwargs); dictionary 활용</p> <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">get_sum</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">):</span>
    <span class="nb">sum</span><span class="o">=</span><span class="mf">0.</span>
    <span class="k">for</span> <span class="n">arg</span> <span class="ow">in</span> <span class="n">args</span><span class="p">:</span>
        <span class="nb">sum</span><span class="o">=</span><span class="nb">sum</span><span class="o">+</span><span class="n">arg</span>
    <span class="k">return</span> <span class="nb">sum</span>
<span class="nf">get_sum</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">)</span> <span class="c1">#? what's going to be the correct answer?
</span><span class="k">def</span> <span class="nf">introduce</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="p">.</span><span class="nf">items</span><span class="p">():</span>
        <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s">: </span><span class="si">{</span><span class="n">value</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
<span class="nf">introduce</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="sh">"</span><span class="s">Alice</span><span class="sh">"</span><span class="p">,</span> <span class="n">age</span><span class="o">=</span><span class="mi">25</span><span class="p">,</span> <span class="n">country</span><span class="o">=</span><span class="sh">"</span><span class="s">Korea</span><span class="sh">"</span><span class="p">)</span>
</code></pre></div> </div> </li> </ul> <h2 id="수업-03-2-모듈-만들기">수업 03-2 (모듈 만들기)</h2> <h3 id="03-2-1-개념">03-2-1 개념</h3> <ul> <li>CLI (command-line interface)</li> <li>모듈화 (modularization) <ul> <li>프로그램을 기능별로 나뉘어 파일(모듈)로 분리</li> <li>코드 재사용성(reuseability) 향상, 유지보수 용이, 협업시 효율성 증가</li> <li>모듈(module)은 <code class="language-plaintext highlighter-rouge">.py</code> 파일을 가르킨다.</li> <li>패키지는 여러 모듈의 모임이다.</li> <li>라이브러리(library)는 모듈과 패키지의 모임.</li> </ul> </li> </ul> <h3 id="03-2-2-실습">03-2-2 실습</h3> <h4 id="03-2-3-ex-01-간단한-모듈-만들기-더하기-곱하기">03-2-3. ex 01: 간단한 모듈 만들기 (더하기 곱하기)</h4> <ul> <li> <ol> <li>모듈 작성</li> </ol> <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="c1"># 아래 모듈을 작성 후 mymodule.py로 저장하자.
</span><span class="k">def</span> <span class="nf">add</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span>

<span class="k">def</span> <span class="nf">multiply</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">a</span> <span class="o">*</span> <span class="n">b</span>
</code></pre></div> </div> </li> <li> <ol> <li>그 다음 아래를 활용해 mymodule을 불러와 보자. <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="n">mymodel</span>
<span class="n">mymodule</span><span class="p">.</span><span class="nf">add</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">)</span>
<span class="n">mymodule</span><span class="p">.</span><span class="nf">multiply</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">)</span>
</code></pre></div> </div> </li> </ol> </li> <li> <ol> <li>etc <ul> <li>저장된 위치가 중요함</li> <li>환경변수 (windows의 경우)</li> <li>쉘 닷 파일 (.sh, .bash, .zsh 등등)</li> </ul> </li> </ol> </li> </ul> <h4 id="03-2-4-ex-02-cli에서-arguments-받기">03-2-4. ex 02: CLI에서 arguments 받기</h4> <ul> <li> <ol> <li>기초 모듈 작성 <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="c1"># file: ex02.py
</span><span class="kn">import</span> <span class="n">sys</span>
<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="sh">"</span><span class="s">__main__</span><span class="sh">"</span><span class="p">:</span>
 <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">Arguments:</span><span class="sh">"</span><span class="p">,</span> <span class="n">sys</span><span class="p">.</span><span class="n">argv</span><span class="p">)</span>
</code></pre></div> </div> </li> </ol> </li> <li> <ol> <li>Arguments의 역할을 이해하기 위해서 아래 실행 <ul> <li>2-1. Windows 환경 <div class="language-sh highlighter-rouge"> <div class="highlight"><pre class="highlight"><code>  c:<span class="se">\u</span>sers<span class="se">\u</span>ser<span class="se">\r</span>epo<span class="se">\m</span>se&gt; python ex02.py a b c 1 23
</code></pre></div> </div> </li> <li>2-2. MacOS/Linux 환경 <div class="language-sh highlighter-rouge"> <div class="highlight"><pre class="highlight"><code>  ~/repo/mse <span class="nv">$ </span>python ex02.py a b c 1 2 3
</code></pre></div> </div> </li> </ul> </li> </ol> </li> <li> <ol> <li>실행 후 출력 결과 살펴보기</li> </ol> </li> <li> <ol> <li>더 상세한 argument parsing</li> </ol> <ul> <li> <p>4-1. Argument parse 읽을 거리</p> <ul> <li> <a href="https://docs.python.org/ko/3.7/library/argparse.html" rel="external nofollow noopener" target="_blank">Argparse</a> 활용</li> <li><a href="https://docs.python.org/ko/3.7/howto/argparse.html#id1" rel="external nofollow noopener" target="_blank">Argparse 자습서</a></li> </ul> </li> <li> <p>4-2. 단계별로 작성해보기.</p> <ul> <li> <p>4-2-1. 간단한 작동</p> <p>아래를 myprogram.py 파일(모듈)로 작성하여 저장하자.</p> <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="n">argparse</span>
<span class="k">if</span> <span class="n">__name__</span><span class="o">==</span><span class="sh">'</span><span class="s">__main__</span><span class="sh">'</span><span class="p">:</span>
  <span class="n">parser</span> <span class="o">=</span> <span class="n">argparse</span><span class="p">.</span><span class="nc">ArgumentParser</span><span class="p">()</span>
  <span class="n">parser</span><span class="p">.</span><span class="nf">parse_args</span><span class="p">()</span>
</code></pre></div> </div> <p>그 다음 CLI에서 아래와 같이 명령문을 쳐보자.</p> <div class="language-batch highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="kd">c</span>:\users\user&gt; <span class="kd">python</span> <span class="kd">myprogram</span>.py <span class="na">--help
</span><span class="kd">usage</span>: <span class="kd">main</span>.py <span class="o">[</span><span class="na">-h</span><span class="o">]</span>

<span class="kd">options</span>:
  <span class="na">-h</span><span class="o">,</span> <span class="na">--help  </span><span class="kd">show</span> <span class="kd">this</span> <span class="nb">help</span> <span class="kd">message</span> <span class="kd">and</span> <span class="k">exit</span>
</code></pre></div> </div> </li> <li> <p>4-2-2. positional argument</p> <p>다음으로 myprogram.py을 열어서 다음과 같이 수정해봅시다. <code class="language-plaintext highlighter-rouge">x</code> argument를 추가하였고, $x^2$을 출력합니다.</p> <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="n">argparse</span>
<span class="k">if</span> <span class="n">__name__</span><span class="o">==</span><span class="sh">'</span><span class="s">__main__</span><span class="sh">'</span><span class="p">:</span>
  <span class="n">parser</span> <span class="o">=</span> <span class="n">argparse</span><span class="p">.</span><span class="nc">ArgumentParser</span><span class="p">()</span>
  <span class="n">parser</span><span class="p">.</span><span class="nf">add_argument</span><span class="p">(</span><span class="sh">"</span><span class="s">x</span><span class="sh">"</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="nb">int</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="sh">"</span><span class="s">the base</span><span class="sh">"</span><span class="p">)</span>
  <span class="n">args</span><span class="o">=</span><span class="n">parser</span><span class="p">.</span><span class="nf">parse_args</span><span class="p">()</span>

  <span class="nf">print</span><span class="p">(</span><span class="n">args</span><span class="p">.</span><span class="n">x</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span>
</code></pre></div> </div> </li> <li> <p>4-2-3. <code class="language-plaintext highlighter-rouge">--help</code> 기능</p> <p>아래와 같이 명령문을 입력하면 …</p> <pre><code class="language-dos">c:\users\user&gt; python myprogram.py --help
</code></pre> <p>다음과 같이 출력되었나? 출력된 결과물을 살펴보자.</p> <pre><code class="language-dos">usage: main.py [-h] x

positional arguments:
  x           the base

options:
  -h, --help  show this help message and exit

</code></pre> </li> <li> <p>4-2-4. 변경된 영향 확인</p> <p>명령어를 바꿔 다음과 같이 입력해보자.</p> <div class="language-sh highlighter-rouge"> <div class="highlight"><pre class="highlight"><code>c:<span class="se">\u</span>sers<span class="se">\u</span>ser&gt; python myprogram.py 3
given x: 3
x^2: 9
</code></pre></div> </div> </li> <li> <p>4-2-5. Additional options</p> <p>a. 다음으로 myprogram.py을 열어서 다음과 같이 수정해봅시다.</p> <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="n">argparse</span>

<span class="k">def</span> <span class="nf">add</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">x</span><span class="o">+</span><span class="n">y</span>

<span class="k">if</span> <span class="n">__name__</span><span class="o">==</span><span class="sh">'</span><span class="s">__main__</span><span class="sh">'</span><span class="p">:</span>
    <span class="n">parser</span><span class="o">=</span><span class="n">argparse</span><span class="p">.</span><span class="nc">ArgumentParser</span><span class="p">()</span>
    <span class="n">parser</span><span class="p">.</span><span class="nf">add_argument</span><span class="p">(</span><span class="sh">'</span><span class="s">x</span><span class="sh">'</span><span class="p">,</span><span class="nb">type</span><span class="o">=</span><span class="nb">int</span><span class="p">,</span><span class="n">help</span><span class="o">=</span><span class="sh">'</span><span class="s">the 1st base</span><span class="sh">'</span><span class="p">)</span>
    <span class="n">parser</span><span class="p">.</span><span class="nf">add_argument</span><span class="p">(</span><span class="sh">'</span><span class="s">y</span><span class="sh">'</span><span class="p">,</span><span class="nb">type</span><span class="o">=</span><span class="nb">int</span><span class="p">,</span><span class="n">help</span><span class="o">=</span><span class="sh">'</span><span class="s">the 2nd base</span><span class="sh">'</span><span class="p">)</span>
    <span class="n">parser</span><span class="p">.</span><span class="nf">add_argument</span><span class="p">(</span><span class="sh">'</span><span class="s">--myname</span><span class="sh">'</span><span class="p">,</span><span class="nb">type</span><span class="o">=</span><span class="nb">str</span><span class="p">,</span><span class="n">help</span><span class="o">=</span><span class="sh">'</span><span class="s">My Name</span><span class="sh">'</span><span class="p">)</span>
    <span class="n">args</span><span class="o">=</span><span class="n">parser</span><span class="p">.</span><span class="nf">parse_args</span><span class="p">()</span>

    <span class="nf">print</span><span class="p">(</span><span class="sh">'</span><span class="s">Myname:</span><span class="sh">'</span><span class="p">,</span><span class="n">args</span><span class="p">.</span><span class="n">myname</span><span class="p">)</span>
    <span class="nf">print</span><span class="p">(</span><span class="sh">'</span><span class="s">given x:</span><span class="sh">'</span><span class="p">,</span> <span class="n">args</span><span class="p">.</span><span class="n">x</span><span class="p">)</span>
    <span class="nf">print</span><span class="p">(</span><span class="sh">'</span><span class="s">given y:</span><span class="sh">'</span><span class="p">,</span> <span class="n">args</span><span class="p">.</span><span class="n">y</span><span class="p">)</span>
    <span class="n">multiplied</span><span class="o">=</span><span class="nf">add</span><span class="p">(</span><span class="n">args</span><span class="p">.</span><span class="n">x</span><span class="p">,</span><span class="n">args</span><span class="p">.</span><span class="n">y</span><span class="p">)</span>
    <span class="nf">print</span><span class="p">(</span><span class="sh">'</span><span class="s">x times y:</span><span class="sh">'</span><span class="p">,</span> <span class="n">multiplie</span><span class="p">)</span>
</code></pre></div> </div> <p>b. CLI에서 아래를 실행하면</p> <pre><code class="language-dos">c:\users\user&gt; python main.py --help
</code></pre> <p>다음과 같이 <code class="language-plaintext highlighter-rouge">positional arguments</code>와 <code class="language-plaintext highlighter-rouge">options</code>이 출력된다.</p> <pre><code class="language-dos">usage: main.py [-h] [--myname MYNAME] x y

positional arguments:
  x                the 1st base
  y                the 2nd base

options:
  -h, --help       show this help message and exit
  --myname MYNAME  My Name
</code></pre> <p><code class="language-plaintext highlighter-rouge">--myname</code>옵션의 경우 <code class="language-plaintext highlighter-rouge">MYNAME</code>이라는 입력이 필요함을 알 수 있다.</p> <p>c. 실행해보자.</p> <pre><code class="language-dos">c:\users\user&gt; python main.py 3 4 --myname mike
Myname: mike
given x: 3
given y: 4
x times y: 7
</code></pre> </li> </ul> </li> </ul> </li> </ul> <h1 id="week4-file-io--numpy-01---기초-배열array-이해">Week4 (file IO / NumPy 01 - 기초 배열(array) 이해)</h1> <ul> <li>목표 <ul> <li>파일을 활용해 데이터 input/output의 활용 가능하다.</li> <li>NumPy 기초를 이해한다.</li> </ul> </li> </ul> <h2 id="수업-04-1-기초-fileio">수업 04-1 기초 (file/IO)</h2> <h3 id="04-1-1-개념">04-1-1. 개념</h3> <ul> <li>Python에서 파일을 통한 I/O는 <code class="language-plaintext highlighter-rouge">open()</code> 함수 활용한다: <a href="https://docs.python.org/3/library/functions.html#open" rel="external nofollow noopener" target="_blank">자세한 설명</a> </li> <li>파일 모드 <ul> <li>‘r’ : read</li> <li>‘w’ : write</li> <li><del>‘a’ : append</del></li> <li><del>‘b’ : binary</del></li> <li><del>’+’ : read &amp; write</del></li> </ul> </li> </ul> <h4 id="04-1-2-예시">04-1-2. 예시</h4> <ul> <li> <p>예시1. (텍스트 파일 <strong>쓰기</strong>)</p> <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="c1"># 파일 쓰기
</span><span class="k">with</span> <span class="nf">open</span><span class="p">(</span><span class="sh">"</span><span class="s">example.txt</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">w</span><span class="sh">"</span> <span class="n">encoding</span><span class="o">=</span><span class="sh">"</span><span class="s">utf-8</span><span class="sh">"</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
  <span class="n">f</span><span class="p">.</span><span class="nf">write</span><span class="p">(</span><span class="sh">"</span><span class="s">Hi people in Changwon National University!</span><span class="se">\n</span><span class="sh">"</span><span class="p">)</span>
  <span class="n">f</span><span class="p">.</span><span class="nf">write</span><span class="p">(</span><span class="sh">"</span><span class="s">This is an example text file!</span><span class="se">\n</span><span class="sh">"</span><span class="p">)</span>
</code></pre></div> </div> </li> <li> <p>예시2. (텍스트 파일 <strong>읽기</strong>)</p> <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="c1"># 파일 읽기
</span><span class="k">with</span> <span class="nf">open</span><span class="p">(</span><span class="sh">"</span><span class="s">example.txt</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">r</span><span class="sh">"</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="sh">"</span><span class="s">utf-8</span><span class="sh">"</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
  <span class="n">lines</span> <span class="o">=</span> <span class="n">f</span><span class="p">.</span><span class="nf">readlines</span><span class="p">()</span>  <span class="c1"># 모든 줄을 리스트로 읽기
</span><span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">lines</span><span class="p">:</span>
  <span class="nf">print</span><span class="p">(</span><span class="n">line</span><span class="p">.</span><span class="nf">strip</span><span class="p">())</span>  <span class="c1"># strip() → 줄바꿈 제거
</span></code></pre></div> </div> </li> <li> <p>예시3. (성적 처리) 다음 <a href="/lecturenotes/data_mse/data/score_record_2017_MF_final_analysis.txt">파일</a> 을 읽고 평균, 표준 편차, 그리고 최고점과 최저점을 받은 학생 번호를 찾는 파이썬 프로그램을 만들어 보자.</p> <pre><code class="language-txt">ID Score
--------------
xxxx5093  14.0
xxxx5298  53.0
xxxx3374  28.0
xxxx3374  41.0
xxxx5116  15.0
xxxx5122  16.0
xxxx5102  10.0
xxxx6114   6.0
xxxx5108  26.0
xxxx6135  22.0
xxxx4246  12.0
xxxx1513  11.0
xxxx5115  42.0
xxxx5140  41.0
xxxx5105  44.0
xxxx4254  67.0
xxxx3341  47.0
xxxx5100  48.0
xxxx4264  55.0
xxxx5127  53.0
xxxx4235  44.0
xxxx4249  67.0
xxxx4257  41.0
xxxx5146  53.0
xxxx4273  62.0
xxxx4275  64.0
xxxx4258  62.0
xxxx4282  58.0
xxxx4236  77.0
xxxx4269  38.0
xxxx4445  50.0
xxxx5142  53.0
</code></pre> </li> <li> <p>예시4. 예시 3과 같은 파일이 여럿 주어진다면, 각 파일마다 예시3의 작업을 반복 수행하는 CLI에서 활용 가능한 Pythonn module을 만들자.</p> </li> <li> <p>예시5. (모든 파일의 이름 바꾸기) 다음 <a href="/lecturenotes/data_mse/data/tensile_test_results.zip">압축파일</a>을 풀어서 살펴보자. 여기서 파일 이름에서 ‘WZ’를 모두 ‘EX’로 바꾸고 싶다. 어떻게 해야할까?</p> <pre><code class="language-dos">c:\users\user&gt; ren 00_DD_WZ_01.csv 00_DD_EX_01.csv
c:\users\user&gt; ren 00_DD_WZ_02.csv 00_DD_EX_02.csv
...
</code></pre> <p>혹은 복사?</p> <pre><code class="language-dos">c:\users\user&gt; cp 00_DD_WZ_01.csv 00_DD_EX_01.csv
c:\users\user&gt; cp 00_DD_WZ_02.csv 00_DD_EX_02.csv
...
</code></pre> <p>혹은 마우스로 일일이 눌러서 바꿀 수도 있겠다.</p> <p>Python으로 가능할까?</p> <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code>  <span class="c1"># os.copy
</span>  <span class="c1"># glob
</span>  <span class="c1"># os.getcwd()
</span>  <span class="c1"># os.listdir(os.getcwd())
</span>  <span class="c1"># `str`의 split을 찾거나, 혹은 index를 활용해 바꿀 수도 있겠다.
</span></code></pre></div> </div> <h2 id="수업-04-2-numpy-기초">수업 04-2 (NumPy 기초)</h2> <ul> <li>개념 <ul> <li> <a href="www.numpy.org">NumPy</a>는 고성능 수치 계산을 위한 library</li> <li>공식 사이트에서 더욱 상세히 배울 수 있음: <a href="https://numpy.org/devdocs/user/quickstart.html" rel="external nofollow noopener" target="_blank">링크</a> </li> </ul> </li> <li>설치 (인터넷 연결 필요) <div class="language-sh highlighter-rouge"> <div class="highlight"><pre class="highlight"><code>pip <span class="nb">install </span>numpy
</code></pre></div> </div> </li> <li>import <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="n">numpy</span> <span class="k">as</span> <span class="n">np</span>
</code></pre></div> </div> </li> <li>버전과 설치 위치 ```python import numpy as np print(np.<strong>version</strong>) print(np.<strong>file</strong>)</li> <li>배열 생성 <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="c1"># 1차원 배열
</span><span class="n">arr1</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="nf">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>  <span class="c1"># np.array 클래스 생성.
</span><span class="nf">print</span><span class="p">(</span><span class="n">arr1</span><span class="p">)</span>

<span class="c1"># 2차원 배열
</span><span class="n">arr2</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="nf">array</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]])</span>
<span class="nf">print</span><span class="p">(</span><span class="n">arr2</span><span class="p">)</span>

<span class="c1"># 0으로 채운 배열
</span><span class="n">zeros_arr</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="nf">zeros</span><span class="p">((</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>  <span class="c1"># 2행 3열
</span><span class="nf">print</span><span class="p">(</span><span class="n">zeros_arr</span><span class="p">)</span>

<span class="c1"># 1로 채운 배열
</span><span class="n">ones_arr</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="nf">ones</span><span class="p">((</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>
<span class="nf">print</span><span class="p">(</span><span class="n">ones_arr</span><span class="p">)</span>

<span class="c1"># 특정 값으로 채운 배열
</span><span class="n">full_arr</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="nf">full</span><span class="p">((</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="mi">7</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="n">full_arr</span><span class="p">)</span>

<span class="c1"># 연속된 수
</span><span class="n">range_arr</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="nf">arange</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>  <span class="c1"># 0부터 10 전까지 2씩 증가
</span><span class="nf">print</span><span class="p">(</span><span class="n">range_arr</span><span class="p">)</span>

<span class="c1"># 랜덤 배열
</span><span class="n">rand_arr</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="n">random</span><span class="p">.</span><span class="nf">rand</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>  <span class="c1"># 0~1 사이 난수
</span><span class="nf">print</span><span class="p">(</span><span class="n">rand_arr</span><span class="p">)</span>
</code></pre></div> </div> </li> <li> <p>배열 속성; np.array는 클래스, 따라서 여러 속성 갖고 있음.</p> <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="n">arr</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="nf">array</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]])</span>
<span class="nf">print</span><span class="p">(</span><span class="n">arr</span><span class="p">.</span><span class="n">shape</span><span class="p">)</span>   <span class="c1"># (2, 3) → 2행 3열
</span><span class="nf">print</span><span class="p">(</span><span class="n">arr</span><span class="p">.</span><span class="n">ndim</span><span class="p">)</span>    <span class="c1"># 차원 수 → 2
</span><span class="nf">print</span><span class="p">(</span><span class="n">arr</span><span class="p">.</span><span class="n">size</span><span class="p">)</span>    <span class="c1"># 전체 원소 개수 → 6
</span><span class="nf">print</span><span class="p">(</span><span class="n">arr</span><span class="p">.</span><span class="n">dtype</span><span class="p">)</span>   <span class="c1"># 데이터 타입 → int64 (환경에 따라 다름)
</span><span class="nf">print</span><span class="p">(</span><span class="n">arr</span><span class="p">.</span><span class="nf">flatten</span><span class="p">())</span>
<span class="nf">print</span><span class="p">(</span><span class="n">arr</span><span class="p">.</span><span class="nf">flatten</span><span class="p">().</span><span class="nf">sum</span><span class="p">())</span>
</code></pre></div> </div> </li> <li>배열간의 연산 <ul> <li>Vectorized operation (속도 향상)</li> <li>element-wise operation 이라도 불림</li> <li>많은 경우, <code class="language-plaintext highlighter-rouge">for</code>, <code class="language-plaintext highlighter-rouge">range</code> 등의 일반적인 반복문 필요 없음.</li> </ul> <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="n">a</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="nf">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>
<span class="n">b</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="nf">array</span><span class="p">([</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">])</span>

<span class="nf">print</span><span class="p">(</span><span class="n">a</span> <span class="o">+</span> <span class="n">b</span><span class="p">)</span>   <span class="c1"># [5 7 9]
</span><span class="nf">print</span><span class="p">(</span><span class="n">a</span> <span class="o">-</span> <span class="n">b</span><span class="p">)</span>   <span class="c1"># [-3 -3 -3]
</span><span class="nf">print</span><span class="p">(</span><span class="n">a</span> <span class="o">*</span> <span class="n">b</span><span class="p">)</span>   <span class="c1"># [ 4 10 18]  (요소별 곱)
</span><span class="nf">print</span><span class="p">(</span><span class="n">a</span> <span class="o">/</span> <span class="n">b</span><span class="p">)</span>   <span class="c1"># [0.25 0.4 0.5]
</span><span class="nf">print</span><span class="p">(</span><span class="n">a</span> <span class="o">**</span> <span class="mi">2</span><span class="p">)</span>  <span class="c1"># [1 4 9]    (제곱)
</span>

<span class="c1">## 각각의 경우 List를 활용했을 때 훨씬 많은 코딩 필요함.
</span><span class="n">c</span><span class="o">=</span><span class="p">[]</span> <span class="c1"># +
</span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="n">a</span><span class="p">):</span>
  <span class="n">c</span><span class="p">.</span><span class="nf">append</span><span class="p">(</span><span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">+</span><span class="n">b</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>

<span class="n">c</span><span class="o">=</span><span class="p">[]</span> <span class="c1"># -
</span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="n">a</span><span class="p">):</span>
  <span class="n">c</span><span class="p">.</span><span class="nf">append</span><span class="p">(</span><span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">-</span><span class="n">b</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>

<span class="n">c</span><span class="o">=</span><span class="p">[]</span> <span class="c1"># *
</span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="n">a</span><span class="p">):</span>
  <span class="n">c</span><span class="p">.</span><span class="nf">append</span><span class="p">(</span><span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">*</span><span class="n">b</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>

<span class="n">c</span><span class="o">=</span><span class="p">[]</span> <span class="c1"># /
</span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="n">a</span><span class="p">):</span>
  <span class="n">c</span><span class="p">.</span><span class="nf">append</span><span class="p">(</span><span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">/</span><span class="n">b</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>

<span class="n">c</span><span class="o">=</span><span class="p">[]</span> <span class="c1"># **
</span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="n">a</span><span class="p">):</span>
  <span class="n">c</span><span class="p">.</span><span class="nf">append</span><span class="p">(</span><span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span>

<span class="c1">##?
</span><span class="nf">print</span><span class="p">((</span><span class="n">a</span><span class="o">**</span><span class="mi">2</span><span class="p">).</span><span class="nf">sum</span><span class="p">())</span>
</code></pre></div> </div> </li> <li> <p>Indexing &amp; slicing</p> <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="n">arr</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="nf">array</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]])</span>
<span class="c1"># nested 배열의 각 축을 '행'(가로)과 '열'(세로)이라 하면
# arr = [  1  2  3 ] # 첫번째 가로
#.         4  5  6   # 두번째 가로
</span>
<span class="nf">print</span><span class="p">(</span><span class="n">arr</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">])</span>  <span class="c1"># 1행 1열 → 1
</span><span class="nf">print</span><span class="p">(</span><span class="n">arr</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="p">:])</span>  <span class="c1"># 2행 전체 → [4 5 6]
</span><span class="nf">print</span><span class="p">(</span><span class="n">arr</span><span class="p">[:,</span> <span class="mi">1</span><span class="p">])</span>  <span class="c1"># 모든 행의 2열 → [2 5]
</span></code></pre></div> </div> </li> <li> <p>Indexing &amp; slicing applied to each axis</p> <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="c1">## 각 '축'에서 List indexing 적용가능. 예를 들어
</span><span class="nf">print</span><span class="p">(</span><span class="n">arr</span><span class="p">[</span><span class="mi">1</span><span class="p">::,</span><span class="mi">1</span><span class="p">::])</span>
<span class="nf">print</span><span class="p">(</span><span class="n">arr</span><span class="p">[::</span><span class="mi">2</span><span class="p">,::</span><span class="mi">2</span><span class="p">])</span>

<span class="c1">#
</span><span class="nf">print</span><span class="p">(</span><span class="n">arr</span><span class="p">[::</span><span class="o">-</span><span class="mi">1</span><span class="p">,::])</span>  <span class="c1">#행만 거꾸로
</span><span class="nf">print</span><span class="p">(</span><span class="n">arr</span><span class="p">[::,::</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>  <span class="c1">#열만 거꾸로
</span><span class="nf">print</span><span class="p">(</span><span class="n">arr</span><span class="p">[::</span><span class="o">-</span><span class="mi">1</span><span class="p">,::</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span> <span class="c1">#행과 열을 모두 거꾸로
</span></code></pre></div> </div> </li> <li> <p>예제: 데이터 파일 Use data in here <a href="data/matrix_01.txt">matrix_01.txt</a></p> <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="n">numpy</span> <span class="k">as</span> <span class="n">np</span>

<span class="c1"># 공백 구분 텍스트 불러오기
</span><span class="n">matrix</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="nf">loadtxt</span><span class="p">(</span><span class="sh">"</span><span class="s">matrix.txt</span><span class="sh">"</span><span class="p">)</span>

<span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">불러온 행렬:</span><span class="sh">"</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="n">matrix</span><span class="p">)</span>

<span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">shape:</span><span class="sh">"</span><span class="p">,</span> <span class="n">matrix</span><span class="p">.</span><span class="n">shape</span><span class="p">)</span>   <span class="c1"># (3, 3)
</span><span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">dtype:</span><span class="sh">"</span><span class="p">,</span> <span class="n">matrix</span><span class="p">.</span><span class="n">dtype</span><span class="p">)</span>   <span class="c1"># ?
</span></code></pre></div> </div> </li> <li> <p>예제: csv file Use data in here <a href="data/matrix_01.csv">matrix_01.csv</a></p> <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="n">numpy</span> <span class="k">as</span> <span class="n">np</span>

<span class="c1"># 공백 구분 텍스트 불러오기
</span><span class="n">matrix</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="nf">loadtxt</span><span class="p">(</span><span class="sh">"</span><span class="s">matrix.txt</span><span class="sh">"</span><span class="p">)</span>

<span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">불러온 행렬:</span><span class="sh">"</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="n">matrix</span><span class="p">)</span>

<span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">shape:</span><span class="sh">"</span><span class="p">,</span> <span class="n">matrix</span><span class="p">.</span><span class="n">shape</span><span class="p">)</span>   <span class="c1"># (3, 3)
</span><span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">dtype:</span><span class="sh">"</span><span class="p">,</span> <span class="n">matrix</span><span class="p">.</span><span class="n">dtype</span><span class="p">)</span>   <span class="c1"># ?
</span></code></pre></div> </div> </li> <li> <p>예제: 저장하기</p> <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="c1"># 행렬 저장하기 (공백 구분)
</span><span class="n">matrix</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="nf">array</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">],</span> <span class="p">[</span><span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">]])</span>
<span class="n">np</span><span class="p">.</span><span class="nf">savetxt</span><span class="p">(</span><span class="sh">"</span><span class="s">save_matrix.txt</span><span class="sh">"</span><span class="p">,</span> <span class="n">matrix</span><span class="p">,</span> <span class="n">fmt</span><span class="o">=</span><span class="sh">"</span><span class="s">%.2f</span><span class="sh">"</span><span class="p">)</span>

<span class="c1"># CSV로 저장
</span><span class="n">np</span><span class="p">.</span><span class="nf">savetxt</span><span class="p">(</span><span class="sh">"</span><span class="s">save_matrix.csv</span><span class="sh">"</span><span class="p">,</span> <span class="n">matrix</span><span class="p">,</span> <span class="n">delimiter</span><span class="o">=</span><span class="sh">"</span><span class="s">,</span><span class="sh">"</span><span class="p">,</span> <span class="n">fmt</span><span class="o">=</span><span class="sh">"</span><span class="s">%d</span><span class="sh">"</span><span class="p">)</span>
</code></pre></div> </div> </li> </ul> </li> </ul> <h1 id="week5-numpy-02---배열-연산산술-내적-외적-브로드캐스팅-그-외-기타-함수">Week5 (NumPy 02 - 배열 연산(산술, 내적, 외적), 브로드캐스팅, 그 외 기타 함수)</h1> <ul> <li>목표 <ul> <li>벡터/행렬 연산을 파이썬으로 수행할 수 있다.</li> <li>브로드캐스팅을 이해한다.</li> <li>Determination, Eigen value 등을 계산할 수 있다.</li> </ul> </li> </ul> <h2 id="수업-05-1">수업 05-1</h2> <h3 id="05-1-1-기본-예제-벡터의-크기-내적-">05-1-1. 기본 예제 (벡터의 크기, 내적, )</h3> <ul> <li> <p>3차원 벡터</p> \[\boldsymbol a=(a_1,a_2,a_3)\] <p>의 크기는</p> \[|\boldsymbol a|=\sqrt{a_1^2+a_2^2+a_3^2}=\sqrt{\sum_i^3a_i^2}.\] <ul> <li> <p>주어진 벡터의 크기를 구하는 함수</p> <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">get_mag</span><span class="p">(</span><span class="n">v</span><span class="p">):</span>
    <span class="kn">import</span> <span class="n">math</span>
    <span class="k">return</span> <span class="n">math</span><span class="p">.</span><span class="nf">sqrt</span><span class="p">(</span><span class="n">v</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">**</span><span class="mi">2</span><span class="o">+</span><span class="n">v</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">**</span><span class="mi">2</span><span class="o">+</span><span class="n">v</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span>
</code></pre></div> </div> </li> <li> <p>n차원으로 일반화 한다면? (<a href="https://en.wikipedia.org/wiki/Matrix_norm#Frobenius_norm" rel="external nofollow noopener" target="_blank">Frobenius norm</a>)</p> \[|\boldsymbol a|=\sqrt{\sum_i^na_i^2}\] <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">frob</span><span class="p">(</span><span class="n">vector</span><span class="p">):</span>
    <span class="kn">import</span> <span class="n">math</span>
    <span class="n">s</span><span class="o">=</span><span class="mf">0.</span> <span class="c1"># sum
</span>    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">e</span> <span class="ow">in</span> <span class="nf">enumerate</span><span class="p">(</span><span class="n">vector</span><span class="p">):</span>
        <span class="n">s</span><span class="o">=</span><span class="n">s</span><span class="o">+</span><span class="n">e</span><span class="o">**</span><span class="mi">2</span>
    <span class="k">return</span> <span class="n">math</span><span class="p">.</span><span class="nf">sqrt</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
</code></pre></div> </div> </li> </ul> </li> <li> <p>벡터의 내적</p> \[\boldsymbol a \cdot \boldsymbol b=a_1b_1+a_2b_2+a_3b_3=\sum_i^3a_ib_i\] <p>혹은 아래와 같이 두 벡터 사이의 끼인 각 $\theta$ 를 활용해 표현할 수 있다.</p> \[\boldsymbol a \cdot \boldsymbol b=|\boldsymbol a||\boldsymbol b|\cos\theta\] <p><code class="language-plaintext highlighter-rouge">list</code>, <code class="language-plaintext highlighter-rouge">len</code>, <code class="language-plaintext highlighter-rouge">range</code>, <code class="language-plaintext highlighter-rouge">enumerate</code> 등을 활용하여 아래와 같이 표현 가능</p> <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="n">a</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">]</span>
<span class="n">b</span><span class="o">=</span><span class="p">[</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">]</span>
<span class="n">dotprod</span><span class="o">=</span><span class="mf">0.</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="mi">3</span><span class="p">):</span>
  <span class="n">dotprod</span><span class="o">=</span><span class="n">dotprod</span><span class="o">+</span><span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">*</span><span class="n">b</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
  <span class="c1">## 위를 `dotprod+=a[i]*b[i]`로 줄여서 표현 가능
</span></code></pre></div> </div> <p>NumPy의 배열을 활용한다면 위를 더욱 축약 시킬 수 있다.</p> <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="n">a</span><span class="o">=</span><span class="n">np</span><span class="p">.</span><span class="nf">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span>
<span class="n">b</span><span class="o">=</span><span class="n">np</span><span class="p">.</span><span class="nf">array</span><span class="p">([</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">])</span>
<span class="n">dotprod</span><span class="o">=</span><span class="mf">0.</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="nf">len</span><span class="p">(</span><span class="n">a</span><span class="p">)):</span>
  <span class="n">dotprod</span><span class="o">+=</span><span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">*</span><span class="n">b</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
<span class="nf">print</span><span class="p">(</span><span class="n">dotprod</span><span class="p">)</span>
</code></pre></div> </div> <p>혹은 위를 더 축약 시켜</p> <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="n">a</span><span class="o">=</span><span class="n">np</span><span class="p">.</span><span class="nf">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span>
<span class="n">b</span><span class="o">=</span><span class="n">np</span><span class="p">.</span><span class="nf">array</span><span class="p">([</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">])</span>
<span class="n">dotprod</span><span class="o">=</span><span class="mf">0.</span>
<span class="nf">print</span><span class="p">((</span><span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">*</span><span class="n">b</span><span class="p">[</span><span class="n">i</span><span class="p">]).</span><span class="nf">sum</span><span class="p">())</span>
</code></pre></div> </div> <p>혹은 @을 활용하여</p> <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="n">a</span><span class="o">=</span><span class="n">np</span><span class="p">.</span><span class="nf">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span>
<span class="n">b</span><span class="o">=</span><span class="n">np</span><span class="p">.</span><span class="nf">array</span><span class="p">([</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">])</span>
<span class="nf">print</span><span class="p">(</span><span class="n">a</span><span class="nd">@b</span><span class="p">)</span>
</code></pre></div> </div> </li> <li> <p>두 3D 벡터가 주어졌을 때 사이 끼인 각을 구하는 함수</p> <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">get_mag</span><span class="p">(</span><span class="n">v</span><span class="p">):</span>
    <span class="kn">import</span> <span class="n">math</span>
    <span class="k">return</span> <span class="n">math</span><span class="p">.</span><span class="nf">sqrt</span><span class="p">(</span><span class="n">v</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">**</span><span class="mi">2</span><span class="o">+</span><span class="n">v</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">**</span><span class="mi">2</span><span class="o">+</span><span class="n">v</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">get_ang</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">):</span>
    <span class="kn">import</span> <span class="n">math</span>
    <span class="n">dotprod</span><span class="o">=</span><span class="mf">0.</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="nf">len</span><span class="p">(</span><span class="n">a</span><span class="p">)):</span>
        <span class="n">dotprod</span><span class="o">+=</span><span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">*</span><span class="n">b</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
    <span class="n">costh</span><span class="o">=</span><span class="n">dotprod</span><span class="o">/</span><span class="p">(</span><span class="nf">get_mag</span><span class="p">(</span><span class="n">a</span><span class="p">)</span><span class="o">*</span><span class="nf">get_mag</span><span class="p">(</span><span class="n">b</span><span class="p">))</span>
    <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">'</span><span class="s">costh:</span><span class="si">{</span><span class="n">costh</span><span class="si">}</span><span class="sh">'</span><span class="p">)</span>
    <span class="n">th</span><span class="o">=</span><span class="n">math</span><span class="p">.</span><span class="nf">acos</span><span class="p">(</span><span class="n">costh</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">th</span>

<span class="n">a</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span>
<span class="n">b</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span>
<span class="n">angle</span><span class="o">=</span><span class="nf">get_ang</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sh">'</span><span class="s">ang in radian:</span><span class="sh">'</span><span class="p">,</span> <span class="n">angle</span><span class="p">)</span>
<span class="c1">## angle to degree?
</span><span class="nf">print</span><span class="p">(</span><span class="sh">'</span><span class="s">ang in degree:</span><span class="sh">'</span><span class="p">,</span> <span class="n">angle</span><span class="o">*</span><span class="mi">180</span><span class="o">/</span><span class="mf">3.141592</span><span class="p">)</span>
</code></pre></div> </div> </li> </ul> <h3 id="05-1-2-2x2-행렬간의-dot-product-이해하기">05-1-2. 2x2 행렬간의 dot product 이해하기</h3> \[\begin{bmatrix} 1 &amp; 2 \\ 3 &amp; 4 \end{bmatrix} \cdot \begin{bmatrix} 2 &amp; 0 \\ 1 &amp; 3 \end{bmatrix} = ?\] <ul> <li> <p>규칙. 두 2x2 행렬 \(\boldsymbol A\)와 \(\boldsymbol B\)를 곱하여</p> <p>행렬 \(\boldsymbol C\)가 된다면, 아래와 같이 표현한다.</p> \[\boldsymbol C = \boldsymbol A \cdot \boldsymbol B\] <p>이 때</p> \[\begin{array}{c} C_{11}=A_{11}B_{11}+A_{12}B_{21} \\ C_{12}=A_{11}B_{12}+A_{12}B_{22} \\ C_{21}=A_{21}B_{11}+A_{22}B_{21} \\ C_{22}=A_{21}B_{12}+A_{22}B_{22} \\ \end{array}\] <p>가 된다. 이를 그대로 Python으로 옮기면</p> <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="n">A</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="nf">array</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]])</span>
<span class="n">B</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="nf">array</span><span class="p">([[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">]])</span>

<span class="n">C</span><span class="o">=</span><span class="p">[[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">]]</span> <span class="c1"># initialization
</span><span class="n">C</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">=</span><span class="n">A</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span><span class="o">*</span><span class="n">B</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span><span class="o">+</span><span class="n">A</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span><span class="o">*</span><span class="n">B</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span>
<span class="n">C</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span><span class="o">=</span><span class="n">A</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span><span class="o">*</span><span class="n">B</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span><span class="o">+</span><span class="n">A</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span><span class="o">*</span><span class="n">B</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span>
<span class="n">C</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">=</span><span class="n">A</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span><span class="o">*</span><span class="n">B</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span><span class="o">+</span><span class="n">A</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span><span class="o">*</span><span class="n">B</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span>
<span class="n">C</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span><span class="o">=</span><span class="n">A</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span><span class="o">*</span><span class="n">B</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span><span class="o">+</span><span class="n">A</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span><span class="o">*</span><span class="n">B</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span>
<span class="nf">print</span><span class="p">(</span><span class="sh">'</span><span class="s">1:</span><span class="sh">'</span><span class="p">,</span><span class="n">C</span><span class="p">)</span>
</code></pre></div> </div> </li> <li> <p>위 행렬곱 식에서 \(\boldsymbol{C}\)행렬 요소 위치에 따라 달라지는 \(\boldsymbol{A}\)와 \(\boldsymbol{B}\)행렬의 위치가 있다. 이를 살펴보면</p> \[C_{ij}=A_{i1}B_{1j}+A_{i2}B_{2j}\] <p>로 표현됨을 알 수 있다. 이를 반영하여 모든 \((i,j)\) 짝에 적용하면…</p> <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="n">C</span><span class="o">=</span><span class="p">[[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">]]</span>
<span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="n">j</span><span class="o">=</span><span class="mi">0</span> <span class="c1">#(1,1)
</span><span class="n">C</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span><span class="o">=</span><span class="n">A</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span><span class="o">*</span><span class="n">B</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="n">j</span><span class="p">]</span><span class="o">+</span><span class="n">A</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span><span class="o">*</span><span class="n">B</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="n">j</span><span class="p">]</span>
<span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="n">j</span><span class="o">=</span><span class="mi">1</span> <span class="c1">#(1,2)
</span><span class="n">C</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span><span class="o">=</span><span class="n">A</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span><span class="o">*</span><span class="n">B</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="n">j</span><span class="p">]</span><span class="o">+</span><span class="n">A</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span><span class="o">*</span><span class="n">B</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="n">j</span><span class="p">]</span>
<span class="n">i</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span><span class="n">j</span><span class="o">=</span><span class="mi">0</span> <span class="c1">#(2,1)
</span><span class="n">C</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span><span class="o">=</span><span class="n">A</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span><span class="o">*</span><span class="n">B</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="n">j</span><span class="p">]</span><span class="o">+</span><span class="n">A</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span><span class="o">*</span><span class="n">B</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="n">j</span><span class="p">]</span>
<span class="n">i</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span><span class="n">j</span><span class="o">=</span><span class="mi">1</span> <span class="c1">#(2,2)
</span><span class="n">C</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span><span class="o">=</span><span class="n">A</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span><span class="o">*</span><span class="n">B</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="n">j</span><span class="p">]</span><span class="o">+</span><span class="n">A</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span><span class="o">*</span><span class="n">B</span><span class="p">[</span><span class="n">j</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span>
<span class="nf">print</span><span class="p">(</span><span class="sh">'</span><span class="s">2:</span><span class="sh">'</span><span class="p">,</span><span class="n">C</span><span class="p">)</span>
</code></pre></div> </div> </li> <li> <p>그런데, 코드를 살펴보면, 네 짝에 모두 동일한 statements</p> <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="n">C</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span><span class="o">=</span><span class="n">A</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span><span class="o">*</span><span class="n">B</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="n">j</span><span class="p">]</span><span class="o">+</span><span class="n">A</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span><span class="o">*</span><span class="n">B</span><span class="p">[</span><span class="n">j</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span>
</code></pre></div> </div> <p>이 적용된 걸 알수 있다. \((i,j)\)가 각각 0,1을 반복하므로, 아래와 같이 축약할 수 있겠다.</p> <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="c1">#따라서...
</span><span class="n">C</span><span class="o">=</span><span class="p">[[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">]]</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="mi">2</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="mi">2</span><span class="p">):</span>
        <span class="n">C</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span><span class="o">=</span><span class="n">A</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span><span class="o">*</span><span class="n">B</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="n">j</span><span class="p">]</span><span class="o">+</span><span class="n">A</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span><span class="o">*</span><span class="n">B</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="n">j</span><span class="p">]</span> <span class="c1">## 네 statements가 동일함에 주목!
</span><span class="nf">print</span><span class="p">(</span><span class="sh">'</span><span class="s">3:</span><span class="sh">'</span><span class="p">,</span><span class="n">C</span><span class="p">)</span>
</code></pre></div> </div> <p>그런데, 반복되던 statement의 우변에서도 0과 1이 반복된다.</p> <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="n">C</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span><span class="o">=</span><span class="n">A</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span><span class="o">*</span><span class="n">B</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="n">j</span><span class="p">]</span><span class="o">+</span><span class="n">A</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span><span class="o">*</span><span class="n">B</span><span class="p">[</span><span class="n">j</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span>
</code></pre></div> </div> <p>따라서</p> <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="mi">2</span><span class="p">):</span>
  <span class="n">C</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span><span class="o">=</span><span class="n">C</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span><span class="o">+</span><span class="n">A</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="n">k</span><span class="p">]</span><span class="o">*</span><span class="n">B</span><span class="p">[</span><span class="n">k</span><span class="p">,</span><span class="n">j</span><span class="p">]</span>
</code></pre></div> </div> <p>라 줄일 수 있겠다. 이렇게 모두 줄일 수 있는 만큼 줄여서 축약된 형태로 표현하면 ..</p> <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="c1">#더 줄이면?
</span><span class="n">C</span><span class="o">=</span><span class="p">[[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">]]</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="mi">2</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="mi">2</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="mi">2</span><span class="p">):</span>
            <span class="n">C</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span><span class="o">=</span><span class="n">C</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span><span class="o">+</span><span class="n">A</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="n">k</span><span class="p">]</span><span class="o">*</span><span class="n">B</span><span class="p">[</span><span class="n">k</span><span class="p">,</span><span class="n">j</span><span class="p">]</span>
            <span class="c1">#C[i][j]+=A[i,k]*B[k,j]      += 기호 사용
</span><span class="nf">print</span><span class="p">(</span><span class="sh">'</span><span class="s">4:</span><span class="sh">'</span><span class="p">,</span><span class="n">C</span><span class="p">)</span>
</code></pre></div> </div> </li> <li> <p>두 2x2행렬 곱 수행 다른 방법들</p> <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code> <span class="kn">import</span> <span class="n">numpy</span> <span class="k">as</span> <span class="n">np</span>
 <span class="n">A</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="nf">array</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]])</span>
 <span class="n">B</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="nf">array</span><span class="p">([[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">]])</span>
 <span class="nf">print</span><span class="p">(</span><span class="sh">'</span><span class="s">6:</span><span class="sh">'</span><span class="p">,</span><span class="n">A</span> <span class="o">@</span> <span class="n">B</span><span class="p">)</span>          <span class="c1"># 행렬 곱
</span> <span class="nf">print</span><span class="p">(</span><span class="sh">'</span><span class="s">7:</span><span class="sh">'</span><span class="p">,</span><span class="n">np</span><span class="p">.</span><span class="nf">dot</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="n">B</span><span class="p">))</span>   <span class="c1"># 동일
</span></code></pre></div> </div> </li> </ul> <h3 id="05-1-3-두-3x3-행렬-곱-일반화하여-nxn-행렬사이의-곱은">05-1-3. 두 3x3 행렬 곱? 일반화하여, nxn 행렬사이의 곱은?</h3> <p>\(\boldsymbol A\) 와 \(\boldsymbol B\) 의 곱 결과가 또 다른 3x3행렬 \(\boldsymbol C\) 이라면</p> \[\boldsymbol A\cdot\boldsymbol B = \boldsymbol C\] <p>와 같이 표현할 수 있다. 이를 <strong>index</strong>를 활용한 방식으로 아래와 같이 표기 가능하다.</p> \[\sum_k^3A_{ik}B_{kj}=C_{ij}, \text{ for } i=1,2,3 \text{ and } \ j=1,2,3\] <ul> <li> <p>05-1-3-1. 예제</p> <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="c1"># for loop 3개를 활용해서 표현할 수 있겠는가?
</span></code></pre></div> </div> </li> <li> <p>05-1-3-2. 예제</p> <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="c1"># 두 nxn 행렬 사이의 곱을 구하는 python 함수를 작성해 보세요.
</span></code></pre></div> </div> </li> <li> <p>05-1-3-3. 예제 세 행렬 사이의 곱이 다음과 같다.</p> \[\boldsymbol D=\boldsymbol A \cdot \boldsymbol B \cdot \boldsymbol C\] <p>이를 인덱스 notation으로 표현하면</p> \[D_{ij}=A_{ik}B_{kl}C_{lj}=\sum_k\sum_l A_{ik}B_{kl}C_{lj} \text{ for } (i,j) = (1,1), (1,2), ..., (3,3)\] <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="c1"># 세 nxn 행렬 사이의 곱을 구하는 python 함수를 작성해 보세요.
</span></code></pre></div> </div> </li> </ul> <h3 id="05-1-3-외적">05-1-3. 외적</h3> <ul> <li> <p>설명</p> <p>두 벡터 \(\boldsymbol a, \boldsymbol b\)의 외적이 다음과 같이 표현된다.</p> \[\boldsymbol c = \boldsymbol a \times \boldsymbol b\] \[c_i=\epsilon_{ijk}a_jb_k\] <p>어떻게 파이썬으로 구현할 수 있나?</p> <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="n">numpy</span> <span class="k">as</span> <span class="n">np</span>

<span class="n">a</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="nf">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>
<span class="n">b</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="nf">array</span><span class="p">([</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">])</span>

<span class="n">c</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="nf">cross</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="n">c</span><span class="p">)</span>  <span class="c1"># [-3  6 -3]
</span></code></pre></div> </div> </li> <li> <p>예시 <del>tetrahedral site &amp; octaheral site 크기 구하기</del></p> </li> </ul> <h3 id="05-1-4-broadcasting">05-1-4. <a href="https://numpy.org/devdocs/user/basics.broadcasting.html#basics-broadcasting" rel="external nofollow noopener" target="_blank">Broadcasting</a> </h3> <ul> <li> <p>브로드캐스팅은 서로 다른 shape의 배열끼리 연산할 때 NumPy가 자동으로 차원을 맞춰주는 기능</p> </li> <li> <p>예시 (1차원+0차원(스칼라))</p> <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="n">arr</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="nf">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">])</span>
<span class="nf">print</span><span class="p">(</span><span class="n">arr</span> <span class="o">+</span> <span class="mi">10</span><span class="p">)</span>  <span class="c1"># [11 12 13 ... 19] ## stretched ..
</span></code></pre></div> </div> </li> <li> <p>예시 (2차원 + 1차원)</p> <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="n">mat</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="nf">array</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span>
                <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]])</span>
<span class="n">vec</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="nf">array</span><span class="p">([</span><span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">30</span><span class="p">])</span>

<span class="nf">print</span><span class="p">(</span><span class="n">mat</span> <span class="o">+</span> <span class="n">vec</span><span class="p">)</span>
<span class="c1"># [[11 22 33]
#  [14 25 36]]
</span></code></pre></div> </div> </li> <li> <p>주의!</p> <p>뒤에서부터 비교하며 차원이 같거나 1이면 확장 가능 하나라도 불가능하면 에러 발생</p> </li> </ul> <h3 id="05-1-5-other-various-features">05-1-5. Other various features</h3> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="n">arr</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="nf">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">16</span><span class="p">])</span>

  <span class="nf">print</span><span class="p">(</span><span class="n">np</span><span class="p">.</span><span class="nf">sqrt</span><span class="p">(</span><span class="n">arr</span><span class="p">))</span>   <span class="c1"># 제곱근 → [1. 2. 3. 4.]
</span>  <span class="nf">print</span><span class="p">(</span><span class="n">np</span><span class="p">.</span><span class="nf">exp</span><span class="p">(</span><span class="n">arr</span><span class="p">))</span>    <span class="c1"># e^x
</span>  <span class="nf">print</span><span class="p">(</span><span class="n">np</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="n">arr</span><span class="p">))</span>    <span class="c1"># 자연로그
</span>  <span class="nf">print</span><span class="p">(</span><span class="n">np</span><span class="p">.</span><span class="nf">sin</span><span class="p">(</span><span class="n">arr</span><span class="p">))</span>    <span class="c1"># 사인 함수
</span>  <span class="nf">print</span><span class="p">(</span><span class="n">np</span><span class="p">.</span><span class="nf">mean</span><span class="p">(</span><span class="n">arr</span><span class="p">))</span>   <span class="c1"># 평균
</span>  <span class="nf">print</span><span class="p">(</span><span class="n">np</span><span class="p">.</span><span class="nf">sum</span><span class="p">(</span><span class="n">arr</span><span class="p">))</span>    <span class="c1"># 합
</span>  <span class="nf">print</span><span class="p">(</span><span class="n">np</span><span class="p">.</span><span class="nf">min</span><span class="p">(</span><span class="n">arr</span><span class="p">))</span>    <span class="c1"># 최소값
</span>  <span class="nf">print</span><span class="p">(</span><span class="n">np</span><span class="p">.</span><span class="nf">max</span><span class="p">(</span><span class="n">arr</span><span class="p">))</span>    <span class="c1"># 최대값
</span>  <span class="nf">print</span><span class="p">(</span><span class="n">np</span><span class="p">.</span><span class="nf">std</span><span class="p">(</span><span class="n">arr</span><span class="p">))</span>    <span class="c1"># 표준편차
</span>
  <span class="n">arr</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="nf">array</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">])</span>

  <span class="nf">print</span><span class="p">(</span><span class="n">np</span><span class="p">.</span><span class="nf">sort</span><span class="p">(</span><span class="n">arr</span><span class="p">))</span>        <span class="c1"># 정렬된 배열
</span>  <span class="nf">print</span><span class="p">(</span><span class="n">np</span><span class="p">.</span><span class="nf">argsort</span><span class="p">(</span><span class="n">arr</span><span class="p">))</span>     <span class="c1"># 정렬 인덱스
</span>  <span class="nf">print</span><span class="p">(</span><span class="n">np</span><span class="p">.</span><span class="nf">argmax</span><span class="p">(</span><span class="n">arr</span><span class="p">))</span>      <span class="c1"># 최대값 인덱스
</span>  <span class="nf">print</span><span class="p">(</span><span class="n">np</span><span class="p">.</span><span class="nf">argmin</span><span class="p">(</span><span class="n">arr</span><span class="p">))</span>      <span class="c1"># 최소값 인덱스
</span>
  <span class="n">ind</span><span class="o">=</span><span class="n">np</span><span class="p">.</span><span class="nf">argsort</span><span class="p">(</span><span class="n">arr</span><span class="p">)</span>
  <span class="n">arr</span><span class="p">[</span><span class="n">ind</span><span class="p">]</span> <span class="c1">## sorting 이 된 배열
</span>
  <span class="c1"># 추가 예제
</span>  <span class="n">names</span><span class="o">=</span><span class="p">[</span><span class="sh">'</span><span class="s">Michael</span><span class="sh">'</span><span class="p">,</span><span class="sh">'</span><span class="s">Jim</span><span class="sh">'</span><span class="p">,</span><span class="sh">'</span><span class="s">Pam</span><span class="sh">'</span><span class="p">,</span><span class="sh">'</span><span class="s">Dwight</span><span class="sh">'</span><span class="p">,</span><span class="sh">'</span><span class="s">Kevin</span><span class="sh">'</span><span class="p">,</span><span class="sh">'</span><span class="s">Creed</span><span class="sh">'</span><span class="p">]</span>
  <span class="n">scores</span><span class="o">=</span><span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">40</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">25</span><span class="p">]</span>

  <span class="n">inds</span><span class="o">=</span><span class="n">np</span><span class="p">.</span><span class="nf">argsort</span><span class="p">(</span><span class="n">scores</span><span class="p">)</span>
  <span class="nf">print</span><span class="p">(</span><span class="n">names</span><span class="p">[</span><span class="n">inds</span><span class="p">])</span> <span class="c1">## score에 따라 정렬된 배열
</span></code></pre></div></div> <h2 id="수업-05-2">수업 05-2</h2> <h3 id="05-2-1-행렬과-벡터-연산의-einstein-summation-표기">05-2-1 행렬과 벡터 연산의 Einstein summation 표기</h3> <ul> <li> <p>벡터 스케일링 (스칼라 곱)</p> \[c\boldsymbol a=\boldsymbol b\] <p>이를 index 표기법으로 나타내면</p> \[b_i=ca_i \text{ with } i=1,2,3\] <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="c1">## List로 구현
</span><span class="n">c</span><span class="o">=</span><span class="mf">0.3</span>
<span class="n">a</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">]</span>
<span class="n">b</span><span class="o">=</span><span class="p">[]</span> <span class="c1"># empty list
</span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="mi">3</span><span class="p">):</span> <span class="c1">## iteration
</span>  <span class="n">b</span><span class="p">.</span><span class="nf">append</span><span class="p">(</span><span class="n">c</span><span class="o">*</span><span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>

<span class="c1">## Numpy로 구현
</span><span class="n">c</span><span class="o">=</span><span class="mf">0.3</span>
<span class="n">a</span><span class="o">=</span><span class="n">np</span><span class="p">.</span><span class="nf">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span>
<span class="n">b</span><span class="o">=</span><span class="n">c</span><span class="o">*</span><span class="n">a</span> <span class="c1">## broadcasting
</span></code></pre></div> </div> </li> <li> <p>단위 벡터 (unit) 벡터 \(\boldsymbol a\)의 크기가 1 이라면 (즉 \(|\boldsymbol a=1|\)), 벡터 \(\boldsymbol a\) 를 단위 벡터(unit vector)라 부른다.</p> <ul> <li> <p>주어진 한 벡터</p> <p>\(\boldsymbol a\)의 단위 벡터를 \(\bar{\boldsymbol a}\)라 할 때 아래와 같이 그 관계가 표현될 수 있다.</p> \[\bar{\boldsymbol a}=\frac{\boldsymbol a}{|\boldsymbol a|}\] <p>혹은 인덱스를 활용해 아래와 같이 표현된다.</p> \[\bar{a}_i=\frac{a_i}{\sqrt{a_1^2+a_2^2+a_3^2}}\] </li> <li> <p>예시: 주어진 벡터 \(\boldsymbol a\)와 방향은 같으나 크기가 1인 단위 벡터를 구하시오.</p> <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="n">a</span><span class="o">=</span><span class="p">[</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">]</span>
<span class="n">magnitude</span><span class="o">=</span><span class="mf">0.</span> <span class="c1">## 벡터 크기
</span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="nf">len</span><span class="p">(</span><span class="n">a</span><span class="p">)):</span>
  <span class="n">magnitude</span><span class="o">+=</span><span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">**</span><span class="mi">2</span>
<span class="n">magnitude</span><span class="o">=</span><span class="n">magnitude</span><span class="o">**</span><span class="mf">0.5</span> <span class="c1">## sqrt(a)
</span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="nf">len</span><span class="p">(</span><span class="n">a</span><span class="p">)):</span>
  <span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">=</span><span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">/</span><span class="n">mag</span>
<span class="nf">print</span><span class="p">(</span><span class="n">bar_a</span><span class="p">)</span>
</code></pre></div> </div> <p>위를 Numpy를 활용하면</p> <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="n">numpy</span> <span class="k">as</span> <span class="n">np</span>
<span class="n">old_a</span><span class="o">=</span><span class="n">np</span><span class="p">.</span><span class="nf">array</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">])</span>
<span class="n">new_a</span><span class="o">=</span><span class="n">old_a</span><span class="o">**</span><span class="mi">2</span>
<span class="n">mag</span><span class="o">=</span><span class="n">np</span><span class="p">.</span><span class="nf">sqrt</span><span class="p">(</span><span class="n">new_a</span><span class="p">.</span><span class="nf">sum</span><span class="p">())</span>
<span class="n">bar_a</span><span class="o">=</span><span class="n">old_a</span><span class="o">/</span><span class="n">mag</span>
<span class="nf">print</span><span class="p">(</span><span class="n">bar_a</span><span class="p">)</span>
</code></pre></div> </div> <p>혹은 더욱 축약한다면</p> <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="n">nump</span> <span class="k">as</span> <span class="n">np</span>
<span class="n">old_a</span><span class="o">=</span><span class="n">np</span><span class="p">.</span><span class="nf">array</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">])</span>
<span class="n">bar_a</span><span class="o">=</span><span class="n">old_a</span><span class="o">/</span><span class="n">np</span><span class="p">.</span><span class="nf">sqrt</span><span class="p">((</span><span class="n">old_a</span><span class="o">**</span><span class="mi">2</span><span class="p">).</span><span class="nf">sum</span><span class="p">())</span>
<span class="nf">print</span><span class="p">(</span><span class="n">bar_a</span><span class="p">)</span>
</code></pre></div> </div> </li> </ul> </li> <li> <p>벡터 내적</p> \[\boldsymbol a \cdot \boldsymbol b = \sum_i^3 a_ib_i=c\] <p>위를 <a href="https://ko.wikipedia.org/wiki/%EC%95%84%EC%9D%B8%EC%8A%88%ED%83%80%EC%9D%B8_%ED%91%9C%EA%B8%B0%EB%B2%95" rel="external nofollow noopener" target="_blank">Einstein summation convention</a>으로 표기하면</p> \[\boldsymbol a \cdot \boldsymbol b = a_ib_i=c\] <p>summation 기호 \(\sum_i^3\)가 생략되어 있음에 주목하시오.</p> <ul> <li>NumPy 없이 구현</li> </ul> <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="c1">## Numpy없이 구현
</span><span class="n">a</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">]</span>
<span class="n">b</span><span class="o">=</span><span class="p">[</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">]</span>
<span class="n">c</span><span class="o">=</span><span class="mf">0.</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="mi">3</span><span class="p">):</span>
  <span class="n">c</span><span class="o">=</span><span class="n">c</span><span class="o">+</span><span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">*</span><span class="n">b</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
<span class="nf">print</span><span class="p">(</span><span class="n">c</span><span class="p">)</span>
</code></pre></div> </div> <ul> <li>\(\sum_i^n\) 가 있을 때,</li> </ul> <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="n">c</span><span class="o">=</span><span class="mf">0.</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
  <span class="n">c</span><span class="o">=</span><span class="n">c</span><span class="o">+</span> <span class="bp">...</span>
</code></pre></div> </div> <p>형태로 Python코드로 구현가능함을 이해하자.</p> <ul> <li>NumPy의 broadcasting 활용하여 구현할 수도 있다.</li> </ul> <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="n">numpy</span> <span class="k">as</span> <span class="n">np</span>
<span class="c1">## Numpy로 구현
</span><span class="n">a</span><span class="o">=</span><span class="n">np</span><span class="p">.</span><span class="nf">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span>
<span class="n">b</span><span class="o">=</span><span class="n">np</span><span class="p">.</span><span class="nf">array</span><span class="p">([</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">])</span>
<span class="n">c</span><span class="o">=</span><span class="n">a</span><span class="o">*</span><span class="n">b</span>  <span class="c1">## element-wise operation되는 것을 유념하라.
</span>        <span class="c1">## 즉 c=np.array([a[0]*b[0],a[1]*b[1],a[2]*b[2]])
</span><span class="n">c</span><span class="o">=</span><span class="n">c</span><span class="p">.</span><span class="nf">sum</span><span class="p">()</span>
<span class="nf">print</span><span class="p">(</span><span class="n">c</span><span class="p">)</span>

<span class="c1">#혹은 마지막 두 줄을 줄여서 아래와 같은 한줄의 명령어로 바꿀 수 있겠다.
</span><span class="n">c</span><span class="o">=</span><span class="p">(</span><span class="n">a</span><span class="o">*</span><span class="n">b</span><span class="p">).</span><span class="nf">sum</span><span class="p">()</span>
<span class="nf">print</span><span class="p">(</span><span class="n">c</span><span class="p">)</span>
</code></pre></div> </div> </li> <li> <p>n차 행렬과 벡터 곱</p> \[\boldsymbol c = \boldsymbol A \cdot \boldsymbol v\] \[c_i = \sum_j^nA_{ij}v_j \ \text{ for } i=1,2,...,n\] <p>위를 Einstein summation convention으로 표기하면</p> \[c_i=A_{ij}v_j\] <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="n">n</span><span class="p">):</span> <span class="c1"># 각 c[i]성분의 초기값을 0으로.
</span>  <span class="n">c</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">=</span><span class="mf">0.</span>
  <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="n">n</span><span class="p">):</span> <span class="c1"># 생략된 summation 기호에 해당하는 loop
</span>    <span class="n">c</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">=</span><span class="n">c</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">+</span><span class="n">A</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">]</span><span class="o">*</span><span class="n">v</span><span class="p">[</span><span class="n">j</span><span class="p">]</span>
</code></pre></div> </div> </li> <li> <p>행렬 곱 (single dot)</p> \[\boldsymbol C = \boldsymbol A\cdot \boldsymbol B\] \[C_{ij} = \sum_k^3 A_{ik}B_{kj} \text{ for } (i,j) \text{ of } (1,1), (1,2), ... , (n,n-1), (n,n)\] <p>NumPy를 사용하지 않는다면 아래와 같은 예시로 표현될 수 있겠다.</p> <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="n">A</span><span class="o">=</span><span class="p">[[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],[</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">],[</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">9</span><span class="p">]]</span>
<span class="n">B</span><span class="o">=</span><span class="p">[[</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">],[</span><span class="mi">6</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">4</span><span class="p">],[</span><span class="mi">9</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">7</span><span class="p">]]</span>
<span class="n">C</span><span class="o">=</span><span class="p">[]</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="mi">3</span><span class="p">):</span> <span class="c1"># C행렬의 각 행을 초기화
</span>  <span class="n">C</span><span class="p">.</span><span class="nf">append</span><span class="p">([])</span>
  <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="mi">3</span><span class="p">):</span> <span class="c1"># C형렬 각 행에서의 j렬의 초기값에 0 대입
</span>    <span class="n">C</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="nf">append</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="mi">3</span><span class="p">):</span> <span class="c1"># sum_k^3에 해당하는 summation!
</span>      <span class="n">C</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span><span class="o">+=</span><span class="n">A</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">k</span><span class="p">]</span><span class="o">*</span><span class="n">B</span><span class="p">[</span><span class="n">k</span><span class="p">][</span><span class="n">j</span><span class="p">]</span>
</code></pre></div> </div> <p><code class="language-plaintext highlighter-rouge">NumPy</code>를 활용한다면?</p> <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="n">numpy</span> <span class="k">as</span> <span class="n">np</span>
<span class="n">A</span><span class="o">=</span><span class="n">np</span><span class="p">.</span><span class="nf">array</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],[</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">],[</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">9</span><span class="p">]])</span>
<span class="n">B</span><span class="o">=</span><span class="n">np</span><span class="p">.</span><span class="nf">array</span><span class="p">([[</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">],[</span><span class="mi">6</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">4</span><span class="p">],[</span><span class="mi">9</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">7</span><span class="p">]])</span>
<span class="n">C</span><span class="o">=</span><span class="n">np</span><span class="p">.</span><span class="nf">zeros</span><span class="p">((</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">))</span> <span class="c1">## 처음부터 0으로만 가득찬 3x3행렬 초기화
</span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="mi">3</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="mi">3</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="mi">3</span><span class="p">):</span>
            <span class="c1">## Nested-list와 달리 ',' 콤마 기호로
</span>            <span class="c1">## 각 축의 index를 구분한다.
</span>            <span class="n">C</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">]</span><span class="o">+=</span><span class="n">A</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="n">k</span><span class="p">]</span><span class="o">*</span><span class="n">B</span><span class="p">[</span><span class="n">k</span><span class="p">,</span><span class="n">j</span><span class="p">]</span>
<span class="nf">print</span><span class="p">(</span><span class="n">C</span><span class="p">)</span>

<span class="c1"># 혹은 dot 활용하여
</span><span class="n">C</span><span class="o">=</span><span class="n">np</span><span class="p">.</span><span class="nf">dot</span><span class="p">(</span><span class="n">A</span><span class="p">,</span><span class="n">B</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="n">C</span><span class="p">)</span>
<span class="c1"># 혹은 더 줄여서 (python 3.5이상)
</span><span class="n">C</span><span class="o">=</span><span class="n">A</span><span class="nd">@B</span> <span class="c1"># dtype 이 float로 바뀜
</span><span class="nf">print</span><span class="p">(</span><span class="n">C</span><span class="p">)</span>
</code></pre></div> </div> </li> <li> <p>행렬 곱 (double dot)</p> \[c=\boldsymbol A : \boldsymbol B\] \[\rightarrow c=\sum_i\sum_jA_{ij}B_{ij}=\sum_j\sum_iA_{ij}B_{ij}=\sum_j\sum_iB_{ij}A_{ij}=\sum_i\sum_jB_{ij}A_{ij}\] <p>파이썬 코드로 바꾸면…</p> <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="n">A</span><span class="o">=</span><span class="p">[[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],[</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">],[</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">9</span><span class="p">]]</span>
<span class="n">B</span><span class="o">=</span><span class="p">[[</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">],[</span><span class="mi">6</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">4</span><span class="p">],[</span><span class="mi">9</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">7</span><span class="p">]]</span>
<span class="c1">## 1
</span><span class="n">c</span><span class="o">=</span><span class="mf">0.</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="mi">3</span><span class="p">):</span> <span class="c1"># i is outer
</span>  <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="mi">3</span><span class="p">):</span> <span class="c1"># j is inner
</span>    <span class="n">c</span><span class="o">+=</span><span class="n">A</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span><span class="o">*</span><span class="n">B</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span>
<span class="nf">print</span><span class="p">(</span><span class="n">c</span><span class="p">)</span>
<span class="c1">## 2, 안/바깥 for-loop 바뀜.
</span><span class="n">c</span><span class="o">=</span><span class="mf">0.</span>
<span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="mi">3</span><span class="p">):</span> <span class="c1"># j is outer
</span>  <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="mi">3</span><span class="p">):</span> <span class="c1"># i is inner
</span>    <span class="n">c</span><span class="o">+=</span><span class="n">A</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span><span class="o">*</span><span class="n">B</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span>
<span class="nf">print</span><span class="p">(</span><span class="n">c</span><span class="p">)</span>
<span class="c1">## 3. 안/바깥 for-loop 바뀜, 그리고 A와 B의 순서 바뀜
</span><span class="n">c</span><span class="o">=</span><span class="mf">0.</span>
<span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="mi">3</span><span class="p">):</span> <span class="c1"># j is outer
</span>  <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="mi">3</span><span class="p">):</span> <span class="c1"># i is inner
</span>    <span class="n">c</span><span class="o">+=</span><span class="n">B</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span><span class="o">*</span><span class="n">A</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="c1"># A[i][j] x B[i][j] 혹은 B[i][j] x A[i][j]
</span><span class="nf">print</span><span class="p">(</span><span class="n">c</span><span class="p">)</span>
<span class="c1">## 4. A와 B의 순서 바뀜
</span><span class="n">c</span><span class="o">=</span><span class="mf">0.</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="mi">3</span><span class="p">):</span> <span class="c1"># i is outer
</span>  <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="mi">3</span><span class="p">):</span> <span class="c1"># j is inner
</span>    <span class="n">c</span><span class="o">+=</span><span class="n">B</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span><span class="o">*</span><span class="n">A</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="c1"># A[i][j] x B[i][j] 혹은 B[i][j] x A[i][j]
</span><span class="nf">print</span><span class="p">(</span><span class="n">c</span><span class="p">)</span>
</code></pre></div> </div> <p><code class="language-plaintext highlighter-rouge">NumPy</code>를 활용해서 표현해보자.</p> <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="n">A</span><span class="o">=</span><span class="n">np</span><span class="p">.</span><span class="nf">array</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],[</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">],[</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">9</span><span class="p">]])</span>
<span class="n">B</span><span class="o">=</span><span class="n">np</span><span class="p">.</span><span class="nf">array</span><span class="p">([[</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">],[</span><span class="mi">6</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">4</span><span class="p">],[</span><span class="mi">9</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">7</span><span class="p">]])</span>
<span class="c1">##
</span><span class="n">c</span><span class="o">=</span><span class="mf">0.</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="mi">3</span><span class="p">):</span> <span class="c1"># i is outer
</span>  <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="mi">3</span><span class="p">):</span> <span class="c1"># j is inner
</span>    <span class="n">c</span><span class="o">+=</span><span class="n">A</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">]</span><span class="o">*</span><span class="n">B</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">]</span>
</code></pre></div> </div> </li> </ul> <h1 id="week6-numpy-03-eigenvalue-ann">Week6 (NumPy 03, Eigenvalue, ANN)</h1> <h2 id="수업-06-1-eigenvalue">수업 06-1 (Eigenvalue)</h2> <h3 id="06-1-1-개념">06-1-1 개념</h3> <ul> <li> <p>고유값(eigen value): 행렬(특히 선형변환)을 적용했을 때, 크기만 변하고 방향은 변하지 않는 벡터의 크기 변화 비율.</p> </li> <li> <p>고유벡터(eigen vector): 그 “변하지 않는 방향”을 가지는 벡터.</p> </li> <li> <p>수식:</p> \[\boldsymbol A\cdot \boldsymbol v = \lambda \boldsymbol v\] <p>를 만족시키는 스칼라 \(\lambda\) 값을 고유값이라 한다. 위 관계를 만족시키는 고유값 세개가 각각 \(\lambda_1,\lambda_2,\lambda_3\)라면 \(\lambda_1\boldsymbol{v},\lambda_2\boldsymbol{v},\lambda_3\boldsymbol{v}\) 를 고유 벡터라 한다.</p> </li> </ul> <h3 id="06-1-2-선형-변환linear-transformation-linear-map">06-1-2 선형 변환(linear transformation; linear map)</h3> <h4 id="06-1-2-1-선형변환-조건">06-1-2-1 선형변환 조건</h4> <ul> <li>행렬과 벡터의 곱을, 벡터 맵핑으로 해석할 수 있다.</li> </ul> <p><img src="https://upload.wikimedia.org/wikipedia/commons/4/43/Streckung_eines_Vektors.gif" alt="vectormapping"></p> <ul> <li> <p>아래와 같은 두 조건을 만족시키는 행렬 \(\boldsymbol A\)를 선형변환 행렬이라 한다.</p> \[\boldsymbol A\cdot (\boldsymbol a+\boldsymbol b) = \boldsymbol A\cdot \boldsymbol a+ \boldsymbol A\cdot \boldsymbol b\] \[\boldsymbol A\cdot (\lambda\boldsymbol a)=\lambda A\cdot\boldsymbol a\] </li> </ul> <p><img src="https://upload.wikimedia.org/wikipedia/commons/2/25/Streckung_der_Summe_zweier_Vektoren.gif" alt="cond1"></p> <p><img src="https://upload.wikimedia.org/wikipedia/commons/e/e6/Streckung_homogenitaet_Version_3.gif" alt="cond2"></p> <p>** <a href="https://en.wikipedia.org/wiki/Linear_map" rel="external nofollow noopener" target="_blank">Wikipedia 발췌 이미지</a></p> <h4 id="06-1-2-2-선형변환-특성">06-1-2-2 선형변환 특성</h4> <ul> <li>선형변환의 특성을 잘 반영하는 방향을 찾을 수 있다.</li> <li>아래의 행렬은 선형변환을 하며, 그 특성을 대표하는 두 방향을 빨간색으로 나타내었다.</li> </ul> <h3 id="06-1-3-예시">06-1-3 예시</h3> <ul> <li> <p>2차원 예시01</p> \[\begin{bmatrix} A_{11}&amp;A_{12}\\ A_{21}&amp;A_{22} \end{bmatrix} \begin{bmatrix} v_1\\ v_2 \end{bmatrix} = \lambda \begin{bmatrix} v_1\\ v_2 \end{bmatrix}\] \[A_{11}v_1+A_{12}v_2=\lambda v_1\ \ \ \ (1)\] \[A_{21}v_1+A_{22}v_2=\lambda v_2\ \ \ \ (2)\] <p>(1)식을 고치면,</p> \[(A_{11}-\lambda)v_1=-A_{12}v_2\] <p>따라서</p> \[v_1=\frac{-A_{12}}{A_{11}-\lambda}v_2\] <p>(2)에 대입하면</p> \[\frac{-A_{21}A_{12}}{A_{11}-\lambda}v_2+A_{22}v_2=\lambda v_2\ \ \ \ (3)\] <p>(3)의 \(v_2=0\)인 해는 trivial. 이걸 제외하면,</p> \[\frac{-A_{21}A_{12}}{A_{11}-\lambda}+A_{22}=\lambda\] <p>정리하면</p> \[-A_{21}A_{12}+A_{22}(A_{11}-\lambda)=\lambda(A_{11}-\lambda)\] <p>위는 \(\lambda\)에 대한 2차 방정식이며</p> \[\lambda^2-(A_{11}-A_{22})\lambda-A_{21}A_{12}+A_{22}A_{11}=0\] </li> <li> <p>2차원 예시02</p> \[\boldsymbol A\cdot \boldsymbol v = \lambda \boldsymbol v \ \ \ \rightarrow \ \ \ (\boldsymbol A-\lambda\boldsymbol I)\cdot v=0\] \[\boldsymbol A = \begin{bmatrix} A_{11}&amp; A_{12}\\ A_{21}&amp; A_{22} \end{bmatrix}\] <p>그리고</p> \[\boldsymbol I = \begin{bmatrix} 1&amp; 0\\ 0&amp; 1 \end{bmatrix}\] <p>고유값 \(\lambda\)는 아래와 같이 구해진다.</p> \[\det(\boldsymbol A-\lambda\boldsymbol I)=0\] <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="n">numpy</span> <span class="k">as</span> <span class="n">np</span>
<span class="k">def</span> <span class="nf">eig2x2</span><span class="p">(</span><span class="n">A</span><span class="p">):</span>
    <span class="n">a</span><span class="o">=</span><span class="n">A</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">b</span><span class="o">=</span><span class="n">A</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span>
    <span class="n">c</span><span class="o">=</span><span class="n">A</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">d</span><span class="o">=</span><span class="n">A</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span>
    <span class="n">tr</span> <span class="o">=</span> <span class="n">a</span> <span class="o">+</span> <span class="n">d</span>
    <span class="n">det</span> <span class="o">=</span> <span class="n">a</span><span class="o">*</span><span class="n">d</span> <span class="o">-</span> <span class="n">b</span><span class="o">*</span><span class="n">c</span>
    <span class="n">disc</span> <span class="o">=</span> <span class="n">tr</span><span class="o">*</span><span class="n">tr</span> <span class="o">-</span> <span class="mi">4</span><span class="o">*</span><span class="n">det</span>
    <span class="n">lam1</span> <span class="o">=</span> <span class="p">(</span><span class="n">tr</span> <span class="o">+</span> <span class="n">np</span><span class="p">.</span><span class="nf">sqrt</span><span class="p">(</span><span class="n">disc</span><span class="p">))</span> <span class="o">/</span> <span class="mi">2</span>
    <span class="n">lam2</span> <span class="o">=</span> <span class="p">(</span><span class="n">tr</span> <span class="o">-</span> <span class="n">np</span><span class="p">.</span><span class="nf">sqrt</span><span class="p">(</span><span class="n">disc</span><span class="p">))</span> <span class="o">/</span> <span class="mi">2</span>
    <span class="k">return</span> <span class="n">lam1</span><span class="p">,</span> <span class="n">lam2</span>

<span class="n">A</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="nf">array</span><span class="p">([[</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">],[</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">]],</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">float</span><span class="p">)</span>
<span class="n">lam1</span><span class="p">,</span> <span class="n">lam2</span> <span class="o">=</span> <span class="nf">eig2x2</span><span class="p">(</span><span class="n">A</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">manual:</span><span class="sh">"</span><span class="p">,</span> <span class="n">lam1</span><span class="p">,</span> <span class="n">lam2</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">numpy :</span><span class="sh">"</span><span class="p">,</span> <span class="n">np</span><span class="p">.</span><span class="n">linalg</span><span class="p">.</span><span class="nf">eigvals</span><span class="p">(</span><span class="n">A</span><span class="p">))</span>
</code></pre></div> </div> </li> <li>예시 주어진 <a href="data/matrix_03.txt">파일</a>의 매트릭스의 값들을 활용해서 각 파일에서 고유값들을 구해서 출력하시오. <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="n">numpy</span> <span class="k">as</span> <span class="n">np</span>
<span class="k">def</span> <span class="nf">eig2x2</span><span class="p">(</span><span class="n">A</span><span class="p">):</span>
    <span class="n">a</span><span class="o">=</span><span class="n">A</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">b</span><span class="o">=</span><span class="n">A</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span>
    <span class="n">c</span><span class="o">=</span><span class="n">A</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">d</span><span class="o">=</span><span class="n">A</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span>
    <span class="n">tr</span> <span class="o">=</span> <span class="n">a</span> <span class="o">+</span> <span class="n">d</span>
    <span class="n">det</span> <span class="o">=</span> <span class="n">a</span><span class="o">*</span><span class="n">d</span> <span class="o">-</span> <span class="n">b</span><span class="o">*</span><span class="n">c</span>
    <span class="n">disc</span> <span class="o">=</span> <span class="n">tr</span><span class="o">*</span><span class="n">tr</span> <span class="o">-</span> <span class="mi">4</span><span class="o">*</span><span class="n">det</span>
    <span class="n">lam1</span> <span class="o">=</span> <span class="p">(</span><span class="n">tr</span> <span class="o">+</span> <span class="n">np</span><span class="p">.</span><span class="nf">sqrt</span><span class="p">(</span><span class="n">disc</span><span class="p">))</span> <span class="o">/</span> <span class="mi">2</span>
    <span class="n">lam2</span> <span class="o">=</span> <span class="p">(</span><span class="n">tr</span> <span class="o">-</span> <span class="n">np</span><span class="p">.</span><span class="nf">sqrt</span><span class="p">(</span><span class="n">disc</span><span class="p">))</span> <span class="o">/</span> <span class="mi">2</span>
    <span class="k">return</span> <span class="n">lam1</span><span class="p">,</span> <span class="n">lam2</span>
<span class="n">d</span><span class="o">=</span><span class="n">np</span><span class="p">.</span><span class="nf">loadtxt</span><span class="p">(</span><span class="sh">'</span><span class="s">../data/matrix_03.txt</span><span class="sh">'</span><span class="p">,</span><span class="n">skiprows</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">mat2x2</span> <span class="ow">in</span> <span class="nf">enumerate</span><span class="p">(</span><span class="n">d</span><span class="p">):</span>
    <span class="n">mat</span><span class="o">=</span><span class="n">mat2x2</span><span class="p">.</span><span class="nf">reshape</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
    <span class="nf">print</span><span class="p">(</span><span class="nf">eig2x2</span><span class="p">(</span><span class="n">mat</span><span class="p">))</span> <span class="c1">## nan 은 어던 경우인가?
</span></code></pre></div> </div> </li> <li> <code class="language-plaintext highlighter-rouge">np.ling.eigen</code>활용 소개</li> </ul> <h2 id="수업-06-2-ann-activation">수업 06-2 (ANN, Activation)</h2> <ul> <li>인공 신경망 (Artificial Neural Network) <ul> <li> <a href="https://ko.wikipedia.org/wiki/%EC%8B%A0%EA%B2%BD%EB%A7%9D" rel="external nofollow noopener" target="_blank">인공 신경망</a> (<a href="https://en.wikipedia.org/wiki/Neural_network_(machine_learning)" rel="external nofollow noopener" target="_blank">neutral network</a>)에 쓰이는 일반적인 <a href="https://ko.wikipedia.org/wiki/%EC%9D%B8%EA%B3%B5_%EB%89%B4%EB%9F%B0" rel="external nofollow noopener" target="_blank">인공뉴런</a> (<a href="https://en.wikipedia.org/wiki/Artificial_neuron" rel="external nofollow noopener" target="_blank">artificial neuron</a>)은 다음 형태를 가지는 경우가 많다.</li> <li>신경망</li> </ul> </li> <li> <p>Basic structure of Artificial Neural Network</p> <ul> <li> <p>행렬곱과 더하기 조합. 아래 수식은 실제로 Artifical Neutral Network(ANN)에서 널리 활용되는 형태의 연산이다.</p> \[\boldsymbol y=\boldsymbol W\cdot \boldsymbol x + \boldsymbol b\] \[y_i=\bigg(\sum_j^mW_{ij}x_j\bigg)+b_i=W_{ij}x_j+b_i \text{ with } i=1,2, ..., n\] <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="n">W</span><span class="o">=</span><span class="n">np</span><span class="p">.</span><span class="nf">array</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">],[</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">]])</span> <span class="c1">## 2x4 행렬 (with n and m beging 2 and 4, respectively)
</span><span class="n">x</span><span class="o">=</span><span class="n">np</span><span class="p">.</span><span class="nf">array</span><span class="p">([</span><span class="mf">5.5</span><span class="p">,</span><span class="mf">0.1</span><span class="p">,</span><span class="mf">0.3</span><span class="p">,</span><span class="mf">1.0</span><span class="p">])</span>     <span class="c1">## 4 (nested 가 아님. 1차원 임에 유의)
</span><span class="n">b</span><span class="o">=</span><span class="n">np</span><span class="p">.</span><span class="nf">array</span><span class="p">([</span><span class="o">-</span><span class="mf">0.5</span><span class="p">,</span><span class="o">+</span><span class="mf">0.5</span><span class="p">])</span>

<span class="n">n</span><span class="o">=</span><span class="mi">2</span>
<span class="n">m</span><span class="o">=</span><span class="mi">4</span>
<span class="n">y</span><span class="o">=</span><span class="n">np</span><span class="p">.</span><span class="nf">zeros</span><span class="p">(</span><span class="n">n</span><span class="p">)</span> <span class="c1"># 주의 정수 n은 2이다.
</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="n">n</span><span class="p">):</span> <span class="c1">## i=1,2,...,n
</span>  <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="n">m</span><span class="p">):</span>
    <span class="n">y</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">+=</span><span class="n">W</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">]</span><span class="o">*</span><span class="n">x</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="o">+</span><span class="n">b</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
<span class="nf">print</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
<span class="c1">## 위 표현은 틀렸다.
## 올바른 표현의 예는 아래와 같다. 무엇이 고쳐졌는가?
</span><span class="n">n</span><span class="o">=</span><span class="mi">2</span>
<span class="n">m</span><span class="o">=</span><span class="mi">4</span>
<span class="n">y</span><span class="o">=</span><span class="n">np</span><span class="p">.</span><span class="nf">zeros</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="n">n</span><span class="p">):</span> <span class="c1">## i=1,2,...,n
</span>  <span class="n">y</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">+=</span><span class="n">b</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
  <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="n">m</span><span class="p">):</span>
    <span class="n">y</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">+=</span><span class="n">W</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">]</span><span class="o">*</span><span class="n">x</span><span class="p">[</span><span class="n">j</span><span class="p">]</span>
<span class="c1">## summation_j^m가 어디까지의 term에 적용되는지 정확히 알아야 함.
</span><span class="nf">print</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
</code></pre></div> </div> </li> <li> <p>예시</p> </li> </ul> <p><code class="language-plaintext highlighter-rouge">W[n,m]</code>행렬과 <code class="language-plaintext highlighter-rouge">x[m]</code>벡터, 그리고 <code class="language-plaintext highlighter-rouge">b[n]</code>벡터로 구성된 배열을 활용해 위 수식</p> \[\boldsymbol v=\boldsymbol W\cdot \boldsymbol x + \boldsymbol b\] <p>을 계산하여 리턴하는 함수를 만드시오.</p> <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code>  <span class="k">def</span> <span class="nf">neuron</span><span class="p">(</span><span class="n">w</span><span class="p">,</span><span class="n">x</span><span class="p">,</span><span class="n">b</span><span class="p">):</span>
      <span class="sh">"""</span><span class="s">
      Arguments
      ---------
      W: ndarray
       [m x n] matrix (weight)
      b: ndarray
       [n] vector (bias)

      Returns
      -------
      W.x + b
      </span><span class="sh">"""</span>
      <span class="n">n</span><span class="p">,</span><span class="n">m</span><span class="o">=</span><span class="n">w</span><span class="p">.</span><span class="nf">shape</span><span class="p">()</span> <span class="c1"># tuple
</span>      <span class="n">y</span><span class="o">=</span><span class="n">np</span><span class="p">.</span><span class="nf">zeros</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
      <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
        <span class="n">y</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">+=</span><span class="n">b</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
        <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="n">m</span><span class="p">):</span>
          <span class="n">y</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">+=</span><span class="n">w</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">]</span><span class="o">*</span><span class="n">x</span><span class="p">[</span><span class="n">j</span><span class="p">]</span>
      <span class="k">return</span> <span class="n">y</span>
</code></pre></div> </div> </li> <li>Activation <ul> <li> <p><a href="https://ko.wikipedia.org/wiki/%EC%8B%A0%EA%B2%BD%EB%A7%9D" rel="external nofollow noopener" target="_blank">인공 신경망</a> (<a href="https://en.wikipedia.org/wiki/Neural_network_(machine_learning)" rel="external nofollow noopener" target="_blank">neutral network</a>)에 쓰이는 일반적인 <a href="https://ko.wikipedia.org/wiki/%EC%9D%B8%EA%B3%B5_%EB%89%B4%EB%9F%B0" rel="external nofollow noopener" target="_blank">인공뉴런</a> (<a href="https://en.wikipedia.org/wiki/Artificial_neuron" rel="external nofollow noopener" target="_blank">artificial neuron</a>)은 다음 형태를 가지는 경우가 많다.</p> \[y_k=\phi\bigg(\sum_{j}^mw_{kj}x_j+b_k\bigg)\] <p>이 때 \(\phi\)는 activation function이라 불리며 다양한 형태가 사용되고 있다. 우리는 이를 element-wise로 적용되는 함수라 보자.</p> </li> <li> <p>Activation function</p> <ul> <li> <p>Binary step</p> \[\phi(x_i)=0 \text{ if } x_i&lt;0 \newline \phi(x_i)=1 \text{ if } x_i\geq0\] <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">act_func_binary</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
  <span class="sh">"""</span><span class="s">
  Binary function as the activation function for neuron
  </span><span class="sh">"""</span>
  <span class="n">flg</span><span class="o">=</span><span class="n">x</span><span class="o">&gt;=</span><span class="mi">0</span>
  <span class="n">y</span><span class="o">=</span><span class="n">np</span><span class="p">.</span><span class="nf">zeros</span><span class="p">(</span><span class="n">x</span><span class="p">.</span><span class="n">shape</span><span class="p">)</span>
  <span class="n">y</span><span class="p">[</span><span class="n">flg</span><span class="p">]</span><span class="o">=</span><span class="mf">1.</span>
  <span class="k">return</span> <span class="n">y</span>
</code></pre></div> </div> </li> <li> <p>예시 (Logistic function)</p> \[\phi(x_i)=\frac{1}{1+e^{-x_i}}\] </li> <li> <p>예시: Rectified linear unit (ReLU)</p> \[\phi(x_i)=\frac{x+|x|}{2}\] </li> </ul> </li> </ul> </li> </ul> <h1 id="week7-중간고사">Week7 (중간고사)</h1> <h2 id="수업-07-1">수업 07-1</h2> <ul> <li>목표 <ul> <li>복습, 출제 방향 설명</li> </ul> </li> </ul> <h2 id="수업-07-2">수업 07-2</h2> <h1 id="week8-matplotlib-01">Week8 (Matplotlib 01)</h1> <ul> <li>목표 <ul> <li>axes, figure 를 만들 수 있다.</li> <li>선(line), 점(dot)으로 이루어진 그래프를 그릴 수 있다.</li> <li>x축, y축의 label, tick, limits을 만들 수 있다.</li> <li>linear scale, logscale을 만들고 이해할 수 있다.</li> <li>파일로부터 데이터를 불러오고, 이를 graph로 바꿀 수 있다.</li> </ul> </li> </ul> <h2 id="수업-08-1">수업 08-1</h2> <ul> <li> <a href="www.matplotlib.org">Matplotlib</a>: Python에서 데이터를 시각화하는 가장 널리 쓰이는 라이브러리.</li> <li>주로 사용되는 인터페이스: pyplot 모듈 <ul> <li> <p>plt interface</p> <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="n">matplotlib.pyplot</span> <span class="k">as</span> <span class="n">plt</span>
<span class="kn">import</span> <span class="n">matplotlib.pyplot</span> <span class="k">as</span> <span class="n">plt</span>

<span class="n">x</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span>
<span class="n">y</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">16</span><span class="p">]</span>

<span class="n">plt</span><span class="p">.</span><span class="nf">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>          <span class="c1"># 선 그래프
</span><span class="n">plt</span><span class="p">.</span><span class="nf">title</span><span class="p">(</span><span class="sh">"</span><span class="s">Basic Line Plot</span><span class="sh">"</span><span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="nf">xlabel</span><span class="p">(</span><span class="sh">"</span><span class="s">X-axis</span><span class="sh">"</span><span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="nf">ylabel</span><span class="p">(</span><span class="sh">"</span><span class="s">Y-axis</span><span class="sh">"</span><span class="p">)</span>
</code></pre></div> </div> </li> <li> <p>scatter plot</p> <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="n">x</span> <span class="o">=</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]</span>
<span class="n">y</span> <span class="o">=</span> <span class="p">[</span><span class="mi">99</span><span class="p">,</span> <span class="mi">86</span><span class="p">,</span> <span class="mi">87</span><span class="p">,</span> <span class="mi">88</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">86</span><span class="p">,</span> <span class="mi">103</span><span class="p">,</span> <span class="mi">87</span><span class="p">,</span> <span class="mi">94</span><span class="p">,</span> <span class="mi">78</span><span class="p">]</span>
<span class="n">plt</span><span class="p">.</span><span class="nf">scatter</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="sh">'</span><span class="s">red</span><span class="sh">'</span><span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="nf">title</span><span class="p">(</span><span class="sh">"</span><span class="s">Scatter Plot</span><span class="sh">"</span><span class="p">)</span>
</code></pre></div> </div> </li> <li> <p>그래프 꾸미기</p> <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code>  <span class="n">plt</span><span class="p">.</span><span class="nf">plot</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],[</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">9</span><span class="p">],</span> <span class="n">label</span><span class="o">=</span><span class="sa">r</span><span class="sh">'</span><span class="s">$y = x^2$</span><span class="sh">'</span><span class="p">)</span>
  <span class="n">plt</span><span class="p">.</span><span class="nf">plot</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span> <span class="n">label</span><span class="o">=</span><span class="sa">r</span><span class="sh">'</span><span class="s">$y = x$</span><span class="sh">'</span><span class="p">)</span>
  <span class="n">plt</span><span class="p">.</span><span class="nf">legend</span><span class="p">()</span> <span class="c1">## legend
</span></code></pre></div> </div> </li> <li> <p>subplot</p> <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code>  <span class="n">plt</span><span class="p">.</span><span class="nf">subplot</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>  <span class="c1"># 1행 2열 중 첫 번째
</span>  <span class="n">plt</span><span class="p">.</span><span class="nf">plot</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],[</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">9</span><span class="p">])</span>
  <span class="n">plt</span><span class="p">.</span><span class="nf">title</span><span class="p">(</span><span class="sh">"</span><span class="s">Left</span><span class="sh">"</span><span class="p">)</span>

  <span class="n">plt</span><span class="p">.</span><span class="nf">subplot</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>  <span class="c1"># 두 번째
</span>  <span class="n">plt</span><span class="p">.</span><span class="nf">plot</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span>
  <span class="n">plt</span><span class="p">.</span><span class="nf">title</span><span class="p">(</span><span class="sh">"</span><span class="s">Right</span><span class="sh">"</span><span class="p">)</span>
</code></pre></div> </div> </li> </ul> </li> <li> <p>Figure / axis objects</p> <p>Figure: 그래프 전체 “캔버스” Axes: 실제 데이터가 그려지는 “좌표 영역” (한 Figure 안에 여러 개의 Axes 가능: subplot)</p> <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="n">matplotlib.pyplot</span> <span class="k">as</span> <span class="n">plt</span>

<span class="c1"># Figure(도화지), Axes(좌표 영역) 생성
</span><span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="p">.</span><span class="nf">subplots</span><span class="p">()</span>

<span class="n">x</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span>
<span class="n">y</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">16</span><span class="p">]</span>

<span class="c1"># ax 객체를 활용해 데이터 플롯
</span><span class="n">ax</span><span class="p">.</span><span class="nf">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="sh">"</span><span class="s">y = x^2</span><span class="sh">"</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="sh">"</span><span class="s">blue</span><span class="sh">"</span><span class="p">)</span>

<span class="c1"># 그래프 꾸미기
</span><span class="n">ax</span><span class="p">.</span><span class="nf">set_title</span><span class="p">(</span><span class="sh">"</span><span class="s">Figure &amp; Axes Example</span><span class="sh">"</span><span class="p">)</span>
<span class="n">ax</span><span class="p">.</span><span class="nf">set_xlabel</span><span class="p">(</span><span class="sh">"</span><span class="s">X-axis</span><span class="sh">"</span><span class="p">)</span>
<span class="n">ax</span><span class="p">.</span><span class="nf">set_ylabel</span><span class="p">(</span><span class="sh">"</span><span class="s">Y-axis</span><span class="sh">"</span><span class="p">)</span>
<span class="n">ax</span><span class="p">.</span><span class="nf">legend</span><span class="p">()</span>
<span class="n">ax</span><span class="p">.</span><span class="nf">grid</span><span class="p">(</span><span class="bp">True</span><span class="p">)</span>

<span class="n">plt</span><span class="p">.</span><span class="nf">show</span><span class="p">()</span>
</code></pre></div> </div> </li> <li>예제 <ul> <li> <p>삼각함수를 그려보자.</p> \[y=\cos(\theta)\] \[y=\sin(\theta)\] \[y=\tan(\theta)\] </li> <li> <p>반지름의 길이가 10인 원을 그려보자.</p> \[x^2+y^2=10^2\] </li> <li> <p>길이 변화에 따라서 나타나는 공칭 변형률과 진형병률 그래프 관계를 그리고 이를 비교해보자.</p> \[\varepsilon=\ln(\epsilon+1)\] </li> <li> <p>Stress vs. strain curve 그리기 다음 <a href="/lecturenotes/data_mse/data/tensile_test_results.zip">압축파일</a>을 풀어서, 파일 하나를 살펴보자 - 예를 들어 <code class="language-plaintext highlighter-rouge">00_DD_WZ_01.csv</code> 위 데이터 파일을 활용해</p> <ol> <li>폭: 6.04 mm, 두께 2.99 mm 인걸 확인하고,</li> <li>힘과 변위 칼럼을 활용해서 응력과 변형률을 구하자.</li> <li>그 다음 응력과 변형률 곡선을 Figure로 그려보자.</li> </ol> </li> </ul> </li> </ul> <h2 id="수업-08-2-npmeshgrid-grid-contouring">수업 08-2 (np.meshgrid, grid, contouring)</h2> <h1 id="week9-force-vs-disp-curve-분석-최소-자승법">Week9 (Force vs. Disp curve 분석, 최소 자승법)</h1> <ul> <li>목표 <ul> <li>force vs. displacement 파일로 불러올 수 있다.</li> <li>응력 변형률로 데이터를 분석하고 이를 진응력 진변형률로 바꿀 수 있다.</li> <li>최소 자승법을 이해하고 활용할 수 있다.</li> </ul> </li> </ul> <h2 id="수업-09-1-force-vs-displ-데이터---응력-선도">수업 09-1 (Force vs. displ 데이터 -&gt; 응력 선도)</h2> <ul> <li>실습을 위해 필요한 다음 <a href="/lecturenotes/data_mse/data/calibration1.txt">calibration1</a>, <a href="/lecturenotes/data_mse/data/calibration2.txt">calibration2</a> 파일을 다운로드 받자.</li> <li>첫번째 calibration file은 변위 측정 장치에서 측정된 voltage 변화를 mm 단위의 변위로 ‘변환’해준다.</li> <li> <p>두번째 calibration file은 로드셀 (load)장치에서 측정된 voltage 변화를 kN 단위의 힘으로 ‘변환’해준다.</p> <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code>  <span class="kn">import</span> <span class="n">matplotlib.pyplot</span> <span class="k">as</span> <span class="n">plt</span>
  <span class="n">c1</span><span class="o">=</span><span class="n">np</span><span class="p">.</span><span class="nf">loadtxt</span><span class="p">(</span><span class="sh">'</span><span class="s">calibration1.txt</span><span class="sh">'</span><span class="p">)</span>
  <span class="n">c2</span><span class="o">=</span><span class="n">np</span><span class="p">.</span><span class="nf">loadtxt</span><span class="p">(</span><span class="sh">'</span><span class="s">calibration2.txt</span><span class="sh">'</span><span class="p">)</span>

  <span class="n">fig</span><span class="o">=</span><span class="n">plt</span><span class="p">.</span><span class="nf">figure</span><span class="p">()</span>
  <span class="n">ax1</span><span class="o">=</span><span class="n">fig</span><span class="p">.</span><span class="nf">add_subplot</span><span class="p">(</span><span class="mi">121</span><span class="p">)</span>
  <span class="n">ax2</span><span class="o">=</span><span class="n">fig</span><span class="p">.</span><span class="nf">add_subplot</span><span class="p">(</span><span class="mi">122</span><span class="p">)</span>

  <span class="n">y</span><span class="o">=</span><span class="n">c1</span><span class="p">[:,</span><span class="mi">0</span><span class="p">]</span> <span class="c1"># extension in [mm]
</span>  <span class="n">x</span><span class="o">=</span><span class="n">c1</span><span class="p">[:,</span><span class="mi">1</span><span class="p">]</span> <span class="c1"># voltage
</span>  <span class="c1">## 뒤죽박죽 시행된 calibration sheet의 데이터를 X(voltage)기준으로 정렬하자.
</span>  <span class="n">ind</span><span class="o">=</span><span class="n">np</span><span class="p">.</span><span class="nf">argsort</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
  <span class="n">y</span><span class="o">=</span><span class="n">y</span><span class="p">[</span><span class="n">ind</span><span class="p">]</span>
  <span class="n">x</span><span class="o">=</span><span class="n">x</span><span class="p">[</span><span class="n">ind</span><span class="p">]</span>
  <span class="c1"># 정렬된 calibration sheet 데이터를 그리자.
</span>  <span class="n">ax1</span><span class="p">.</span><span class="nf">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="sh">'</span><span class="s">-o</span><span class="sh">'</span><span class="p">,</span><span class="n">mfc</span><span class="o">=</span><span class="sh">'</span><span class="s">None</span><span class="sh">'</span><span class="p">,</span><span class="n">label</span><span class="o">=</span><span class="sh">'</span><span class="s">Calibration</span><span class="sh">'</span><span class="p">)</span>

  <span class="c1">## let's find out what y=ax+b fits this equation well.
</span>  <span class="n">a1</span><span class="o">=</span><span class="mf">0.1</span>
  <span class="n">b1</span><span class="o">=</span><span class="mf">0.1</span> <span class="c1">## a1 과  b1 을 바꿔가며 calibration 해보자.
</span>  <span class="n">xs</span><span class="o">=</span><span class="n">np</span><span class="p">.</span><span class="nf">linspace</span><span class="p">(</span><span class="o">-</span><span class="mi">4</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
  <span class="n">ys</span><span class="o">=</span><span class="n">xs</span><span class="o">*</span><span class="n">a1</span><span class="o">+</span><span class="n">b1</span>
  <span class="n">ax1</span><span class="p">.</span><span class="nf">plot</span><span class="p">(</span><span class="n">xs</span><span class="p">,</span><span class="n">ys</span><span class="p">,</span><span class="n">label</span><span class="o">=</span><span class="sh">'</span><span class="s">fit</span><span class="sh">'</span><span class="p">)</span>
  <span class="n">ax1</span><span class="p">.</span><span class="nf">legend</span><span class="p">()</span>

  <span class="n">y</span><span class="o">=</span><span class="n">c2</span><span class="p">[:,</span><span class="mi">0</span><span class="p">]</span> <span class="c1"># force in kN
</span>  <span class="n">x</span><span class="o">=</span><span class="n">c2</span><span class="p">[:,</span><span class="mi">1</span><span class="p">]</span> <span class="c1"># voltage
</span>  <span class="c1"># .... 이어 계속해서 프로그래밍 해보자.
</span></code></pre></div> </div> <p>이렇게 얻어진 데이터를 가지고 폭과 두께, 그리고 gauge length를 안다면 응력 vs. 변형률 데이터로 변환 가능하다.</p> </li> <li>다음으로, 위에서 구한 힘과 변위를 활용해 응력 vs. 변형률 데이터로 바꿔보자. <ul> <li>폭이 12.695 mm, 두께가 1.193 mm, 게이즈가 20 mm라 가정하자.</li> <li> <p>공칭 응력</p> \[\sigma^{engi}=\frac{force}{Area}\] </li> <li> <p>공칭 변형률</p> \[\epsilon^{engi}=\frac{\Delta l}{l_0}\] </li> <li> <p>진 변형</p> \[\varepsilon=\ln(1+\epsilon)\] </li> <li> <p>진 응력</p> \[\sigma^{true}=\sigma^{engi}(1+\epsilon)\] </li> </ul> <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="c1">## algorithm
# 1. 파일로부터 Numpy를 활용해 데이터를 불러온다.
# 2. 주어진 시편의 폭과 두께로부터 초기단면적을 구한다.
# 3. 초기 단면적과 힘을 활용해 공칭 응력을 구한다.
# 4. 초기 게이지 길이와 변위를 활용해 공칭 변형률을 구한다.
# 5. 진 변형률을 구한다.
# 7. 진 응력을 구한다.
# 8. 진응력 vs. 진 변형률 곡선을 구한다.
# 9. 최대 하중 이후의 데이터를 trimming 해본다.
</span></code></pre></div> </div> </li> <li> <p>Hollomon Equation으로 바꿔본다.</p> \[\sigma=k\varepsilon^n\] <p>적절한 k값과 n값을 앞서 calibration sheet의 \(a\) 그리고 \(b\) 에 해당하는 값을 찾기 위해서는 \(\log\) 함수의 활용이 유용하다.</p> \[\log\sigma=\log k + n\log \varepsilon\] <p>밑(base)이 자연수(2.713…)인 로그 함수를 활용한다면</p> \[\ln\sigma=\ln k+n\ln\varepsilon\] <p>이를 활용해 적절한 \(k\) 값 및 \(n\) 값을 구해보자.</p> <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="c1"># np.log 함수를 활용해 밑이 자연수인 로그 함수를 활용하자.
# np.log(sigma), np.log(epsilon)
# plt.plot 활용해 직선 그려보기
# a값 그리고 b값 찾기.
# log (a) 그리고 log (b)로부터 a, b값을 역산(거꾸로 계산) 해보자.
</span></code></pre></div> </div> </li> <li> <p>복잡한 형태의 데이터 파일의 경우를 생각해보자. 이미 calibration된 이후 얻어진 <a href="/lecturenotes/data_mse/data/force_vs_displ.txt">힘/변위 데이터</a>를 살펴보고, 분석해보자.</p> <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="n">np</span><span class="p">.</span><span class="nf">loadtxt</span><span class="p">(</span><span class="sh">'</span><span class="s">filename</span><span class="sh">'</span><span class="p">)</span> <span class="c1"># 이 명령어가 적용되지 않는 여러 이유가 있다. 그 이유를 파일을 직접 살펴보고 고민해보자.
#with open(fn,'r') as fo:
#    cnt=fo.read()
#    blocks=cnt.split('Data Acquisition')
#    blocks=blocks[1:]
</span>
<span class="c1">#for ib,block in enumerate(blocks):
#    lines=block.split('\n')
#    lines=lines[3:-2] ##??
#    bl=''
#    dmaster=np.zeros((len(lines),4),dtype='float')
#    for i, line in enumerate(lines):
#        dmaster[i,:]=np.array(line.split('\t'),dtype='float')
</span>
<span class="c1">#    plt.plot(dmaster[:,1],dmaster[:,2])
</span></code></pre></div> </div> </li> </ul> <h2 id="수업-09-2-노이즈가-있는-데이터로부터-최소자승법을-활용한-선형회귀">수업 09-2 (노이즈가 있는 데이터로부터 최소자승법을 활용한 선형회귀)</h2> <ul> <li>목표 <ul> <li>최소 자승법을 이해한다.</li> <li>09-1의 데이터의 활용헤서 ‘최소자승법’을 활용해본다.</li> </ul> </li> <li>개념 <ul> <li> <p>주어진\(n\) 쌍의의 데이터가 아래와 같이 표현될 수 있다.</p> \[(x_i,y_i) \text{ with } i=1,2,...,n\] <p>이때 위 \(n\)쌍의 데이터를 우리가 구하는 직선의 방정식이 매우 잘 대표해야 하겠다.</p> \[y=ax+b\] <p>그러한 직선의 방정식을 구하기 위해서는 데이터와 계산된 값 사이의 차이를 최소화시켜야겠다.</p> <ul> <li>예시. <ul> <li> <p>실제로는 2.5x + 5가 데이터인데, 가상의 노이즈를 부과해보자.</p> <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code>  <span class="kn">import</span> <span class="n">numpy</span> <span class="k">as</span> <span class="n">np</span>
  <span class="kn">import</span> <span class="n">matplotlib.pyplot</span> <span class="k">as</span> <span class="n">plt</span>

  <span class="c1"># example data with noise
</span>  <span class="n">xs</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="nf">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">)</span>
  <span class="c1"># 실제로는 2.5x + 5가 데이터인데, 가상의 노이즈를 부과해보자.
</span>  <span class="n">a</span><span class="o">=</span><span class="mf">2.5</span>
  <span class="n">b</span><span class="o">=</span><span class="mi">5</span>
  <span class="n">y_true</span> <span class="o">=</span> <span class="n">a</span> <span class="o">*</span> <span class="n">xs</span> <span class="o">+</span> <span class="n">b</span>
  <span class="c1">## 정규 분포를 따르는 인위적 노이즈를 부과해보자.
</span>  <span class="n">noise</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="n">random</span><span class="p">.</span><span class="nf">normal</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="n">xs</span><span class="p">.</span><span class="n">shape</span><span class="p">)</span> <span class="c1">## 정규분포 mean:0, std: 3
</span>  <span class="n">ys</span> <span class="o">=</span> <span class="n">y_true</span> <span class="o">+</span> <span class="n">noise</span>
</code></pre></div> </div> </li> <li> <p>그 다음, 정확한 \(a, b\) 값을 모른다 가정하고, 각 추측된 값 \(\tilde a,\tilde b\) 값을 사용해보자. 그리고 추측된 값과, 노이즈가 있는 값 들 사이에 차이를 아래와 같이 정의하여 살펴보자.</p> \[\epsilon_i=y_i-(\tilde a x_i+\tilde b)\] </li> <li> <p>각 쌍</p> \[(x_i,y_i)\] <p>에 따라 음의 차이 혹은 양의 차이가 있을 수 있으므로, 자승(square)값을 구하고 그 자승 값의 총 합을 살펴보자. 즉</p> \[\sum_i^n(\epsilon_i)^2\] <p>값을 찾아 보자.</p> </li> <li> <p>여기까지의 과정은 아래와 같이 Python으로 구현될 수 있다.</p> <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code>  <span class="n">plt</span><span class="p">.</span><span class="nf">plot</span><span class="p">(</span><span class="n">xs</span><span class="p">,</span><span class="n">ys</span><span class="p">,</span><span class="sh">'</span><span class="s">rx</span><span class="sh">'</span><span class="p">,</span><span class="n">label</span><span class="o">=</span><span class="sh">'</span><span class="s">Data with noise</span><span class="sh">'</span><span class="p">)</span>
  <span class="c1">#plt.plot(xs,y_true,'k-',label='True data')
</span>
  <span class="n">tilde_a</span><span class="o">=</span><span class="mf">2.2</span>
  <span class="n">tilde_b</span><span class="o">=</span><span class="mi">5</span>
  <span class="n">plt</span><span class="p">.</span><span class="nf">plot</span><span class="p">(</span><span class="n">xs</span><span class="p">,</span><span class="n">tilde_a</span><span class="o">*</span><span class="n">xs</span><span class="o">+</span><span class="n">tilde_b</span><span class="p">,</span><span class="sh">'</span><span class="s">m--</span><span class="sh">'</span><span class="p">,</span><span class="n">label</span><span class="o">=</span><span class="sh">'</span><span class="s">Guessed fit</span><span class="sh">'</span><span class="p">)</span>
  <span class="n">epsilon</span><span class="o">=</span><span class="n">np</span><span class="p">.</span><span class="nf">zeros</span><span class="p">(</span><span class="n">xs</span><span class="p">.</span><span class="n">shape</span><span class="p">)</span>
  <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">x</span> <span class="ow">in</span> <span class="nf">enumerate</span><span class="p">(</span><span class="n">xs</span><span class="p">):</span>
      <span class="n">y</span><span class="o">=</span><span class="n">x</span><span class="o">*</span><span class="n">tilde_a</span><span class="o">+</span><span class="n">tilde_b</span>
      <span class="n">epsilon</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">=</span><span class="n">y</span><span class="o">-</span><span class="n">ys</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
      <span class="n">plt</span><span class="p">.</span><span class="nf">plot</span><span class="p">([</span><span class="n">x</span><span class="p">,</span><span class="n">x</span><span class="p">],[</span><span class="n">ys</span><span class="p">[</span><span class="n">i</span><span class="p">],</span><span class="n">y</span><span class="p">],</span><span class="sh">'</span><span class="s">-b</span><span class="sh">'</span><span class="p">)</span>
  <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">'</span><span class="s">residual: </span><span class="si">{</span><span class="p">(</span><span class="n">epsilon</span><span class="o">**</span><span class="mi">2</span><span class="p">).</span><span class="nf">sum</span><span class="p">()</span><span class="si">}</span><span class="sh">'</span><span class="p">)</span>
  <span class="n">leg</span><span class="o">=</span><span class="n">plt</span><span class="p">.</span><span class="nf">legend</span><span class="p">()</span>
</code></pre></div> </div> </li> <li> <p>이제 자승값의 합을 최소화 시키는 \(\tilde a, \tilde b\) 값을 어떻게 구할 수 있을지 고민해보자.</p> </li> <li> <p>가장 적절한 \(\tilde a, \tilde b\) 값을 구하기 위해 우선</p> \[S=\sum_i^n(\epsilon_i)^2\] <p>라 하고, 이를 풀어서 표현하면</p> \[S=\sum_i^n(\epsilon_i)^2=\sum_i^n(y_i-(\tilde ax_i+\tilde b))^2\] <p>가 된다. 위 표현은 위 코드 박스에서</p> <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code> <span class="p">(</span><span class="n">epsilon</span><span class="o">**</span><span class="mi">2</span><span class="p">).</span><span class="nf">sum</span><span class="p">()</span>
</code></pre></div> </div> <p>에 해당한다.</p> <p>제곱 항을 전개하면</p> \[S=\sum_i^n(y_i-(\tilde ax_i+\tilde b))^2 =\sum_i^n\bigg(y_i^2+(\tilde ax_i-2y_i(\tilde ax_i+\tilde b)+\tilde b)^2\bigg)\] <p>가 된다. 이때</p> \[\frac{\partial S}{\partial \tilde a}=0\] <p>그리고</p> \[\frac{\partial S}{\partial \tilde b}=0\] <p>를 만족하는 \(\tilde a, \tilde b\) 값이 최소자승법에 의해 구해진다. 따라서 각 미분 값을 구해보면</p> \[\frac{\partial S}{\partial \tilde a} =\sum_i^n\frac{\partial \bigg((y_i-(\tilde ax_i+\tilde b))^2\bigg) }{\partial \tilde a} =\sum_i^n{\bigg(2(y_i-(\tilde ax_i+\tilde b))(-x_i)\bigg)}\] <p>위 미분값이 0이 되는 조건을 더욱 정리해보면</p> \[\frac{\partial S}{\partial \tilde a} =-2\sum_i^n{\bigg((x_iy_i-\tilde ax_ix_i-\tilde bx_i)\bigg)}=0\] <p>따라서</p> \[\frac{\partial S}{\partial \tilde a} =-2\sum_i^n{\bigg((x_iy_i-\tilde ax_i^2-\tilde bx_i)\bigg)}=0 \newline \rightarrow \bigg(\sum_i^nx_iy_i\bigg)-\tilde a\bigg(\sum_i^nx_i^2\bigg)-\tilde b\bigg(\sum_i^nx_i\bigg)=0\] <p>마찬가지로</p> \[\frac{\partial S}{\partial\tilde b}=\sum_i^n\bigg(2(y_i-\tilde a x_i-\tilde b)\bigg)\] <p>가 되며, 최적 조건은</p> \[\bigg(\sum_i^ny_i\bigg)-\tilde a\bigg(\sum_i^nx_i\bigg)-n\tilde b=0\] <p>으로 표현된다. 두 최적 조건을 나타내는 식을 ‘연립 방정식’으로 표현할 수 있으며, 이는</p> \[\begin{bmatrix} \sum_i^nx_i^2 &amp; \sum_i^nx_i\\ \sum_i^nx_i &amp; n \end{bmatrix} \begin{bmatrix} \tilde a\\ \tilde b \end{bmatrix} = \begin{bmatrix} \sum_i^nx_iy_i\\ \sum_i^ny_i \end{bmatrix}\] <p>따라서, 위 연립 방정식을 풀이하면 \(S\)를 최소화하는 \(\tilde a, \tilde b\) 쌍을 구할 수 있다.</p> <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code>  <span class="kn">import</span> <span class="n">numpy</span> <span class="k">as</span> <span class="n">np</span>
  <span class="kn">import</span> <span class="n">matplotlib.pyplot</span> <span class="k">as</span> <span class="n">plt</span>

  <span class="c1"># example data with noise
</span>  <span class="n">xs</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="nf">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
  <span class="n">a</span><span class="o">=</span><span class="mf">2.5</span>
  <span class="n">b</span><span class="o">=</span><span class="mi">5</span>
  <span class="n">y_true</span> <span class="o">=</span> <span class="n">a</span> <span class="o">*</span> <span class="n">xs</span> <span class="o">+</span> <span class="n">b</span>
  <span class="c1">## artificial noise added.
</span>  <span class="n">noise</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="n">random</span><span class="p">.</span><span class="nf">normal</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="n">xs</span><span class="p">.</span><span class="n">shape</span><span class="p">)</span> <span class="c1">## 정규분포 mean:0, std: 3
</span>  <span class="n">ys</span> <span class="o">=</span> <span class="n">y_true</span> <span class="o">+</span> <span class="n">noise</span>

  <span class="n">plt</span><span class="p">.</span><span class="nf">plot</span><span class="p">(</span><span class="n">xs</span><span class="p">,</span><span class="n">ys</span><span class="p">,</span><span class="sh">'</span><span class="s">ro</span><span class="sh">'</span><span class="p">,</span><span class="n">label</span><span class="o">=</span><span class="sh">'</span><span class="s">Data with noise</span><span class="sh">'</span><span class="p">)</span>
  <span class="c1">#plt.plot(xs,y_true,'k-',label='True data')
</span>
  <span class="n">tilde_a</span><span class="o">=</span><span class="mi">2</span>
  <span class="n">tilde_b</span><span class="o">=</span><span class="mi">5</span>

  <span class="n">epsilon</span><span class="o">=</span><span class="n">np</span><span class="p">.</span><span class="nf">zeros</span><span class="p">(</span><span class="n">xs</span><span class="p">.</span><span class="n">shape</span><span class="p">)</span>
  <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">x</span> <span class="ow">in</span> <span class="nf">enumerate</span><span class="p">(</span><span class="n">xs</span><span class="p">):</span>
      <span class="n">y</span><span class="o">=</span><span class="n">x</span><span class="o">*</span><span class="n">tilde_a</span><span class="o">+</span><span class="n">tilde_b</span>
      <span class="n">epsilon</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">=</span><span class="n">y</span><span class="o">-</span><span class="n">ys</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
      <span class="n">plt</span><span class="p">.</span><span class="nf">plot</span><span class="p">([</span><span class="n">x</span><span class="p">,</span><span class="n">x</span><span class="p">],[</span><span class="n">ys</span><span class="p">[</span><span class="n">i</span><span class="p">],</span><span class="n">y</span><span class="p">],</span><span class="sh">'</span><span class="s">-</span><span class="sh">'</span><span class="p">)</span>
  <span class="n">plt</span><span class="p">.</span><span class="nf">plot</span><span class="p">(</span><span class="n">xs</span><span class="p">,</span><span class="n">tilde_a</span><span class="o">*</span><span class="n">xs</span><span class="o">+</span><span class="n">tilde_b</span><span class="p">,</span><span class="sh">'</span><span class="s">m--</span><span class="sh">'</span><span class="p">,</span><span class="n">label</span><span class="o">=</span><span class="sh">'</span><span class="s">manual fit</span><span class="sh">'</span><span class="p">)</span>
  <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">'</span><span class="s">residual: </span><span class="si">{</span><span class="p">(</span><span class="n">epsilon</span><span class="o">**</span><span class="mi">2</span><span class="p">).</span><span class="nf">sum</span><span class="p">()</span><span class="si">}</span><span class="sh">'</span><span class="p">)</span>
  <span class="n">plt</span><span class="p">.</span><span class="nf">legend</span><span class="p">()</span>

  <span class="c1">## least square
</span>  <span class="c1"># the 2x2 matrix
</span>  <span class="n">matrix</span><span class="o">=</span><span class="n">np</span><span class="p">.</span><span class="nf">zeros</span><span class="p">((</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">))</span>
  <span class="n">matrix</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span><span class="o">=</span><span class="p">(</span><span class="n">xs</span><span class="o">**</span><span class="mi">2</span><span class="p">).</span><span class="nf">sum</span><span class="p">()</span>
  <span class="n">matrix</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span><span class="o">=</span><span class="n">xs</span><span class="p">.</span><span class="nf">sum</span><span class="p">()</span>
  <span class="n">matrix</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span><span class="o">=</span><span class="n">xs</span><span class="p">.</span><span class="nf">sum</span><span class="p">()</span>
  <span class="n">matrix</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span><span class="o">=</span><span class="nf">len</span><span class="p">(</span><span class="n">xs</span><span class="p">)</span>
  <span class="c1"># the 2d vector on the right-hand-side.
</span>  <span class="n">c</span><span class="o">=</span><span class="n">np</span><span class="p">.</span><span class="nf">zeros</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
  <span class="n">c</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">=</span><span class="p">(</span><span class="n">xs</span><span class="o">*</span><span class="n">ys</span><span class="p">).</span><span class="nf">sum</span><span class="p">()</span>
  <span class="n">c</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">=</span><span class="n">ys</span><span class="p">.</span><span class="nf">sum</span><span class="p">()</span>
  <span class="c1"># obtain inverse matrix and multiply it with c
</span>  <span class="n">a_lsq</span><span class="p">,</span><span class="n">b_lsq</span><span class="o">=</span><span class="n">np</span><span class="p">.</span><span class="n">linalg</span><span class="p">.</span><span class="nf">inv</span><span class="p">(</span><span class="n">matrix</span><span class="p">)</span><span class="nd">@c</span> <span class="c1">## m^{-1} . c
</span></code></pre></div> </div> </li> </ul> </li> </ul> </li> </ul> </li> </ul> <h1 id="week10-matplotlib--hall-petch-equations-creep-data">Week10 (Matplotlib + Hall-petch equations, Creep data)</h1> <h2 id="수업-10-1-creep-data">수업 10-1 (Creep data)</h2> <ul> <li> <p>SN curve 데이터 파일 <a href="/lecturenotes/data_mse/data/SN_curve.txt">SN_curve.txt</a>을 다운받아서 아래 예측 모형에 걸맞는 값들을 구해보자.</p> \[N=B/\sigma^m\] <p>위에서 각 기호는 아래와 같이 설명된다.</p> \[N: \text{ number of cycles at failure } \newline \sigma: \text{Stress amplitude}\] \[B, m : \text{material parameters}\] </li> <li> <p>Creep 데이터 파일 <a href="/lecturenotes/data_mse/data/creep.txt">creep.txt</a>을 다운받아서 아래 예측 모형에 걸맞는 값들을 구해보자.</p> \[\dot\varepsilon=K\sigma^n\] \[\dot\varepsilon : \text{ creep rate}\] \[\sigma : \text{ 응력}\] \[K, n : \text{material parameters}\] </li> <li> <p><a href="https://scipy.org" rel="external nofollow noopener" target="_blank">SciPy</a>의 curve_fit 함수 활용하기</p> <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="n">numpy</span> <span class="k">as</span> <span class="n">np</span>
<span class="kn">import</span> <span class="n">matplotlib.pyplot</span> <span class="k">as</span> <span class="n">plt</span>
<span class="kn">from</span> <span class="n">scipy.optimize</span> <span class="kn">import</span> <span class="n">curve_fit</span>

<span class="k">def</span> <span class="nf">power</span><span class="p">(</span><span class="n">edot</span><span class="p">,</span><span class="n">K</span><span class="p">,</span><span class="n">n</span><span class="p">):</span>
    <span class="nf">return </span><span class="p">(</span><span class="n">edot</span><span class="o">/</span><span class="n">K</span><span class="p">)</span><span class="o">**</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="n">n</span><span class="p">)</span>

<span class="n">dat</span><span class="o">=</span><span class="n">np</span><span class="p">.</span><span class="nf">loadtxt</span><span class="p">(</span><span class="sh">'</span><span class="s">creep.txt</span><span class="sh">'</span><span class="p">,</span><span class="n">skiprows</span><span class="o">=</span><span class="mi">1</span><span class="p">).</span><span class="n">T</span>
<span class="n">x_data</span><span class="p">,</span><span class="n">y_data</span><span class="o">=</span><span class="n">dat</span>

<span class="n">popt</span><span class="p">,</span> <span class="n">pcov</span><span class="o">=</span><span class="nf">curve_fit</span><span class="p">(</span><span class="n">power</span><span class="p">,</span><span class="n">x_data</span><span class="p">,</span><span class="n">y_data</span><span class="p">,</span><span class="n">p0</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span>
<span class="n">args</span><span class="o">=</span><span class="n">popt</span>
<span class="nf">power</span><span class="p">(</span><span class="n">x_data</span><span class="p">,</span><span class="o">*</span><span class="n">args</span><span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="nf">plot</span><span class="p">(</span><span class="n">x_data</span><span class="p">,</span><span class="n">y_data</span><span class="p">,</span><span class="sh">'</span><span class="s">x</span><span class="sh">'</span><span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="nf">plot</span><span class="p">(</span><span class="n">x_data</span><span class="p">,</span><span class="nf">power</span><span class="p">(</span><span class="n">x_data</span><span class="p">,</span><span class="o">*</span><span class="n">args</span><span class="p">))</span>
<span class="n">plt</span><span class="p">.</span><span class="nf">xscale</span><span class="p">(</span><span class="sh">'</span><span class="s">log</span><span class="sh">'</span><span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="nf">yscale</span><span class="p">(</span><span class="sh">'</span><span class="s">log</span><span class="sh">'</span><span class="p">)</span>
</code></pre></div> </div> </li> <li> <p>실습: 데이터를 활용해 \(\dot\varepsilon&lt;10^{-2}\) 영역과 \(\dot\varepsilon\geq 10^{-2}\) 에 따로 <code class="language-plaintext highlighter-rouge">curve_fit</code>을 적용시켜서 \(K\) 와 \(n\) 값을 구해보자.</p> </li> </ul> <h2 id="수업-10-2-contouring">수업 10-2 (Contouring)</h2> <ul> <li>등고선 (contour) plot</li> <li>예시 <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="o">%</span><span class="n">matplotlib</span> <span class="n">widget</span>
<span class="kn">import</span> <span class="n">numpy</span> <span class="k">as</span> <span class="n">np</span>
<span class="kn">import</span> <span class="n">matplotlib.pyplot</span> <span class="k">as</span> <span class="n">plt</span>
<span class="c1">## number of grid lines
</span><span class="n">xn</span><span class="o">=</span><span class="mi">20</span> <span class="c1">#along horizontal
</span><span class="n">yn</span><span class="o">=</span><span class="mi">20</span> <span class="c1">#along vertical
</span>
<span class="c1">## x,y range
</span><span class="n">xlim</span><span class="o">=</span><span class="n">np</span><span class="p">.</span><span class="nf">array</span><span class="p">([</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">])</span>
<span class="n">ylim</span><span class="o">=</span><span class="n">np</span><span class="p">.</span><span class="nf">array</span><span class="p">([</span><span class="o">-</span><span class="mi">6</span><span class="p">,</span><span class="mi">6</span><span class="p">])</span>
<span class="c1">## actual grids
</span><span class="n">xs</span><span class="o">=</span><span class="n">np</span><span class="p">.</span><span class="nf">linspace</span><span class="p">(</span><span class="o">*</span><span class="n">xlim</span><span class="p">,</span><span class="n">xn</span><span class="p">)</span> <span class="c1">## 4
</span><span class="n">ys</span><span class="o">=</span><span class="n">np</span><span class="p">.</span><span class="nf">linspace</span><span class="p">(</span><span class="o">*</span><span class="n">ylim</span><span class="p">,</span><span class="n">yn</span><span class="p">)</span> <span class="c1">## 11
</span><span class="n">yy</span><span class="p">,</span><span class="n">xx</span><span class="o">=</span><span class="n">np</span><span class="p">.</span><span class="nf">meshgrid</span><span class="p">(</span><span class="n">ys</span><span class="p">,</span><span class="n">xs</span><span class="p">)</span> <span class="c1">##  11 x 4
#xx,yy=np.meshgrid(xs,ys) ##  11 x 4
</span>
<span class="c1">## canvas (two 2D axes, one 3D axis)
</span><span class="n">fig</span><span class="o">=</span><span class="n">plt</span><span class="p">.</span><span class="nf">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">13</span><span class="p">,</span><span class="mi">3</span><span class="p">))</span>
<span class="n">ax1</span><span class="o">=</span><span class="n">fig</span><span class="p">.</span><span class="nf">add_subplot</span><span class="p">(</span><span class="mi">131</span><span class="p">)</span>
<span class="n">ax2</span><span class="o">=</span><span class="n">fig</span><span class="p">.</span><span class="nf">add_subplot</span><span class="p">(</span><span class="mi">132</span><span class="p">)</span>
<span class="n">ax3</span><span class="o">=</span><span class="n">fig</span><span class="p">.</span><span class="nf">add_subplot</span><span class="p">(</span><span class="mi">133</span><span class="p">,</span><span class="n">projection</span><span class="o">=</span><span class="sh">'</span><span class="s">3d</span><span class="sh">'</span><span class="p">)</span>

<span class="c1">## grid points
</span><span class="n">ax1</span><span class="p">.</span><span class="nf">scatter</span><span class="p">(</span><span class="n">xx</span><span class="p">,</span><span class="n">yy</span><span class="p">,</span><span class="n">c</span><span class="o">=</span><span class="sh">'</span><span class="s">k</span><span class="sh">'</span><span class="p">)</span>
<span class="n">mappable</span><span class="o">=</span><span class="n">ax2</span><span class="p">.</span><span class="nf">contourf</span><span class="p">(</span><span class="n">xx</span><span class="p">,</span><span class="n">yy</span><span class="p">,</span><span class="n">z</span><span class="p">,</span><span class="n">cmap</span><span class="o">=</span><span class="sh">'</span><span class="s">jet</span><span class="sh">'</span><span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="nf">colorbar</span><span class="p">(</span><span class="n">mappable</span><span class="p">,</span><span class="n">ax</span><span class="o">=</span><span class="n">ax2</span><span class="p">)</span>
<span class="k">if</span> <span class="bp">True</span><span class="p">:</span>
    <span class="c1">#z=np.sqrt(xx**2+yy**2)
</span>    <span class="n">z</span><span class="o">=</span><span class="n">np</span><span class="p">.</span><span class="nf">cos</span><span class="p">(</span><span class="n">xx</span><span class="p">)</span><span class="o">*</span><span class="n">yy</span><span class="o">+</span><span class="mi">10</span>
    <span class="c1">#z=np.log(np.abs(xx))*np.abs(yy)
</span>
    <span class="c1">## 3D surface
</span>    <span class="n">ax3</span><span class="p">.</span><span class="nf">plot_surface</span><span class="p">(</span><span class="n">xx</span><span class="p">,</span><span class="n">yy</span><span class="p">,</span><span class="n">z</span><span class="p">,</span><span class="n">cmap</span><span class="o">=</span><span class="sh">'</span><span class="s">jet</span><span class="sh">'</span><span class="p">,</span><span class="n">alpha</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>
    <span class="c1">## colored 2D contour
</span>    <span class="n">ax3</span><span class="p">.</span><span class="nf">contour</span><span class="p">(</span><span class="n">xx</span><span class="p">,</span><span class="n">yy</span><span class="p">,</span><span class="n">z</span><span class="p">,</span><span class="n">offset</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="n">cmap</span><span class="o">=</span><span class="sh">'</span><span class="s">jet</span><span class="sh">'</span><span class="p">)</span>

    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="n">xn</span><span class="p">):</span> <span class="c1">## x
</span>        <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="n">yn</span><span class="p">):</span> <span class="c1">## y
</span>            <span class="n">ax1</span><span class="p">.</span><span class="nf">text</span><span class="p">(</span><span class="n">xx</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">],</span><span class="n">yy</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">],</span><span class="sa">f</span><span class="sh">"</span><span class="s">z</span><span class="si">{</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="si">}</span><span class="s">=</span><span class="si">{</span><span class="n">z</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">]</span><span class="si">:</span><span class="p">.</span><span class="mi">1</span><span class="n">f</span><span class="si">}</span><span class="sh">"</span><span class="p">,</span><span class="n">size</span><span class="o">=</span><span class="mi">7</span><span class="p">,</span><span class="n">va</span><span class="o">=</span><span class="sh">'</span><span class="s">bottom</span><span class="sh">'</span><span class="p">,</span><span class="n">ha</span><span class="o">=</span><span class="sh">'</span><span class="s">center</span><span class="sh">'</span><span class="p">)</span>

<span class="n">fig</span><span class="p">.</span><span class="nf">tight_layout</span><span class="p">()</span>
<span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">ax</span> <span class="ow">in</span> <span class="nf">enumerate</span><span class="p">([</span><span class="n">ax1</span><span class="p">,</span><span class="n">ax2</span><span class="p">,</span><span class="n">ax3</span><span class="p">]):</span>
    <span class="n">ax</span><span class="p">.</span><span class="nf">set_xlabel</span><span class="p">(</span><span class="sh">'</span><span class="s">X</span><span class="sh">'</span><span class="p">);</span> <span class="n">ax</span><span class="p">.</span><span class="nf">set_ylabel</span><span class="p">(</span><span class="sh">'</span><span class="s">Y</span><span class="sh">'</span><span class="p">)</span>
    <span class="n">ax</span><span class="p">.</span><span class="nf">set_xlim</span><span class="p">(</span><span class="n">xlim</span><span class="o">*</span><span class="mf">1.3</span><span class="p">)</span>
    <span class="n">ax</span><span class="p">.</span><span class="nf">set_ylim</span><span class="p">(</span><span class="n">ylim</span><span class="o">*</span><span class="mf">1.3</span><span class="p">)</span>
<span class="n">ax3</span><span class="p">.</span><span class="nf">set_zlabel</span><span class="p">(</span><span class="sh">'</span><span class="s">Z</span><span class="sh">'</span><span class="p">)</span>
<span class="n">ax3</span><span class="p">.</span><span class="nf">set_zlim</span><span class="p">(</span><span class="mi">0</span><span class="p">,)</span>
</code></pre></div> </div> </li> <li> <p>예시: Schmid law</p> \[\tau=\sigma\cos\phi\cos\lambda\] <p>이 때</p> \[\cos\phi\cos\lambda\] <p>를 Schmid factor라 부른다.</p> <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="o">%</span><span class="n">matplotlib</span> <span class="n">inline</span>
<span class="kn">import</span> <span class="n">numpy</span> <span class="k">as</span> <span class="n">np</span>
<span class="kn">import</span> <span class="n">matplotlib.pyplot</span> <span class="k">as</span> <span class="n">plt</span>
<span class="n">nphi</span><span class="o">=</span><span class="mi">200</span>
<span class="n">nlam</span><span class="o">=</span><span class="mi">100</span>
<span class="n">phi</span><span class="o">=</span><span class="n">np</span><span class="p">.</span><span class="nf">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="o">*</span><span class="n">np</span><span class="p">.</span><span class="n">pi</span><span class="p">,</span><span class="n">nphi</span><span class="p">)</span> <span class="c1">## x
</span><span class="n">lamb</span><span class="o">=</span><span class="n">np</span><span class="p">.</span><span class="nf">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="o">*</span><span class="n">np</span><span class="p">.</span><span class="n">pi</span><span class="p">,</span><span class="n">nlam</span><span class="p">)</span> <span class="c1">## y
</span>
<span class="n">P</span><span class="p">,</span><span class="n">L</span><span class="o">=</span><span class="n">np</span><span class="p">.</span><span class="nf">meshgrid</span><span class="p">(</span><span class="n">phi</span><span class="p">,</span><span class="n">lamb</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="n">L</span><span class="p">.</span><span class="n">shape</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="n">P</span><span class="p">.</span><span class="n">shape</span><span class="p">)</span>

<span class="n">fig</span><span class="o">=</span><span class="n">plt</span><span class="p">.</span><span class="nf">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span><span class="mi">2</span><span class="p">))</span>
<span class="n">ax1</span><span class="o">=</span><span class="n">fig</span><span class="p">.</span><span class="nf">add_subplot</span><span class="p">(</span><span class="mi">121</span><span class="p">)</span>
<span class="n">ax2</span><span class="o">=</span><span class="n">fig</span><span class="p">.</span><span class="nf">add_subplot</span><span class="p">(</span><span class="mi">122</span><span class="p">)</span>
<span class="n">sf</span><span class="o">=</span><span class="n">np</span><span class="p">.</span><span class="nf">cos</span><span class="p">(</span><span class="n">L</span><span class="p">)</span><span class="o">*</span><span class="n">np</span><span class="p">.</span><span class="nf">cos</span><span class="p">(</span><span class="n">P</span><span class="p">)</span> <span class="c1"># schmid factor calculation
</span><span class="nb">map</span><span class="o">=</span><span class="n">ax1</span><span class="p">.</span><span class="nf">contourf</span><span class="p">(</span><span class="n">np</span><span class="p">.</span><span class="nf">rad2deg</span><span class="p">(</span><span class="n">P</span><span class="p">),</span><span class="n">np</span><span class="p">.</span><span class="nf">rad2deg</span><span class="p">(</span><span class="n">L</span><span class="p">),</span><span class="n">sf</span><span class="p">)</span> <span class="c1">## radian -&gt; degree로 바꿔서
</span><span class="n">plt</span><span class="p">.</span><span class="nf">colorbar</span><span class="p">(</span><span class="nb">map</span><span class="p">,</span><span class="n">ax</span><span class="o">=</span><span class="n">ax1</span><span class="p">)</span>
<span class="n">ax1</span><span class="p">.</span><span class="nf">set_xlabel</span><span class="p">(</span><span class="sa">r</span><span class="sh">'</span><span class="s">$\phi ^\circ{}$</span><span class="sh">'</span><span class="p">)</span>
<span class="n">ax1</span><span class="p">.</span><span class="nf">set_ylabel</span><span class="p">(</span><span class="sa">r</span><span class="sh">'</span><span class="s">$\lambda ^\circ{}$</span><span class="sh">'</span><span class="p">)</span>
</code></pre></div> </div> </li> <li> <p>예시, FCC 단결정의 슬립계 면방향 지수</p> \[(h,k,l)\] <p>그리고 슬립 방향</p> \[[u,v,w]\] <p>이 주어지고, 일축 인장 방향이 벡터</p> \[(x_1,x_2,x_3)\] <p>로 주어졌을 때,</p> \[\phi,\lambda\] <p>를 계산하고, 이를 활용해 인장 응력 방향에 따라서 달라지는 Schmid factor 값을 살펴보시오.</p> </li> <li>인장 응력 방향을 polar coordinate로 표현해서 살펴봅시다.</li> </ul> <h1 id="week11-무게비-원자비">Week11 (무게비 원자비)</h1> <h2 id="수업-11-1-무게비-원자비-변환">수업 11-1 (무게비 원자비 변환)</h2> <ul> <li> <p>무게비 (weight fraction)</p> \[w_a=\frac{W_a}{W_a+W_b}\times 100 (wt.\%)\] \[W_a, W_b\] <p>는 각각</p> \[a\] <p>원소와</p> \[b\] <p>원소의 질량 (혹은 무게). 마찬가지로, 부피비는 다음과 같이 표현이 가능하겠다.</p> \[f_a=\frac{V_a}{V_a+V_b}\times 100 (vol.\%)\] \[V_a, V_b\] <p>는 각각</p> <p>\(a\)원소와 \(b\) 원소의 부피</p> </li> <li> <p>무게비 &lt;-&gt; 변환?</p> <ul> <li> <p>원소 \(a\)의 무게는 밀도 \(\rho_a\) 와 부피 \(V_a\)의 관계로 설명가능하다.</p> \[\rho_a=\frac{W_a}{V_a}\] \[w_a=\frac{W_a}{W_a+W_b}\times 100 =\frac{\rho_aV_a}{\rho_aV_a+\rho_bV_b}\times 100\] \[\rightarrow w_a=\frac{1}{1+\frac{\rho_bV_b}{\rho_aV_a}}\times 100\] \[\rightarrow 1+\frac{\rho_bV_b}{\rho_aV_a}=\frac{100}{w_a} \rightarrow \frac{\rho_bV_b}{\rho_aV_a}=\frac{100}{w_a} -1\] \[\therefore \frac{V_b}{V_a}=(\frac{100}{w_a} -1)\frac{\rho_a}{\rho_b}\] <p>마지막 관계식을 활용하여 부피비를 다시 표현하면</p> \[f_a=\frac{V_a}{V_a+V_b}\times 100=\frac{1}{1+V_b/V_a}\times 100=\frac{1}{1+(\frac{100}{w_a} -1)\frac{\rho_a}{\rho_b}}\times 100\] <p>따라서 각 원소의 밀도 \(\rho_a,\rho_b\) 그리고 무게비 \(w_a [\%]\) 를 알면 백분율 부피비를 구할 수 있다.</p> <p>\(a\) 원소와 \(b\) 원소의 자리르 바꾸면</p> \[f_b=\frac{1}{1+(\frac{100}{w_b} -1)\frac{\rho_b}{\rho_a}}\times 100\] <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code>  <span class="k">def</span> <span class="nf">convert_a</span><span class="p">(</span><span class="n">wa</span><span class="p">,</span><span class="n">rhoa</span><span class="p">,</span><span class="n">rhob</span><span class="p">):</span> <span class="c1">## get f_a
</span>      <span class="k">return</span> <span class="mi">1</span><span class="o">/</span><span class="p">(</span><span class="mi">1</span><span class="o">+</span><span class="p">(</span><span class="mi">100</span><span class="o">/</span><span class="n">w_a</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">*</span><span class="p">(</span><span class="n">rhoa</span><span class="o">/</span><span class="n">rhob</span><span class="p">))</span><span class="o">*</span><span class="mi">100</span>
  <span class="k">def</span> <span class="nf">convert_b</span><span class="p">(</span><span class="n">wb</span><span class="p">,</span><span class="n">rhoa</span><span class="p">,</span><span class="n">rhob</span><span class="p">):</span> <span class="c1">## get f_a
</span>      <span class="k">return</span> <span class="mi">1</span><span class="o">/</span><span class="p">(</span><span class="mi">1</span><span class="o">+</span><span class="p">(</span><span class="mi">100</span><span class="o">/</span><span class="n">w_b</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">*</span><span class="p">(</span><span class="n">rhob</span><span class="o">/</span><span class="n">rhoa</span><span class="p">))</span><span class="o">*</span><span class="mi">100</span>
</code></pre></div> </div> </li> </ul> </li> <li> <p>유용한 패키지 <a href="https://pypi.org/project/periodictable/" rel="external nofollow noopener" target="_blank">periodic table</a>, <a href="https://github.com/python-periodictable/periodictable" rel="external nofollow noopener" target="_blank">Github page</a> <a href="https://periodictable.readthedocs.io/en/latest/" rel="external nofollow noopener" target="_blank">Documentation</a></p> <div class="language-bash highlighter-rouge"> <div class="highlight"><pre class="highlight"><code>c:<span class="se">\u</span>sers<span class="se">\u</span>ser&gt; pip <span class="nb">install </span>periodictable
</code></pre></div> </div> </li> <li> <p>예제 한 철강 제품의 무게비가 다음과 같았다. \(Fe:C = 0.99: 0.01\)</p> <p>철의 부피비, \(v_{Fe}\) 는 얼마인가?</p> <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code></code></pre></div> </div> </li> </ul> <h2 id="수업-11-2">수업 11-2</h2> <h1 id="week12-matplotlib-imaging-color-coding--ebsd-데이터-분석">Week12 (Matplotlib imaging, color-coding, EBSD 데이터 분석)</h1> <ul> <li>목표 <ul> <li>SEM 데이터를 소개하고, Ferrite와 Martensite로 분류 <h2 id="수업-12-1">수업 12-1</h2> </li> </ul> </li> <li>색표현을 설명 <ul> <li>Gray scale (0~255)</li> <li>RGB R(0~255), G(0~255), B(0~255)</li> <li>RGBA R(0~2550), G(0~255), B(0~255), alpha(0~1)</li> <li><a href="https://www.w3schools.com/colors/colors_rgb.asp?color=rgb(102,%20255,%20255)" rel="external nofollow noopener" target="_blank">참고</a></li> </ul> </li> <li> <p><a href="https://matplotlib.org/stable/api/_as_gen/matplotlib.pyplot.imshow.html" rel="external nofollow noopener" target="_blank">imshow</a> 함수</p> <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code>  <span class="kn">import</span> <span class="n">matplotlib.pyplot</span> <span class="k">as</span> <span class="n">plt</span>
  <span class="kn">import</span> <span class="n">numpy</span> <span class="k">as</span> <span class="n">np</span>

  <span class="c1"># 5x5 랜덤 배열
</span>  <span class="n">data</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="n">random</span><span class="p">.</span><span class="nf">rand</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>

  <span class="n">plt</span><span class="p">.</span><span class="nf">imshow</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="sh">'</span><span class="s">viridis</span><span class="sh">'</span><span class="p">,</span> <span class="n">interpolation</span><span class="o">=</span><span class="sh">'</span><span class="s">nearest</span><span class="sh">'</span><span class="p">)</span>
  <span class="n">plt</span><span class="p">.</span><span class="nf">colorbar</span><span class="p">()</span>  <span class="c1"># 값과 색의 대응 막대 추가
</span>  <span class="n">plt</span><span class="p">.</span><span class="nf">show</span><span class="p">()</span>
</code></pre></div> </div> </li> <li> <p>Color map (<code class="language-plaintext highlighter-rouge">cmap</code>) 옵션</p> <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code>  <span class="kn">import</span> <span class="n">matplotlib.pyplot</span> <span class="k">as</span> <span class="n">plt</span>
  <span class="kn">import</span> <span class="n">numpy</span> <span class="k">as</span> <span class="n">np</span>

  <span class="c1"># 100x100 배열: 0~255 값 (가상의 화상)
</span>  <span class="n">grain_map</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="n">random</span><span class="p">.</span><span class="nf">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span> <span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">100</span><span class="p">))</span>

  <span class="n">fig</span><span class="o">=</span><span class="n">plt</span><span class="p">.</span><span class="nf">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span><span class="mi">2</span><span class="p">))</span>
  <span class="c1"># 1x3 axes 생성
</span>  <span class="n">ax1</span><span class="o">=</span><span class="n">fig</span><span class="p">.</span><span class="nf">add_subplot</span><span class="p">(</span><span class="mi">131</span><span class="p">)</span>
  <span class="n">ax2</span><span class="o">=</span><span class="n">fig</span><span class="p">.</span><span class="nf">add_subplot</span><span class="p">(</span><span class="mi">132</span><span class="p">)</span>
  <span class="n">ax3</span><span class="o">=</span><span class="n">fig</span><span class="p">.</span><span class="nf">add_subplot</span><span class="p">(</span><span class="mi">133</span><span class="p">)</span>
  <span class="c1">#--
</span>  <span class="c1"># random하게 만들어진 0~255 사이의 값 확인
</span>  <span class="n">ax1</span><span class="p">.</span><span class="nf">hist</span><span class="p">(</span><span class="n">grain_map</span><span class="p">.</span><span class="nf">flatten</span><span class="p">())</span><span class="c1"># histogram
</span>  <span class="c1">##
</span>  <span class="n">cmaps</span><span class="o">=</span><span class="p">[</span><span class="sh">'</span><span class="s">jet</span><span class="sh">'</span><span class="p">,</span><span class="sh">'</span><span class="s">gray</span><span class="sh">'</span><span class="p">]</span>
  <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">ax</span> <span class="ow">in</span> <span class="nf">enumerate</span><span class="p">([</span><span class="n">ax2</span><span class="p">,</span><span class="n">ax3</span><span class="p">]):</span>
      <span class="n">ax</span><span class="p">.</span><span class="nf">imshow</span><span class="p">(</span><span class="n">grain_map</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="n">cmaps</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
      <span class="n">ax</span><span class="p">.</span><span class="nf">set_title</span><span class="p">(</span><span class="sa">f</span><span class="sh">'</span><span class="s">color map: </span><span class="si">{</span><span class="n">cmaps</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="si">}</span><span class="sh">'</span><span class="p">)</span>
</code></pre></div> </div> </li> <li>실제 미세조직 사진 활용 실습 <ul> <li>아래 사진을 <a href="data/dualphase_sem.png">여기</a> 눌러서 다운 받자</li> </ul> <p><img src="data/dualphase_sem.png" alt="imag"></p> <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code>  <span class="kn">from</span> <span class="n">PIL</span> <span class="kn">import</span> <span class="n">Image</span>
  <span class="kn">import</span> <span class="n">numpy</span> <span class="k">as</span> <span class="n">np</span>
  <span class="kn">import</span> <span class="n">matplotlib.pyplot</span> <span class="k">as</span> <span class="n">plt</span>

  <span class="n">fn</span><span class="o">=</span><span class="sh">'</span><span class="s">../data/dualphase_sem.png</span><span class="sh">'</span> <span class="c1">## file name을 경로를 포함하여 정확하게 기입해야 한다.
</span>  <span class="n">img_rgba</span> <span class="o">=</span> <span class="n">Image</span><span class="p">.</span><span class="nf">open</span><span class="p">(</span><span class="n">fn</span><span class="p">)</span> <span class="c1">## PIL, RGBA
</span>  <span class="n">img_gray</span><span class="o">=</span><span class="n">img_rgba</span><span class="p">.</span><span class="nf">convert</span><span class="p">(</span><span class="sh">'</span><span class="s">L</span><span class="sh">'</span><span class="p">)</span> <span class="c1">## convert image into gray scale
</span>  <span class="n">img_gray</span><span class="o">=</span><span class="n">np</span><span class="p">.</span><span class="nf">asarray</span><span class="p">(</span><span class="n">img_gray</span><span class="p">)</span>
  <span class="n">plt</span><span class="p">.</span><span class="nf">imshow</span><span class="p">(</span><span class="n">img_gray</span><span class="p">,</span><span class="n">cmap</span><span class="o">=</span><span class="sh">'</span><span class="s">gray</span><span class="sh">'</span><span class="p">)</span>
</code></pre></div> </div> <p>위 사진은 ferrite와 martensite가 같이 존재하는 dual-phase 철강 제품의 주사 전자 현미경 사진이다. 이 사진에서 밝은 부분은 ferrite, 어두운 부분은 martensite 상이다. 이를 구분하여 두 상의 ‘분율’을 구해보자.</p> <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code>  <span class="kn">from</span> <span class="n">PIL</span> <span class="kn">import</span> <span class="n">Image</span>
  <span class="kn">import</span> <span class="n">numpy</span> <span class="k">as</span> <span class="n">np</span>
  <span class="kn">import</span> <span class="n">matplotlib.pyplot</span> <span class="k">as</span> <span class="n">plt</span>
  <span class="n">img</span><span class="o">=</span><span class="n">Image</span><span class="p">.</span><span class="nf">open</span><span class="p">(</span><span class="sh">'</span><span class="s">../data/dualphase_sem.png</span><span class="sh">'</span><span class="p">)</span>
  <span class="n">img</span><span class="o">=</span><span class="n">np</span><span class="p">.</span><span class="nf">asarray</span><span class="p">(</span><span class="n">img</span><span class="p">)</span>
  <span class="nf">print</span><span class="p">(</span><span class="n">img</span><span class="p">.</span><span class="n">shape</span><span class="p">)</span>

  <span class="c1">## Canvas와 사용할 축을 2x2 grid의 형태로 만들자.
</span>  <span class="n">fig</span><span class="o">=</span><span class="n">plt</span><span class="p">.</span><span class="nf">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span><span class="mi">4</span><span class="p">))</span>
  <span class="n">ax1</span><span class="o">=</span><span class="n">fig</span><span class="p">.</span><span class="nf">add_subplot</span><span class="p">(</span><span class="mi">221</span><span class="p">)</span>
  <span class="n">ax2</span><span class="o">=</span><span class="n">fig</span><span class="p">.</span><span class="nf">add_subplot</span><span class="p">(</span><span class="mi">222</span><span class="p">)</span>
  <span class="n">ax3</span><span class="o">=</span><span class="n">fig</span><span class="p">.</span><span class="nf">add_subplot</span><span class="p">(</span><span class="mi">223</span><span class="p">)</span>
  <span class="n">ax4</span><span class="o">=</span><span class="n">fig</span><span class="p">.</span><span class="nf">add_subplot</span><span class="p">(</span><span class="mi">224</span><span class="p">)</span>

  <span class="c1">## 첫번째 axis에는 각 화상(pixel)에서 0~255사이의
</span>  <span class="c1"># 값들이 어떻게 분포하는지 histogram으로 그리자.
</span>  <span class="n">ax1</span><span class="p">.</span><span class="nf">hist</span><span class="p">(</span><span class="n">img</span><span class="p">.</span><span class="nf">flatten</span><span class="p">())</span>
  <span class="c1"># 그리고 그 옆에 불러온 SEM 이미지를 그려보자.
</span>  <span class="n">ax2</span><span class="p">.</span><span class="nf">imshow</span><span class="p">(</span><span class="n">img</span><span class="p">,</span><span class="n">cmap</span><span class="o">=</span><span class="sh">'</span><span class="s">gray</span><span class="sh">'</span><span class="p">)</span>

  <span class="c1">## 아래는 ferrite상과 martensite 상을 구분하는 간단한 예시를 살펴보자.
</span>
  <span class="c1">#newimg=img.copy()
</span>  <span class="c1">#flg=img&gt;img.mean()
</span>  <span class="c1">#newimg[flg]=255
</span>  <span class="c1">#newimg[~flg]=0
</span>  <span class="c1">#h=ax3.hist(newimg.flatten())
</span>  <span class="c1">#ax4.imshow(newimg,cmap='gray')
</span>  <span class="c1">#for i, ax in enumerate([ax1,ax3]):
</span>  <span class="c1">#    ax.set_ylim(0,300000)
</span>
  <span class="c1">#white,black=h[0][0],h[0][-1]
</span>  <span class="c1">#ferrite=white/(white+black)
</span>  <span class="c1">#martensite=black/(white+black)
</span>  <span class="c1">#print(ferrite,martensite)
</span></code></pre></div> </div> </li> <li> <p>아래 세 이미지는 한 dual-phase 시편 내의 각기 다른 3 위치에서 촬영한 SEM image이다. 위에서 다뤘던 내용을 익혀 적용하고, 이를 바탕으로 이 시편에서의 ferrite와 martensite 분율을 고르시오.</p> <p><img src="data/centercenter.png" alt="imag"> <img src="data/edgecenter.png" alt="imag"> <img src="data/edgeedge.png" alt="imag"></p> <ul> <li>위 SEM 사진을 다음 링크를 활용해 다운 받자:</li> </ul> <p><a href="data/centercenter.png">사진1</a> <a href="data/edgecenter.png">사진2</a> <a href="data/edgeedge.png">사진3</a></p> </li> </ul> <h2 id="수업-12-2">수업 12-2</h2> <ul> <li>수업 12-1 내용을 Argparse를 활용해 CLI 프로그램으로 작성해보자.</li> <li>EBSD data 분석</li> </ul> <h1 id="week13-내삽과-외삽-선형회귀">Week13 (내삽과 외삽, 선형회귀)</h1> <h2 id="수업-13-1">수업 13-1</h2> <h2 id="수업-13-2">수업 13-2</h2> <h1 id="week14">Week14</h1> <h2 id="수업-14-1">수업 14-1</h2> <ul> <li>실습 예시 <ul> <li>금속 합금 조성 (Cu %) vs 전기 전도도</li> </ul> </li> </ul> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="n">numpy</span> <span class="k">as</span> <span class="n">np</span>
<span class="kn">import</span> <span class="n">matplotlib.pyplot</span> <span class="k">as</span> <span class="n">plt</span>

<span class="c1"># 예제: 금속 합금 조성(Cu %) vs 전기 전도도
</span><span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="nf">array</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">15</span><span class="p">,</span> <span class="mi">20</span><span class="p">])</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="nf">array</span><span class="p">([</span><span class="mi">58</span><span class="p">,</span> <span class="mi">55</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="mi">45</span><span class="p">,</span> <span class="mi">42</span><span class="p">])</span>  <span class="c1"># 전도도 W/mK
</span>
<span class="n">plt</span><span class="p">.</span><span class="nf">scatter</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="sh">'</span><span class="s">b</span><span class="sh">'</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="sh">'</span><span class="s">Data</span><span class="sh">'</span><span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="nf">xlabel</span><span class="p">(</span><span class="sh">"</span><span class="s">Cu content [%]</span><span class="sh">"</span><span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="nf">ylabel</span><span class="p">(</span><span class="sh">"</span><span class="s">Electrical Conductivity [W/mK]</span><span class="sh">"</span><span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="nf">title</span><span class="p">(</span><span class="sh">"</span><span class="s">Conductivity vs Cu content</span><span class="sh">"</span><span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="nf">grid</span><span class="p">(</span><span class="bp">True</span><span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="nf">legend</span><span class="p">()</span>
<span class="n">plt</span><span class="p">.</span><span class="nf">show</span><span class="p">()</span>
</code></pre></div></div> <h2 id="수업-14-2">수업 14-2</h2> <h1 id="week15-기말고사">Week15 (기말고사)</h1> <h2 id="수업-15-1">수업 15-1</h2> <h2 id="수업-15-2">수업 15-2</h2> </article> </div> </div> </div> </div> <footer class="fixed-bottom" role="contentinfo"> <div class="container mt-0"> © Copyright 2025 . Powered by <a href="https://jekyllrb.com/" target="_blank" rel="external nofollow noopener">Jekyll</a> with <a href="https://github.com/alshedivat/al-folio" rel="external nofollow noopener" target="_blank">al-folio</a> theme. Hosted by <a href="https://pages.github.com/" target="_blank" rel="external nofollow noopener">GitHub Pages</a>. Photos from <a href="https://unsplash.com" target="_blank" rel="external nofollow noopener">Unsplash</a>. Last updated: August 28, 2025. </div> </footer> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script src="/assets/js/bootstrap.bundle.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@5.0.0/imagesloaded.pkgd.min.js" integrity="sha256-htrLFfZJ6v5udOG+3kNLINIKh2gvoKqwEhHYfTTMICc=" crossorigin="anonymous"></script> <script defer src="/assets/js/masonry.js?a0db7e5d5c70cc3252b3138b0c91dcaf" type="text/javascript"></script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.1.0/dist/medium-zoom.min.js" integrity="sha256-ZgMyDAIYDYGxbcpJcfUnYwNevG/xi9OHKaR/8GK+jWc=" crossorigin="anonymous"></script> <script defer src="/assets/js/zoom.js?85ddb88934d28b74e78031fd54cf8308"></script> <script defer src="/assets/js/bootstrap-toc.min.js?c82ff4de8b0955d6ff14f5b05eed7eb6"></script> <script src="/assets/js/no_defer.js?2781658a0a2b13ed609542042a859126"></script> <script defer src="/assets/js/common.js?e0514a05c5c95ac1a93a8dfd5249b92e"></script> <script defer src="/assets/js/copy_code.js?c8a01c11a92744d44b093fc3bda915df" type="text/javascript"></script> <script defer src="/assets/js/jupyter_new_tab.js?d9f17b6adc2311cbabd747f4538bb15f"></script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-mml-chtml.js" integrity="sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI=" crossorigin="anonymous"></script> <script src="/assets/js/mathjax-setup.js?a5bb4e6a542c546dd929b24b8b236dfd"></script> <script defer src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6" crossorigin="anonymous"></script> <script defer src="/assets/js/progress-bar.js?2f30e0e6801ea8f5036fa66e1ab0a71a" type="text/javascript"></script> <script src="/assets/js/vanilla-back-to-top.min.js?f40d453793ff4f64e238e420181a1d17"></script> <script>
    addBackToTop();
  </script> <script type="module" src="/assets/js/search/ninja-keys.min.js?a3446f084dcaecc5f75aa1757d087dcf"></script> <ninja-keys hidebreadcrumbs noautoloadmdicons placeholder="Type to start searching"></ninja-keys> <script src="/assets/js/search-setup.js?6c304f7b1992d4b60f7a07956e52f04a"></script> <script src="/assets/js/search-data.js"></script> <script src="/assets/js/shortcut-key.js?6f508d74becd347268a7f822bca7309d"></script> </body> </html>